{"id":"blessed-0t8","title":"EPIC: bitecs ECS Core","description":"Epic for Entity Component System foundation.\n\nNew architecture covering:\n- World creation and management\n- Entity lifecycle (create, destroy, recycle)\n- Component definitions for all UI elements\n- System scheduler and execution order\n- Query definitions for efficient iteration\n- Archetype management\n- Serialization/deserialization\n- Debug utilities\n\nThis is the architectural foundation for the entire rewrite.","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:02.836211269-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:02.836211269-05:00"}
{"id":"blessed-0t8.1","title":"Define Position component","description":"Create Position component for entity positioning.\n\nComponent definition:\n```typescript\nconst Position = defineComponent({\n  x: Types.f32,      // X coordinate\n  y: Types.f32,      // Y coordinate\n  z: Types.ui16,     // Z-index for layering\n  absolute: Types.ui8, // 0=relative to parent, 1=absolute\n})\n```\n\nTasks:\n1. Create src/components/position.ts\n2. Define Position component with bitecs\n3. Export component and helper functions:\n   - setPosition(world, eid, x, y, z?)\n   - getPosition(world, eid): {x, y, z}\n4. Create Zod schema for position validation\n\nTesting:\n- Test component creation\n- Test set/get helpers\n- Test z-index ordering\n- Verify strict types work\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:10.90540469-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:10.90540469-05:00","dependencies":[{"issue_id":"blessed-0t8.1","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:10.907459214-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.10","title":"Define Interactive component","description":"Create Interactive component for mouse/keyboard interaction.\n\nComponent definition:\n```typescript\nconst Interactive = defineComponent({\n  clickable: Types.ui8,    // 0=no, 1=yes\n  draggable: Types.ui8,    // 0=no, 1=yes\n  hoverable: Types.ui8,    // 0=no, 1=yes\n  hovered: Types.ui8,      // 0=no, 1=yes (current state)\n  pressed: Types.ui8,      // 0=no, 1=yes (current state)\n  keyable: Types.ui8,      // 0=no, 1=yes (receives key events)\n  hoverEffectFg: Types.ui32,\n  hoverEffectBg: Types.ui32,\n})\n```\n\nTasks:\n1. Create src/components/interactive.ts\n2. Define Interactive component with bitecs\n3. Export helper functions:\n   - setClickable(world, eid, clickable)\n   - setDraggable(world, eid, draggable)\n   - setHoverable(world, eid, hoverable)\n   - isHovered(world, eid)\n   - isPressed(world, eid)\n4. Create Zod schema for interactive config\n\nTesting:\n- Test state toggles\n- Test hover/press state management\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:19:11.913125316-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:19:11.913125316-05:00","dependencies":[{"issue_id":"blessed-0t8.10","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:19:11.914445935-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.11","title":"Define Label component","description":"Create Label component for element labels.\n\nComponent definition:\n```typescript\nconst Label = defineComponent({\n  labelId: Types.ui32,     // Reference to label text store\n  position: Types.ui8,     // 0=top-left, 1=top-center, 2=top-right, etc.\n  offsetX: Types.i8,\n  offsetY: Types.i8,\n})\n```\n\nTasks:\n1. Create src/components/label.ts\n2. Define Label component with bitecs\n3. Define LabelPosition enum\n4. Export helper functions:\n   - setLabel(world, eid, text, position?)\n   - getLabel(world, eid): string\n   - removeLabel(world, eid)\n5. Create Zod schema for label config\n\nTesting:\n- Test label setting/getting\n- Test position options\n- Test offset handling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:19:18.906813413-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:19:18.906813413-05:00","dependencies":[{"issue_id":"blessed-0t8.11","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:19:18.923179254-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.12","title":"Create system scheduler","description":"Create system scheduler for ordered execution.\n\nTasks:\n1. Create src/core/scheduler.ts\n2. Define SystemPhase enum:\n   - INPUT: Process input events\n   - UPDATE: Game logic updates\n   - LAYOUT: Calculate positions/sizes\n   - RENDER: Render to screen buffer\n   - POST_RENDER: Cleanup\n\n3. Create Scheduler class:\n   - registerSystem(phase, system, priority?)\n   - unregisterSystem(system)\n   - run(world, delta): Execute all systems in order\n   - getSystemsForPhase(phase): System[]\n\n4. Export createScheduler() factory\n\nTesting:\n- Test system registration/unregistration\n- Test phase ordering\n- Test priority within phase\n- Test delta time passing\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:19:26.057459452-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:19:26.057459452-05:00","dependencies":[{"issue_id":"blessed-0t8.12","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:19:26.059269778-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.13","title":"Create entity factory functions","description":"Create typed entity factory functions.\n\nTasks:\n1. Create src/core/entities.ts\n2. Define entity archetypes:\n   - createScreenEntity(world, config): Entity\n   - createBoxEntity(world, config): Entity\n   - createTextEntity(world, config): Entity\n   - createButtonEntity(world, config): Entity\n   - etc.\n\n3. Each factory should:\n   - Create entity with addEntity()\n   - Add required components for type\n   - Initialize with config values\n   - Return typed entity\n\n4. Use Zod for config validation\n\nTesting:\n- Test each factory creates correct components\n- Test config validation\n- Test default values\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:19:31.535725039-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:19:31.535725039-05:00","dependencies":[{"issue_id":"blessed-0t8.13","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:19:31.537221897-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.14","title":"Create common queries","description":"Create reusable bitecs queries.\n\nTasks:\n1. Create src/core/queries.ts\n2. Define common queries:\n   - renderableQuery: Entities with Position + Dimensions + Renderable\n   - focusableQuery: Entities with Focusable\n   - interactiveQuery: Entities with Interactive\n   - scrollableQuery: Entities with Scrollable\n   - visibleQuery: Renderable where visible=1\n   - dirtyQuery: Renderable where dirty=1\n   - childrenQuery(parent): Hierarchy where parent=eid\n\n3. Export query factory functions where parameterized\n\nTesting:\n- Test each query returns correct entities\n- Test query performance with many entities\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:19:37.966881816-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:19:37.966881816-05:00","dependencies":[{"issue_id":"blessed-0t8.14","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:19:37.967867029-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.2","title":"Define Dimensions component","description":"Create Dimensions component for entity sizing.\n\nComponent definition:\n```typescript\nconst Dimensions = defineComponent({\n  width: Types.f32,   // Width (can be percentage encoded)\n  height: Types.f32,  // Height (can be percentage encoded)\n  minWidth: Types.f32,\n  minHeight: Types.f32,\n  maxWidth: Types.f32,\n  maxHeight: Types.f32,\n  shrink: Types.ui8,  // 0=no, 1=shrink to content\n})\n```\n\nTasks:\n1. Create src/components/dimensions.ts\n2. Define Dimensions component with bitecs\n3. Export helper functions:\n   - setDimensions(world, eid, width, height)\n   - getDimensions(world, eid)\n   - setConstraints(world, eid, min, max)\n4. Create Zod schema for dimension validation\n5. Support percentage values (encoded as negative or special flag)\n\nTesting:\n- Test component creation\n- Test percentage dimension encoding\n- Test constraint validation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:17.26283392-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:17.26283392-05:00","dependencies":[{"issue_id":"blessed-0t8.2","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:17.265367642-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.3","title":"Define Renderable component","description":"Create Renderable component for visual entities.\n\nComponent definition:\n```typescript\nconst Renderable = defineComponent({\n  visible: Types.ui8,     // 0=hidden, 1=visible\n  dirty: Types.ui8,       // 0=clean, 1=needs redraw\n  fg: Types.ui32,         // Foreground color (packed RGBA)\n  bg: Types.ui32,         // Background color (packed RGBA)\n  bold: Types.ui8,\n  underline: Types.ui8,\n  blink: Types.ui8,\n  inverse: Types.ui8,\n  transparent: Types.ui8,\n})\n```\n\nTasks:\n1. Create src/components/renderable.ts\n2. Define Renderable component with bitecs\n3. Export helper functions:\n   - setStyle(world, eid, style)\n   - getStyle(world, eid)\n   - markDirty(world, eid)\n   - isVisible(world, eid)\n4. Create Zod schema for style validation\n\nTesting:\n- Test style setting/getting\n- Test dirty flag management\n- Test color packing/unpacking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:23.938310792-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:23.938310792-05:00","dependencies":[{"issue_id":"blessed-0t8.3","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:23.939349207-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.4","title":"Define Hierarchy component","description":"Create Hierarchy component for parent/child relationships.\n\nComponent definition:\n```typescript\nconst Hierarchy = defineComponent({\n  parent: Types.eid,      // Parent entity ID (0 = no parent)\n  firstChild: Types.eid,  // First child entity\n  nextSibling: Types.eid, // Next sibling entity\n  prevSibling: Types.eid, // Previous sibling entity\n  childCount: Types.ui16, // Number of children\n  depth: Types.ui16,      // Tree depth (0 = root)\n})\n```\n\nTasks:\n1. Create src/components/hierarchy.ts\n2. Define Hierarchy component with bitecs\n3. Export helper functions:\n   - setParent(world, child, parent)\n   - appendChild(world, parent, child)\n   - removeChild(world, parent, child)\n   - getChildren(world, parent): Entity[]\n   - getAncestors(world, eid): Entity[]\n   - getDescendants(world, eid): Entity[]\n\nTesting:\n- Test parent/child linking\n- Test sibling ordering\n- Test tree traversal\n- Test orphaning\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:30.500908577-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:30.500908577-05:00","dependencies":[{"issue_id":"blessed-0t8.4","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:30.501857887-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.5","title":"Define Border component","description":"Create Border component for element borders.\n\nComponent definition:\n```typescript\nconst Border = defineComponent({\n  type: Types.ui8,        // 0=none, 1=line, 2=bg, 3=custom\n  left: Types.ui8,        // 0=no, 1=yes\n  top: Types.ui8,\n  right: Types.ui8,\n  bottom: Types.ui8,\n  fg: Types.ui32,         // Border foreground color\n  bg: Types.ui32,         // Border background color\n  charTopLeft: Types.ui32,     // Unicode codepoint\n  charTopRight: Types.ui32,\n  charBottomLeft: Types.ui32,\n  charBottomRight: Types.ui32,\n  charHorizontal: Types.ui32,\n  charVertical: Types.ui32,\n})\n```\n\nTasks:\n1. Create src/components/border.ts\n2. Define Border component with bitecs\n3. Define BorderType enum\n4. Export helper functions:\n   - setBorder(world, eid, config)\n   - getBorder(world, eid)\n   - setBorderChars(world, eid, chars)\n5. Create Zod schema for border config\n6. Define preset border styles (single, double, rounded, bold)\n\nTesting:\n- Test border type setting\n- Test individual side toggling\n- Test custom character configuration\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:37.575933314-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:37.575933314-05:00","dependencies":[{"issue_id":"blessed-0t8.5","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:37.577511571-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.6","title":"Define Padding component","description":"Create Padding component for element spacing.\n\nComponent definition:\n```typescript\nconst Padding = defineComponent({\n  left: Types.ui8,\n  top: Types.ui8,\n  right: Types.ui8,\n  bottom: Types.ui8,\n})\n```\n\nTasks:\n1. Create src/components/padding.ts\n2. Define Padding component with bitecs\n3. Export helper functions:\n   - setPadding(world, eid, padding)\n   - getPadding(world, eid)\n   - setPaddingAll(world, eid, value)\n4. Create Zod schema for padding config\n5. Support shorthand (single value = all sides)\n\nTesting:\n- Test individual side setting\n- Test shorthand expansion\n- Test zero padding edge case\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:43.244865885-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:43.244865885-05:00","dependencies":[{"issue_id":"blessed-0t8.6","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:43.246200374-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.7","title":"Define Content component","description":"Create Content component for text content storage.\n\nSince bitecs doesn't support strings, we need a strategy:\n- Use a separate Map\u003cEntity, string\u003e for content\n- Store content hash/length in component for change detection\n\nComponent definition:\n```typescript\nconst Content = defineComponent({\n  contentId: Types.ui32,   // Reference to content store\n  length: Types.ui32,      // Content length\n  hash: Types.ui32,        // Content hash for change detection\n  wrap: Types.ui8,         // 0=no wrap, 1=wrap\n  align: Types.ui8,        // 0=left, 1=center, 2=right\n  valign: Types.ui8,       // 0=top, 1=middle, 2=bottom\n  parseTags: Types.ui8,    // 0=no, 1=parse markup tags\n})\n```\n\nTasks:\n1. Create src/components/content.ts\n2. Create ContentStore class for string management\n3. Define Content component with bitecs\n4. Export helper functions:\n   - setContent(world, eid, text)\n   - getContent(world, eid): string\n   - appendContent(world, eid, text)\n   - clearContent(world, eid)\n5. Create Zod schema for content config\n\nTesting:\n- Test content setting/getting\n- Test hash change detection\n- Test content store cleanup on entity removal\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:51.321275879-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:51.321275879-05:00","dependencies":[{"issue_id":"blessed-0t8.7","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:51.32221405-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.8","title":"Define Scrollable component","description":"Create Scrollable component for scrolling support.\n\nComponent definition:\n```typescript\nconst Scrollable = defineComponent({\n  scrollX: Types.f32,      // Horizontal scroll offset\n  scrollY: Types.f32,      // Vertical scroll offset\n  scrollWidth: Types.f32,  // Total scrollable width\n  scrollHeight: Types.f32, // Total scrollable height\n  scrollbarVisible: Types.ui8, // 0=hidden, 1=visible, 2=auto\n  trackVisible: Types.ui8,\n  alwaysScroll: Types.ui8, // 0=no, 1=always show scrollbar\n})\n```\n\nTasks:\n1. Create src/components/scrollable.ts\n2. Define Scrollable component with bitecs\n3. Export helper functions:\n   - setScroll(world, eid, x, y)\n   - getScroll(world, eid)\n   - scrollBy(world, eid, dx, dy)\n   - scrollTo(world, eid, x, y)\n   - getScrollPercentage(world, eid)\n4. Create Zod schema for scroll config\n\nTesting:\n- Test scroll position setting\n- Test scroll boundaries\n- Test percentage calculations\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:57.71338574-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:57.71338574-05:00","dependencies":[{"issue_id":"blessed-0t8.8","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:57.714429124-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.9","title":"Define Focusable component","description":"Create Focusable component for focus management.\n\nComponent definition:\n```typescript\nconst Focusable = defineComponent({\n  focusable: Types.ui8,    // 0=not focusable, 1=focusable\n  focused: Types.ui8,      // 0=not focused, 1=focused\n  tabIndex: Types.i16,     // Tab order (-1 = not in tab order)\n  focusEffectFg: Types.ui32,\n  focusEffectBg: Types.ui32,\n})\n```\n\nTasks:\n1. Create src/components/focusable.ts\n2. Define Focusable component with bitecs\n3. Export helper functions:\n   - setFocusable(world, eid, focusable)\n   - isFocused(world, eid)\n   - focus(world, eid) - also unfocuses others\n   - blur(world, eid)\n   - getTabOrder(world): Entity[]\n4. Create Zod schema for focus config\n\nTesting:\n- Test focus/blur\n- Test tab order calculation\n- Test single-focus enforcement\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:19:04.316857104-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:19:04.316857104-05:00","dependencies":[{"issue_id":"blessed-0t8.9","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:19:04.318330443-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j","title":"EPIC: Core Infrastructure \u0026 Build System","description":"Foundation epic for project setup and build tooling.\n\nThis epic covers:\n- TypeScript configuration with strict mode\n- Package.json with pnpm\n- Biome linting configuration  \n- Vitest testing framework\n- bitecs integration\n- Zod schema foundation\n- Source directory structure\n\nAll subsequent work depends on this epic being complete.","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:15:18.21483721-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:15:18.21483721-05:00"}
{"id":"blessed-19j.1","title":"Initialize pnpm and package.json","description":"Create modern package.json with pnpm.\n\nTasks:\n1. Initialize pnpm with 'pnpm init'\n2. Set package name to '@blessed/core' or similar\n3. Set type: 'module' for ESM\n4. Add engines field requiring Node 20+\n5. Configure exports field for proper module resolution\n6. Add scripts: dev, build, test, lint, typecheck\n\nTesting:\n- Verify pnpm install works\n- Verify package.json validates\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:17:29.068801957-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:17:29.068801957-05:00","dependencies":[{"issue_id":"blessed-19j.1","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:17:29.069994709-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.2","title":"Configure TypeScript with strict mode","description":"Set up TypeScript with maximum strictness.\n\nConfiguration requirements:\n- strict: true\n- noUncheckedIndexedAccess: true\n- noImplicitReturns: true\n- noFallthroughCasesInSwitch: true\n- noUnusedLocals: true\n- noUnusedParameters: true\n- exactOptionalPropertyTypes: true\n- noPropertyAccessFromIndexSignature: true\n- forceConsistentCasingInFileNames: true\n- target: ES2022\n- module: NodeNext\n- moduleResolution: NodeNext\n- declaration: true\n- declarationMap: true\n- sourceMap: true\n- outDir: ./dist\n- rootDir: ./src\n\nTesting:\n- Create a simple test.ts file and verify tsc compiles it\n- Verify strict errors are caught (test with intentional any)\n\nDo not bypass TypeScript errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:17:35.41513063-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:17:35.41513063-05:00","dependencies":[{"issue_id":"blessed-19j.2","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:17:35.416368996-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.3","title":"Install and configure Biome linter","description":"Set up Biome for linting and formatting.\n\nConfiguration requirements:\n- Enable all recommended rules\n- Configure for TypeScript\n- Set indentation to tabs or 2 spaces (consistent)\n- Enable format on save\n- Configure import sorting\n- Add lint script to package.json\n- Add format script to package.json\n\nTesting:\n- Run biome check on test file\n- Verify lint errors are caught\n- Verify formatting works\n\nDo not bypass Biome errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:17:40.29063841-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:17:40.29063841-05:00","dependencies":[{"issue_id":"blessed-19j.3","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:17:40.292206662-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.4","title":"Install and configure Vitest","description":"Set up Vitest testing framework.\n\nConfiguration requirements:\n- Install vitest as dev dependency\n- Create vitest.config.ts\n- Configure for TypeScript\n- Set up test directory structure (src/__tests__ or tests/)\n- Configure coverage reporting\n- Add test scripts to package.json: test, test:watch, test:coverage\n\nTesting:\n- Create a simple test file\n- Verify tests run\n- Verify coverage works\n\nDo not bypass test failures. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:17:44.971589709-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:17:44.971589709-05:00","dependencies":[{"issue_id":"blessed-19j.4","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:17:44.976004238-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.5","title":"Install bitecs and create world setup","description":"Install bitecs and create initial ECS infrastructure.\n\nTasks:\n1. Install bitecs: pnpm add bitecs\n2. Create src/core/world.ts with:\n   - createGameWorld() function\n   - World type export\n   - Basic world configuration\n\n3. Create src/core/types.ts with:\n   - Entity type alias\n   - Component type helpers\n   - System type definition\n\nTesting:\n- Write test that creates a world\n- Write test that adds/removes entities\n- Verify bitecs types work with strict TypeScript\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:17:50.611450556-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:17:50.611450556-05:00","dependencies":[{"issue_id":"blessed-19j.5","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:17:50.61289623-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.6","title":"Install Zod and create schema foundation","description":"Install Zod and create base schemas.\n\nTasks:\n1. Install zod: pnpm add zod\n2. Create src/schemas/index.ts\n3. Create src/schemas/common.ts with:\n   - PositiveInt schema\n   - NonNegativeInt schema\n   - Percentage schema (0-100)\n   - ColorString schema\n   - Dimension schema (number or percentage string)\n\n4. Create src/schemas/config.ts with:\n   - BaseConfigSchema for common options\n\nTesting:\n- Write tests for each schema\n- Verify validation errors are descriptive\n- Verify type inference works\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:17:57.253233545-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:17:57.253233545-05:00","dependencies":[{"issue_id":"blessed-19j.6","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:17:57.254960843-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.7","title":"Create source directory structure","description":"Create the complete source directory structure.\n\nDirectory structure:\nsrc/\n├── core/           # Core ECS and systems\n├── terminal/       # Terminal I/O layer\n├── components/     # bitecs components\n├── systems/        # bitecs systems\n├── widgets/        # High-level UI widgets\n├── schemas/        # Zod validation schemas\n├── utils/          # Utility functions\n├── types/          # TypeScript type definitions\n└── index.ts        # Public API exports\n\nTasks:\n1. Create all directories\n2. Create placeholder index.ts in each\n3. Create main src/index.ts with basic exports\n4. Verify build works with empty structure\n\nTesting:\n- Verify TypeScript compiles\n- Verify imports resolve correctly\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:03.369190418-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:03.369190418-05:00","dependencies":[{"issue_id":"blessed-19j.7","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:18:03.370868271-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.8","title":"Create integration test suite","description":"Create integration tests for the library.\n\nTasks:\n1. Create tests/integration/ directory\n2. Integration test categories:\n   - Rendering tests (visual output verification)\n   - Input tests (simulated key/mouse events)\n   - Widget lifecycle tests\n   - Full game loop tests\n\n3. Create test utilities:\n   - createTestScreen(): Mock screen for testing\n   - simulateKey(key): void\n   - simulateMouse(x, y, button): void\n   - captureOutput(): string[]\n\n4. Test scenarios:\n   - Create game -\u003e add widgets -\u003e render\n   - Input handling flow\n   - Focus navigation\n   - State machine transitions\n\nTesting:\n- All integration tests pass\n- Coverage \u003e 80%\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:33:00.3451178-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:33:00.3451178-05:00","dependencies":[{"issue_id":"blessed-19j.8","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:33:00.346688775-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.9","title":"Create snapshot testing for rendering","description":"Create snapshot tests for visual regression.\n\nTasks:\n1. Create tests/snapshots/ directory\n2. Snapshot testing utilities:\n   - renderToString(entity): string (render to text)\n   - compareSnapshot(name, output): boolean\n   - updateSnapshot(name, output): void\n\n3. Snapshot categories:\n   - Each widget type\n   - Border styles\n   - Color rendering\n   - Scrollbars\n   - Complex layouts\n\n4. Integration with Vitest snapshots\n\nTesting:\n- Snapshots match expected output\n- Easy to update when intentional changes\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:33:06.707770403-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:33:06.707770403-05:00","dependencies":[{"issue_id":"blessed-19j.9","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:33:06.709074629-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-294","title":"EPIC: Dialog \u0026 Message Widgets","description":"Epic for dialog and message widgets.\n\nCovers Message, Prompt, Question, Loading:\n- Message notification display\n- Prompt text input dialog\n- Question yes/no dialog\n- Loading spinner indicator\n- Modal overlay system\n- Auto-dismiss timers\n- All with bitecs components and state machines","status":"open","priority":2,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:33.159422678-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:33.159422678-05:00"}
{"id":"blessed-294.1","title":"Create Message widget","description":"Create temporary message/notification widget.\n\nTasks:\n1. Create src/widgets/message.ts\n2. Define MessageConfig Zod schema:\n   - timeout: number (seconds, 0=manual dismiss)\n   - dismissOnClick: boolean\n   - dismissOnKey: boolean\n   - type: 'info' | 'warning' | 'error' | 'success'\n   - style per type\n\n3. Create factory: createMessage(world, config): Entity\n4. Methods:\n   - showMessage(world, text, options): Entity\n   - hideMessage(world, entity)\n   - showError(world, text, options): Entity\n   - showSuccess(world, text, options): Entity\n\n5. Auto-dismiss timer\n6. Center on screen by default\n\nTesting:\n- Test message display\n- Test auto-dismiss\n- Test manual dismiss\n- Test message types\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:03.001323461-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:03.001323461-05:00","dependencies":[{"issue_id":"blessed-294.1","depends_on_id":"blessed-294","type":"parent-child","created_at":"2026-02-01T11:29:03.003080753-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-294.2","title":"Create Prompt widget","description":"Create text input prompt dialog.\n\nTasks:\n1. Create src/widgets/prompt.ts\n2. Define PromptConfig Zod schema:\n   - message: string (prompt text)\n   - defaultValue: string\n   - placeholder: string\n   - validator: Zod schema\n\n3. Create factory: createPrompt(world, config): Entity\n4. Components:\n   - Message label\n   - Textbox input\n   - OK button\n   - Cancel button\n\n5. Method:\n   - prompt(world, message, options): Promise\u003cstring | null\u003e\n\n6. Key bindings:\n   - Enter: submit\n   - Escape: cancel\n\nTesting:\n- Test prompt display\n- Test input capture\n- Test validation\n- Test cancel\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:09.230321129-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:09.230321129-05:00","dependencies":[{"issue_id":"blessed-294.2","depends_on_id":"blessed-294","type":"parent-child","created_at":"2026-02-01T11:29:09.231742385-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-294.3","title":"Create Question widget","description":"Create yes/no confirmation dialog.\n\nTasks:\n1. Create src/widgets/question.ts\n2. Define QuestionConfig Zod schema:\n   - message: string\n   - yesText: string (default 'Yes')\n   - noText: string (default 'No')\n   - defaultAnswer: boolean\n\n3. Create factory: createQuestion(world, config): Entity\n4. Components:\n   - Message label\n   - Yes button\n   - No button\n\n5. Method:\n   - ask(world, message, options): Promise\u003cboolean\u003e\n   - confirm(world, message): Promise\u003cboolean\u003e\n\n6. Key bindings:\n   - y: yes\n   - n: no\n   - Enter: default\n   - Escape: no\n\nTesting:\n- Test question display\n- Test button navigation\n- Test keyboard shortcuts\n- Test default selection\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:14.975859355-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:14.975859355-05:00","dependencies":[{"issue_id":"blessed-294.3","depends_on_id":"blessed-294","type":"parent-child","created_at":"2026-02-01T11:29:14.976794635-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-294.4","title":"Create Loading widget","description":"Create loading spinner indicator.\n\nTasks:\n1. Create src/widgets/loading.ts\n2. Define LoadingConfig Zod schema:\n   - message: string\n   - spinnerChars: string[] (default ['|', '/', '-', '\\\\'])\n   - interval: number (animation speed ms)\n   - style: Style\n\n3. Create factory: createLoading(world, config): Entity\n4. Add Spinner component:\n```typescript\nconst SpinnerComponent = defineComponent({\n  frame: Types.ui8,\n  frameCount: Types.ui8,\n  interval: Types.ui16,\n  elapsed: Types.f32,\n})\n```\n\n5. Methods:\n   - showLoading(world, message): Entity\n   - hideLoading(world, entity)\n   - setLoadingMessage(world, entity, message)\n\n6. Create spinnerSystem to animate\n\nTesting:\n- Test spinner animation\n- Test message update\n- Test show/hide\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:26.276265419-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:26.276265419-05:00","dependencies":[{"issue_id":"blessed-294.4","depends_on_id":"blessed-294","type":"parent-child","created_at":"2026-02-01T11:29:26.277805241-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-294.5","title":"Create modal overlay system","description":"Create modal overlay/backdrop system.\n\nTasks:\n1. Create src/widgets/modal.ts\n2. Define ModalConfig Zod schema:\n   - backdrop: boolean (dim background)\n   - backdropColor: Color\n   - closeOnBackdropClick: boolean\n   - closeOnEscape: boolean\n\n3. Create factory: createModal(world, config): Entity\n4. Modal component tracks active modals (stack)\n5. Methods:\n   - openModal(world, content): Entity\n   - closeModal(world, entity)\n   - closeAllModals(world)\n   - isModalOpen(world): boolean\n\n6. Block input to background when modal open\n\nTesting:\n- Test modal display\n- Test backdrop rendering\n- Test input blocking\n- Test modal stacking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:32.74945426-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:32.74945426-05:00","dependencies":[{"issue_id":"blessed-294.5","depends_on_id":"blessed-294","type":"parent-child","created_at":"2026-02-01T11:29:32.750995971-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-2qm","title":"EPIC: Event System \u0026 State Machines","description":"Epic for event handling and state machine infrastructure.\n\nNew architecture covering:\n- Typed EventEmitter implementation\n- Event bubbling system\n- State machine framework (XState-inspired)\n- Configurable state transitions\n- State persistence\n- bitecs integration for event entities\n- Zod schemas for events and states\n\nThis is critical for game UI where state machines drive interactions.","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:15:52.313123661-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:15:52.313123661-05:00"}
{"id":"blessed-2qm.1","title":"Create typed EventEmitter","description":"Create strictly typed EventEmitter implementation.\n\nTasks:\n1. Create src/core/events.ts\n2. Define TypedEventEmitter\u003cEventMap\u003e class:\n   - Generic over event map type\n   - on\u003cK\u003e(event: K, handler): this\n   - once\u003cK\u003e(event: K, handler): this\n   - off\u003cK\u003e(event: K, handler): this\n   - emit\u003cK\u003e(event: K, ...args): boolean\n   - removeAllListeners(event?): this\n   - listenerCount(event): number\n\n3. Define base event map types:\n   - UIEventMap: click, keypress, focus, blur, etc.\n   - ScreenEventMap: resize, render, etc.\n\n4. Export factory: createEventEmitter\u003cT\u003e()\n\nTesting:\n- Test type safety (should fail on wrong event names)\n- Test listener registration/removal\n- Test once() behavior\n- Test emit return value\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:20:42.792234881-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:20:42.792234881-05:00","dependencies":[{"issue_id":"blessed-2qm.1","depends_on_id":"blessed-2qm","type":"parent-child","created_at":"2026-02-01T11:20:42.793833603-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-2qm.2","title":"Create event bubbling system","description":"Create event bubbling through element hierarchy.\n\nTasks:\n1. Create src/core/eventBubbling.ts\n2. Define BubbleableEvent interface:\n   - stopPropagation(): void\n   - stopImmediatePropagation(): void\n   - preventDefault(): void\n   - target: Entity\n   - currentTarget: Entity\n   - bubbles: boolean\n   - defaultPrevented: boolean\n\n3. Create bubbleEvent(world, event, startEntity) function:\n   - Emit to startEntity\n   - Walk up hierarchy via Hierarchy component\n   - Stop if stopPropagation called\n   - Handle capture phase (optional)\n\n4. Integrate with EventEmitter\n\nTesting:\n- Test event bubbles up hierarchy\n- Test stopPropagation stops bubbling\n- Test target vs currentTarget\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:20:49.779466151-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:20:49.779466151-05:00","dependencies":[{"issue_id":"blessed-2qm.2","depends_on_id":"blessed-2qm","type":"parent-child","created_at":"2026-02-01T11:20:49.781023254-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-2qm.3","title":"Create state machine framework","description":"Create configurable state machine system.\n\nTasks:\n1. Create src/core/stateMachine.ts\n2. Define StateMachineConfig\u003cStates, Events\u003e type:\n```typescript\ninterface StateMachineConfig\u003cS extends string, E extends string\u003e {\n  initial: S;\n  states: Record\u003cS, {\n    on?: Partial\u003cRecord\u003cE, S | { target: S; actions?: Action[] }\u003e\u003e;\n    entry?: Action[];\n    exit?: Action[];\n  }\u003e;\n}\n```\n\n3. Create StateMachine class:\n   - current: S (current state)\n   - send(event: E): void\n   - can(event: E): boolean\n   - matches(state: S): boolean\n   - subscribe(listener): unsubscribe\n\n4. Create Zod schema for config validation\n\nTesting:\n- Test state transitions\n- Test entry/exit actions\n- Test invalid transitions\n- Test subscription notifications\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:20:56.352445987-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:20:56.352445987-05:00","dependencies":[{"issue_id":"blessed-2qm.3","depends_on_id":"blessed-2qm","type":"parent-child","created_at":"2026-02-01T11:20:56.354026059-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-2qm.4","title":"Define StateMachine component","description":"Create bitecs component for entity state machines.\n\nComponent definition:\n```typescript\nconst StateMachineComponent = defineComponent({\n  machineId: Types.ui32,   // Reference to machine definition\n  currentState: Types.ui16, // Current state index\n  previousState: Types.ui16,\n  stateAge: Types.f32,     // Time in current state\n})\n```\n\nTasks:\n1. Create src/components/stateMachine.ts\n2. Define StateMachineComponent\n3. Create StateMachineStore for machine definitions\n4. Export helper functions:\n   - attachStateMachine(world, eid, config): void\n   - getState(world, eid): string\n   - sendEvent(world, eid, event): void\n   - getStateAge(world, eid): number\n\nTesting:\n- Test machine attachment\n- Test state retrieval\n- Test event sending\n- Test state age tracking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:02.487751655-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:02.487751655-05:00","dependencies":[{"issue_id":"blessed-2qm.4","depends_on_id":"blessed-2qm","type":"parent-child","created_at":"2026-02-01T11:21:02.489215701-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-2qm.5","title":"Create state machine system","description":"Create bitecs system for processing state machines.\n\nTasks:\n1. Create src/systems/stateMachineSystem.ts\n2. Define stateMachineSystem:\n   - Query entities with StateMachineComponent\n   - Update stateAge with delta time\n   - Process pending events\n   - Execute entry/exit actions\n   - Fire state change events\n\n3. Register in UPDATE phase\n\nTesting:\n- Test age updates\n- Test transition processing\n- Test action execution\n- Test multiple machines in one tick\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:08.034707651-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:08.034707651-05:00","dependencies":[{"issue_id":"blessed-2qm.5","depends_on_id":"blessed-2qm","type":"parent-child","created_at":"2026-02-01T11:21:08.036260285-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-2qm.6","title":"Create common UI state machines","description":"Define reusable state machine configs for common UI patterns.\n\nTasks:\n1. Create src/stateMachines/index.ts\n2. Define state machine configs:\n\nButtonStateMachine:\n- States: idle, hovered, pressed, disabled\n- Events: mouseenter, mouseleave, mousedown, mouseup, disable, enable\n\nFocusStateMachine:\n- States: unfocused, focused, disabled\n- Events: focus, blur, disable, enable\n\nToggleStateMachine:\n- States: off, on, disabled\n- Events: toggle, enable, disable\n\nInputStateMachine:\n- States: idle, focused, editing, validating, error, disabled\n- Events: focus, blur, input, validate, error, clear, disable\n\nSelectStateMachine:\n- States: closed, open, selecting\n- Events: open, close, select, cancel\n\nTesting:\n- Test each machine definition\n- Test common transitions\n- Test guard conditions\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:14.608899198-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:14.608899198-05:00","dependencies":[{"issue_id":"blessed-2qm.6","depends_on_id":"blessed-2qm","type":"parent-child","created_at":"2026-02-01T11:21:14.609858735-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i","title":"EPIC: Form \u0026 Input Widgets","description":"Epic for form and input widgets.\n\nCovers Form, Input, Button, Checkbox, RadioButton, RadioSet, Textbox, Textarea, ProgressBar:\n- Form container with field management\n- Button with press states\n- Checkbox toggle\n- RadioButton/RadioSet mutual exclusion\n- Textbox single-line input\n- Textarea multi-line input\n- ProgressBar indicator\n- Tab navigation between fields\n- Input validation with Zod\n- All with bitecs components and state machines","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:27.913043164-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:27.913043164-05:00"}
{"id":"blessed-b5i.1","title":"Create Form widget","description":"Create Form container widget.\n\nTasks:\n1. Create src/widgets/form.ts\n2. Define FormConfig Zod schema:\n   - Extends BoxConfig\n   - keys: boolean (enable tab navigation)\n\n3. Create factory: createForm(world, config): Entity\n4. Add Form component:\n```typescript\nconst FormComponent = defineComponent({\n  selectedField: Types.eid,\n  fieldCount: Types.ui16,\n})\n```\n\n5. Field management:\n   - focusNext(world, form)\n   - focusPrev(world, form)\n   - submit(world, form): Record\u003cstring, unknown\u003e\n   - reset(world, form)\n   - getFieldValues(world, form)\n\n6. Key bindings:\n   - Tab: next field\n   - Shift+Tab: previous field\n   - Enter: submit (if on last field)\n\nTesting:\n- Test field navigation\n- Test submit data collection\n- Test reset\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:28:04.297024272-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:28:04.297024272-05:00","dependencies":[{"issue_id":"blessed-b5i.1","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:28:04.298430829-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.2","title":"Create Button widget","description":"Create clickable Button widget.\n\nTasks:\n1. Create src/widgets/button.ts\n2. Define ButtonConfig Zod schema:\n   - content: string (button text)\n   - style.normal: Style\n   - style.focus: Style\n   - style.hover: Style\n   - style.pressed: Style\n   - shrink: boolean\n\n3. Create factory: createButton(world, config): Entity\n4. Add state machine:\n   - States: idle, hovered, pressed, focused, disabled\n   - Events: mouseenter, mouseleave, mousedown, mouseup, focus, blur, disable\n\n5. Key bindings:\n   - Enter: press\n   - Space: press\n\n6. Emit 'press' event on activation\n\nTesting:\n- Test button rendering in all states\n- Test keyboard activation\n- Test mouse click\n- Test disabled state\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:28:10.854392867-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:28:10.854392867-05:00","dependencies":[{"issue_id":"blessed-b5i.2","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:28:10.855960032-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.3","title":"Create Checkbox widget","description":"Create toggle Checkbox widget.\n\nTasks:\n1. Create src/widgets/checkbox.ts\n2. Define CheckboxConfig Zod schema:\n   - text: string (label)\n   - checked: boolean\n   - style.normal: Style\n   - style.checked: Style\n   - checkedChar: string (default '☑' or '[x]')\n   - uncheckedChar: string (default '☐' or '[ ]')\n\n3. Create factory: createCheckbox(world, config): Entity\n4. Add Toggle component:\n```typescript\nconst ToggleComponent = defineComponent({\n  checked: Types.ui8,\n})\n```\n\n5. State machine:\n   - States: unchecked, checked, disabled\n   - Events: toggle, enable, disable\n\n6. Key bindings:\n   - Enter: toggle\n   - Space: toggle\n\nTesting:\n- Test check/uncheck\n- Test visual state\n- Test keyboard toggle\n- Test mouse click\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:28:17.061388343-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:28:17.061388343-05:00","dependencies":[{"issue_id":"blessed-b5i.3","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:28:17.062456975-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.4","title":"Create RadioButton and RadioSet widgets","description":"Create radio button widgets for exclusive selection.\n\nTasks:\n1. Create src/widgets/radioButton.ts\n2. Create src/widgets/radioSet.ts\n\n3. Define RadioSetConfig:\n   - options: string[] (option labels)\n   - selected: number (initial selection)\n   - style.normal: Style\n   - style.selected: Style\n\n4. Define RadioButtonConfig:\n   - text: string\n   - value: string\n   - group: Entity (RadioSet parent)\n\n5. Create factories:\n   - createRadioSet(world, config): Entity\n   - createRadioButton(world, config): Entity\n\n6. RadioSet manages mutual exclusion:\n   - When one selected, others deselect\n   - Track selected in RadioSet component\n\n7. State machine:\n   - States: unselected, selected, disabled\n\nTesting:\n- Test mutual exclusion\n- Test keyboard selection\n- Test getSelectedValue\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:28:25.255260037-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:28:25.255260037-05:00","dependencies":[{"issue_id":"blessed-b5i.4","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:28:25.256909831-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.5","title":"Create Textbox widget","description":"Create single-line text input widget.\n\nTasks:\n1. Create src/widgets/textbox.ts\n2. Define TextboxConfig Zod schema:\n   - value: string\n   - placeholder: string\n   - secret: boolean (password mode - no display)\n   - censor: string (mask character, default '*')\n   - maxLength: number\n   - validator: Zod schema (optional)\n\n3. Create factory: createTextbox(world, config): Entity\n4. Add TextInput component:\n```typescript\nconst TextInputComponent = defineComponent({\n  cursorPos: Types.ui32,\n  selectionStart: Types.i32,  // -1 if no selection\n  selectionEnd: Types.i32,\n  inputMode: Types.ui8,  // 0=normal, 1=editing\n})\n```\n\n5. State machine:\n   - States: idle, focused, editing, error\n   - Events: focus, blur, input, validate, error\n\n6. Key bindings:\n   - Enter: submit\n   - Escape: cancel\n   - Backspace: delete char\n   - Delete: delete forward\n   - Left/Right: move cursor\n   - Home/End: jump to start/end\n\nTesting:\n- Test text input\n- Test cursor movement\n- Test password masking\n- Test validation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:28:32.522586766-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:28:32.522586766-05:00","dependencies":[{"issue_id":"blessed-b5i.5","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:28:32.524204692-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.6","title":"Create Textarea widget","description":"Create multi-line text input widget.\n\nTasks:\n1. Create src/widgets/textarea.ts\n2. Define TextareaConfig Zod schema:\n   - Extends TextboxConfig\n   - rows: number (visible rows)\n   - scrollable: boolean\n\n3. Create factory: createTextarea(world, config): Entity\n4. Extend TextInput component or create new\n5. Handle:\n   - Multi-line editing\n   - Line wrapping\n   - Scroll when content exceeds view\n\n6. Key bindings:\n   - Enter: new line\n   - Ctrl+Enter or Escape: submit\n   - Ctrl+C: cancel\n\nTesting:\n- Test multi-line input\n- Test scrolling\n- Test line wrapping\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:28:38.668483483-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:28:38.668483483-05:00","dependencies":[{"issue_id":"blessed-b5i.6","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:28:38.669849047-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.7","title":"Create ProgressBar widget","description":"Create progress indicator widget.\n\nTasks:\n1. Create src/widgets/progressBar.ts\n2. Define ProgressBarConfig Zod schema:\n   - value: number (0-100)\n   - orientation: 'horizontal' | 'vertical'\n   - char: string (fill character)\n   - style.bar: Style\n   - style.background: Style\n   - showPercentage: boolean\n\n3. Create factory: createProgressBar(world, config): Entity\n4. Add Progress component:\n```typescript\nconst ProgressComponent = defineComponent({\n  value: Types.f32,      // 0-100\n  min: Types.f32,        // Default 0\n  max: Types.f32,        // Default 100\n  orientation: Types.ui8,\n})\n```\n\n5. Methods:\n   - setProgress(world, entity, value)\n   - getProgress(world, entity)\n   - incrementProgress(world, entity, amount)\n\n6. Emit 'complete' event at 100%\n\nTesting:\n- Test progress rendering\n- Test value clamping\n- Test vertical orientation\n- Test percentage display\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:28:45.147503105-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:28:45.147503105-05:00","dependencies":[{"issue_id":"blessed-b5i.7","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:28:45.1488844-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.8","title":"Create Select/Dropdown widget","description":"Create dropdown select widget.\n\nTasks:\n1. Create src/widgets/select.ts\n2. Define SelectConfig Zod schema:\n   - options: Array\u003c{ label: string; value: string }\u003e\n   - selected: string (value)\n   - placeholder: string\n   - style.normal, style.open, style.option, style.selected\n\n3. Create factory: createSelect(world, config): Entity\n4. State machine:\n   - States: closed, open, selecting\n   - Events: open, close, select, cancel\n\n5. Features:\n   - Click to open dropdown\n   - Keyboard navigation in list\n   - Filter/search options (optional)\n\nTesting:\n- Test dropdown open/close\n- Test option selection\n- Test keyboard navigation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:33:13.955360989-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:33:13.955360989-05:00","dependencies":[{"issue_id":"blessed-b5i.8","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:33:13.956875072-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.9","title":"Create Slider widget","description":"Create range slider widget.\n\nTasks:\n1. Create src/widgets/slider.ts\n2. Define SliderConfig Zod schema:\n   - min: number\n   - max: number\n   - value: number\n   - step: number\n   - orientation: 'horizontal' | 'vertical'\n   - showValue: boolean\n   - style.track, style.thumb, style.fill\n\n3. Create factory: createSlider(world, config): Entity\n4. Add Slider component:\n```typescript\nconst SliderComponent = defineComponent({\n  value: Types.f32,\n  min: Types.f32,\n  max: Types.f32,\n  step: Types.f32,\n  orientation: Types.ui8,\n})\n```\n\n5. Features:\n   - Click and drag thumb\n   - Click on track to jump\n   - Arrow keys to adjust\n   - Configurable step\n\nTesting:\n- Test value changes\n- Test mouse drag\n- Test keyboard control\n- Test step increments\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:33:20.354717218-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:33:20.354717218-05:00","dependencies":[{"issue_id":"blessed-b5i.9","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:33:20.378348778-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw","title":"EPIC: Base Element \u0026 Node System","description":"Epic for element hierarchy foundation.\n\nRewrite of node.js (282 lines) and element.js (2,570 lines) covering:\n- Node tree structure with bitecs\n- Parent/child relationships\n- Element positioning (absolute, relative, percentage)\n- Style system with inheritance\n- Border rendering\n- Padding and margin\n- Visibility management\n- Content management\n- Tag parsing system\n- Alignment (horizontal and vertical)\n- Drag support\n- bitecs components for all element properties","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:13.416157638-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:13.416157638-05:00"}
{"id":"blessed-bjw.1","title":"Create box rendering function","description":"Create box/border rendering utilities.\n\nTasks:\n1. Create src/utils/box.ts\n2. Define BoxChars interface:\n```typescript\ninterface BoxChars {\n  topLeft: string;\n  topRight: string;\n  bottomLeft: string;\n  bottomRight: string;\n  horizontal: string;\n  vertical: string;\n}\n```\n\n3. Define preset box styles:\n   - SINGLE: ┌─┐│└┘\n   - DOUBLE: ╔═╗║╚╝\n   - ROUNDED: ╭─╮│╰╯\n   - BOLD: ┏━┓┃┗┛\n   - DASHED: ┌╌┐╎└┘\n\n4. Create render function:\n   - renderBox(buffer, x, y, width, height, chars, fg, bg)\n\nTesting:\n- Test each box style renders correctly\n- Test partial borders\n- Test 1x1 minimum size\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:09.787544173-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:09.787544173-05:00","dependencies":[{"issue_id":"blessed-bjw.1","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:26:09.788956188-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.2","title":"Create text wrapping utilities","description":"Create text wrapping with Unicode support.\n\nTasks:\n1. Create src/utils/textWrap.ts\n2. Define WrapOptions:\n```typescript\ninterface WrapOptions {\n  width: number;\n  wrap: boolean;\n  align: 'left' | 'center' | 'right';\n  breakWord: boolean;  // Break mid-word if needed\n}\n```\n\n3. Create functions:\n   - wrapText(text: string, options: WrapOptions): string[]\n   - alignLine(line: string, width: number, align: Align): string\n   - wordWrap(text: string, width: number): string[]\n\n4. Handle:\n   - Wide characters correctly\n   - Existing newlines\n   - Trailing spaces\n   - ANSI codes (preserve, don't count width)\n\nTesting:\n- Test ASCII wrapping\n- Test CJK wrapping\n- Test alignment\n- Test existing newlines\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:17.660058396-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:17.660058396-05:00","dependencies":[{"issue_id":"blessed-bjw.2","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:26:17.662129813-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.3","title":"Create tag parsing system","description":"Create blessed-style tag parsing.\n\nTasks:\n1. Create src/utils/tags.ts\n2. Define tag syntax:\n   - {color-fg} - foreground color\n   - {color-bg} - background color\n   - {bold}, {underline}, {blink}, etc. - attributes\n   - {/bold}, {/underline}, etc. - close attribute\n   - {/} - reset all\n   - {left}, {center}, {right} - alignment\n\n3. Create functions:\n   - parseTags(text: string): ParsedContent\n   - stripTags(text: string): string\n   - escapeTags(text: string): string\n\n4. ParsedContent structure:\n   - segments: Array\u003c{ text: string; attrs: Attrs }\u003e\n\nTesting:\n- Test simple tags\n- Test nested tags\n- Test escaping\n- Test invalid tags (passthrough)\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:24.260761916-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:24.260761916-05:00","dependencies":[{"issue_id":"blessed-bjw.3","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:26:24.262360211-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.4","title":"Create style inheritance system","description":"Create style inheritance through hierarchy.\n\nTasks:\n1. Create src/core/styleInheritance.ts\n2. Define which properties inherit:\n   - fg (inherits)\n   - bg (does not inherit)\n   - bold, etc. (inherits)\n\n3. Create functions:\n   - computeInheritedStyle(world, entity): ComputedStyle\n   - mergeStyles(parent: Style, child: Style): Style\n   - resolveStyle(world, entity): Style\n\n4. Cache computed styles, invalidate on change\n\nTesting:\n- Test inheritance chain\n- Test non-inheriting properties\n- Test cache invalidation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:29.952812527-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:29.952812527-05:00","dependencies":[{"issue_id":"blessed-bjw.4","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:26:29.96658146-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.5","title":"Create hit testing for mouse","description":"Create hit testing to find element at coordinates.\n\nTasks:\n1. Create src/core/hitTest.ts\n2. Create functions:\n   - hitTest(world, x: number, y: number): Entity | null\n   - hitTestAll(world, x, y): Entity[] (all at point, z-ordered)\n   - isPointInEntity(world, entity, x, y): boolean\n\n3. Consider:\n   - Z-index ordering (highest first)\n   - Clipping boundaries\n   - Visibility\n   - Transparent areas (optional)\n\n4. Use spatial index for performance (optional)\n\nTesting:\n- Test basic hit detection\n- Test overlapping elements\n- Test clipped elements\n- Test hidden elements\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:36.707655192-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:36.707655192-05:00","dependencies":[{"issue_id":"blessed-bjw.5","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:26:36.709446424-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.6","title":"Create drag and drop system","description":"Create drag and drop support.\n\nTasks:\n1. Create src/systems/dragSystem.ts\n2. Define drag state:\n   - dragging: Entity | null\n   - dragStart: { x, y }\n   - dragOffset: { x, y }\n\n3. Create dragSystem:\n   - Detect drag start on mousedown + move\n   - Update position during drag\n   - Handle drop on mouseup\n   - Emit drag events: dragstart, drag, dragend, drop\n\n4. Create Draggable component extension:\n   - constrainToParent: boolean\n   - constrainAxis: 'x' | 'y' | null\n   - grid: { x, y } (snap to grid)\n\nTesting:\n- Test drag initiation\n- Test position updates\n- Test constraints\n- Test events\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:43.003461449-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:43.003461449-05:00","dependencies":[{"issue_id":"blessed-bjw.6","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:26:43.005062133-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n","title":"EPIC: Game-Specific Features","description":"Epic for game-focused additions not in original blessed.\n\nNew features for terminal games:\n- Sprite system with animation\n- Collision detection components\n- Tile map rendering\n- Camera/viewport system\n- Game loop integration\n- Delta time handling\n- Input buffering\n- Scene management\n- Particle effects\n- Sound integration hooks\n- Save/load state serialization","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:38.53396814-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:38.53396814-05:00"}
{"id":"blessed-c6n.1","title":"Create Sprite component","description":"Create Sprite component for game entities.\n\nTasks:\n1. Create src/components/sprite.ts\n2. Define Sprite component:\n```typescript\nconst SpriteComponent = defineComponent({\n  frameIndex: Types.ui16,     // Current frame\n  frameCount: Types.ui16,     // Total frames\n  frameWidth: Types.ui8,      // Width in cells\n  frameHeight: Types.ui8,     // Height in cells\n  spriteSheetId: Types.ui32,  // Reference to sprite data\n})\n```\n\n3. Create SpriteStore for sprite data:\n   - Frames as 2D cell arrays\n   - Named sprites registry\n\n4. Export helpers:\n   - setSprite(world, entity, spriteId)\n   - setFrame(world, entity, frameIndex)\n   - getSpriteData(world, entity)\n\nTesting:\n- Test sprite assignment\n- Test frame access\n- Test multi-frame sprites\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:40.646914496-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:40.646914496-05:00","dependencies":[{"issue_id":"blessed-c6n.1","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:29:40.671611843-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.10","title":"Create Timer and Delay components","description":"Create timer components for game scheduling.\n\nTasks:\n1. Create src/components/timer.ts\n2. Define Timer component:\n```typescript\nconst TimerComponent = defineComponent({\n  duration: Types.f32,     // Total duration in seconds\n  elapsed: Types.f32,      // Time elapsed\n  loop: Types.ui8,         // 0=once, 1=loop\n  paused: Types.ui8,\n  callbackId: Types.ui32,  // Reference to callback\n})\n```\n\n3. Create src/systems/timerSystem.ts:\n   - Update elapsed time\n   - Fire callbacks when complete\n   - Handle loop restart\n\n4. Methods:\n   - setTimeout(world, callback, delay): TimerHandle\n   - setInterval(world, callback, interval): TimerHandle\n   - clearTimer(world, handle): void\n   - pauseTimer(world, handle): void\n\nTesting:\n- Test timer completion\n- Test loop behavior\n- Test cancel\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:34:03.558882724-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:34:03.558882724-05:00","dependencies":[{"issue_id":"blessed-c6n.10","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:34:03.56073546-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.11","title":"Create Health/Resource component","description":"Create health/resource component for game entities.\n\nTasks:\n1. Create src/components/health.ts\n2. Define Health component:\n```typescript\nconst HealthComponent = defineComponent({\n  current: Types.f32,\n  max: Types.f32,\n  regen: Types.f32,        // Per second\n  invulnerable: Types.ui8,\n  invulnerableTime: Types.f32,\n})\n```\n\n3. Export helpers:\n   - damage(world, entity, amount): boolean (returns if killed)\n   - heal(world, entity, amount): void\n   - setInvulnerable(world, entity, duration): void\n   - isDead(world, entity): boolean\n   - getHealthPercent(world, entity): number\n\n4. Could be used for HP, mana, stamina, etc.\n\nTesting:\n- Test damage/heal\n- Test invulnerability\n- Test regen\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:34:11.156599566-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:34:11.156599566-05:00","dependencies":[{"issue_id":"blessed-c6n.11","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:34:11.158185015-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.12","title":"Create AI/Behavior component","description":"Create behavior tree/AI component.\n\nTasks:\n1. Create src/components/behavior.ts\n2. Define Behavior component:\n```typescript\nconst BehaviorComponent = defineComponent({\n  behaviorId: Types.ui32,   // Reference to behavior tree\n  state: Types.ui8,         // Current behavior state\n  targetEntity: Types.eid,  // Target for seeking/following\n  waitTimer: Types.f32,     // For wait states\n})\n```\n\n3. Simple behavior types:\n   - Idle\n   - Patrol (between points)\n   - Chase (follow target)\n   - Flee (run from target)\n   - Custom (user-defined)\n\n4. Create src/systems/behaviorSystem.ts\n\nTesting:\n- Test behavior switching\n- Test patrol movement\n- Test chase/flee\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:34:23.561424384-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:34:23.561424384-05:00","dependencies":[{"issue_id":"blessed-c6n.12","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:34:23.56328675-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.2","title":"Create Animation system","description":"Create animation system for sprites.\n\nTasks:\n1. Create src/components/animation.ts\n2. Define Animation component:\n```typescript\nconst AnimationComponent = defineComponent({\n  animationId: Types.ui32,    // Reference to animation def\n  playing: Types.ui8,         // 0=stopped, 1=playing\n  loop: Types.ui8,            // 0=once, 1=loop\n  speed: Types.f32,           // Playback speed multiplier\n  elapsed: Types.f32,         // Time elapsed in current frame\n  direction: Types.i8,        // 1=forward, -1=reverse\n})\n```\n\n3. Create AnimationStore for animation definitions:\n   - frame sequence\n   - frame durations\n   - named animations\n\n4. Create src/systems/animationSystem.ts:\n   - Update elapsed time\n   - Advance frames\n   - Handle loop/stop\n   - Emit animation events\n\n5. Methods:\n   - playAnimation(world, entity, animName)\n   - stopAnimation(world, entity)\n   - pauseAnimation(world, entity)\n\nTesting:\n- Test animation playback\n- Test loop behavior\n- Test speed control\n- Test animation events\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:48.019808501-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:48.019808501-05:00","dependencies":[{"issue_id":"blessed-c6n.2","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:29:48.021784404-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.3","title":"Create Velocity component and movement system","description":"Create movement components for game entities.\n\nTasks:\n1. Create src/components/velocity.ts\n2. Define Velocity component:\n```typescript\nconst VelocityComponent = defineComponent({\n  x: Types.f32,      // Cells per second\n  y: Types.f32,\n  maxSpeed: Types.f32,\n  friction: Types.f32,  // 0-1, 0=no friction\n})\n```\n\n3. Define Acceleration component:\n```typescript\nconst AccelerationComponent = defineComponent({\n  x: Types.f32,\n  y: Types.f32,\n})\n```\n\n4. Create src/systems/movementSystem.ts:\n   - Apply acceleration to velocity\n   - Apply velocity to position\n   - Apply friction\n   - Clamp to max speed\n   - Handle delta time\n\n5. Register in UPDATE phase\n\nTesting:\n- Test velocity updates position\n- Test acceleration updates velocity\n- Test friction\n- Test max speed clamping\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:55.342929976-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:55.342929976-05:00","dependencies":[{"issue_id":"blessed-c6n.3","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:29:55.344487888-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.4","title":"Create Collision component and system","description":"Create collision detection for game entities.\n\nTasks:\n1. Create src/components/collision.ts\n2. Define Collider component:\n```typescript\nconst ColliderComponent = defineComponent({\n  type: Types.ui8,        // 0=box, 1=circle\n  width: Types.f32,\n  height: Types.f32,\n  offsetX: Types.f32,\n  offsetY: Types.f32,\n  layer: Types.ui16,      // Collision layer bitmask\n  mask: Types.ui16,       // Layers to collide with\n  isTrigger: Types.ui8,   // 0=solid, 1=trigger only\n})\n```\n\n3. Create src/systems/collisionSystem.ts:\n   - Broad phase: spatial hash or grid\n   - Narrow phase: AABB/circle tests\n   - Generate collision events\n   - Handle solid vs trigger\n\n4. Collision events:\n   - collisionStart(entityA, entityB)\n   - collisionEnd(entityA, entityB)\n   - triggerEnter(entityA, entityB)\n   - triggerExit(entityA, entityB)\n\n5. Register in UPDATE phase (after movement)\n\nTesting:\n- Test AABB collision\n- Test layer filtering\n- Test trigger vs solid\n- Test collision events\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:30:05.05521276-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:30:05.05521276-05:00","dependencies":[{"issue_id":"blessed-c6n.4","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:30:05.056190303-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.5","title":"Create TileMap component and rendering","description":"Create tile map system for game backgrounds.\n\nTasks:\n1. Create src/components/tilemap.ts\n2. Define TileMap component:\n```typescript\nconst TileMapComponent = defineComponent({\n  width: Types.ui16,       // Map width in tiles\n  height: Types.ui16,      // Map height in tiles\n  tileWidth: Types.ui8,    // Tile width in cells\n  tileHeight: Types.ui8,   // Tile height in cells\n  dataId: Types.ui32,      // Reference to tile data\n  tilesetId: Types.ui32,   // Reference to tileset\n})\n```\n\n3. Create TileMapStore:\n   - Store tile indices as Uint16Array\n   - Multiple layers support\n\n4. Create TileSet type:\n   - Array of tile definitions (char, fg, bg)\n\n5. Create renderTileMapSystem:\n   - Render visible tiles to buffer\n   - Handle camera offset\n   - Optimize with dirty regions\n\nTesting:\n- Test tilemap creation\n- Test tile rendering\n- Test multi-layer\n- Test camera scrolling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:30:12.531089957-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:30:12.531089957-05:00","dependencies":[{"issue_id":"blessed-c6n.5","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:30:12.532524821-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.6","title":"Create Camera/Viewport system","description":"Create camera system for scrolling views.\n\nTasks:\n1. Create src/components/camera.ts\n2. Define Camera component:\n```typescript\nconst CameraComponent = defineComponent({\n  x: Types.f32,           // Camera position\n  y: Types.f32,\n  width: Types.ui16,      // Viewport size\n  height: Types.ui16,\n  followTarget: Types.eid, // Entity to follow (0=none)\n  smoothing: Types.f32,   // 0=instant, 1=max smooth\n  deadZone: Types.f32,    // Dead zone for following\n  bounds: Types.ui8,      // 0=unbounded, 1=bounded\n  minX: Types.f32,\n  maxX: Types.f32,\n  minY: Types.f32,\n  maxY: Types.f32,\n})\n```\n\n3. Create src/systems/cameraSystem.ts:\n   - Update camera position\n   - Follow target with smoothing\n   - Respect bounds\n   - Register in UPDATE phase\n\n4. Methods:\n   - setCameraTarget(world, entity)\n   - setCameraBounds(world, bounds)\n   - worldToScreen(world, x, y)\n   - screenToWorld(world, x, y)\n\nTesting:\n- Test camera positioning\n- Test target following\n- Test bounds clamping\n- Test coordinate conversion\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:30:20.362411046-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:30:20.362411046-05:00","dependencies":[{"issue_id":"blessed-c6n.6","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:30:20.363954672-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.7","title":"Create Scene management system","description":"Create scene management for game screens.\n\nTasks:\n1. Create src/core/scene.ts\n2. Define Scene interface:\n```typescript\ninterface Scene {\n  name: string;\n  \n  // Lifecycle\n  onCreate?(world: World): void;\n  onEnter?(world: World): void;\n  onExit?(world: World): void;\n  onDestroy?(world: World): void;\n  \n  // Per-frame\n  onUpdate?(world: World, delta: number): void;\n  \n  // Optional: custom systems for this scene\n  systems?: System[];\n}\n```\n\n3. Create SceneManager:\n   - registerScene(scene): void\n   - switchTo(name, transition?): void\n   - push(name): void (stack)\n   - pop(): void\n   - getCurrentScene(): Scene\n   - getSceneStack(): Scene[]\n\n4. Scene transitions:\n   - Fade in/out\n   - Slide\n   - Custom transitions\n\nTesting:\n- Test scene switching\n- Test scene stack\n- Test lifecycle callbacks\n- Test transitions\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:31:27.668919816-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:31:27.668919816-05:00","dependencies":[{"issue_id":"blessed-c6n.7","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:31:27.670793827-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.8","title":"Create particle effects system","description":"Create simple particle system for effects.\n\nTasks:\n1. Create src/components/particle.ts\n2. Define Particle component:\n```typescript\nconst ParticleComponent = defineComponent({\n  lifetime: Types.f32,\n  age: Types.f32,\n  fadeOut: Types.ui8,\n  char: Types.ui32,\n  startFg: Types.ui32,\n  endFg: Types.ui32,\n})\n```\n\n3. Define ParticleEmitter component:\n```typescript\nconst ParticleEmitterComponent = defineComponent({\n  rate: Types.f32,          // Particles per second\n  burst: Types.ui16,        // Burst count\n  lifetime: Types.f32,      // Particle lifetime\n  spread: Types.f32,        // Emission spread angle\n  speed: Types.f32,         // Initial speed\n  gravity: Types.f32,\n  chars: Types.ui32,        // Ref to char array\n})\n```\n\n4. Create src/systems/particleSystem.ts:\n   - Spawn particles from emitters\n   - Update particle positions\n   - Age and remove dead particles\n   - Interpolate colors\n\n5. Methods:\n   - createEmitter(world, config): Entity\n   - burst(world, emitter, count)\n\nTesting:\n- Test particle spawning\n- Test particle death\n- Test color interpolation\n- Test burst mode\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:31:36.335865236-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:31:36.335865236-05:00","dependencies":[{"issue_id":"blessed-c6n.8","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:31:36.33695648-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.9","title":"Create save/load state serialization","description":"Create game state serialization for save/load.\n\nTasks:\n1. Create src/core/serialization.ts\n2. Define serialization interface:\n```typescript\ninterface SerializationConfig {\n  components: ComponentType[];  // Which components to serialize\n  exclude?: Entity[];           // Entities to skip\n  includeTransient?: boolean;   // Include transient data\n}\n```\n\n3. Create functions:\n   - serializeWorld(world, config): SerializedWorld\n   - deserializeWorld(data, world?): World\n   - serializeEntity(world, entity): SerializedEntity\n   - deserializeEntity(data, world): Entity\n\n4. SerializedWorld format:\n   - JSON-compatible\n   - Version field for migrations\n   - Entity ID mapping\n\n5. Handle:\n   - Component data serialization\n   - Entity relationships\n   - External references (sprites, tilemaps)\n\nTesting:\n- Test round-trip serialization\n- Test component filtering\n- Test relationship preservation\n- Test version compatibility\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:31:44.314041507-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:31:44.314041507-05:00","dependencies":[{"issue_id":"blessed-c6n.9","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:31:44.315487785-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-edo","title":"Project setup: TypeScript, bitecs, Zod, Biome, Vitest","description":"Initialize the modern toolchain for the blessed rewrite:\n\n- Add package.json with pnpm\n- Configure TypeScript with strict mode\n- Add bitecs dependency\n- Add Zod for validation\n- Configure Biome for linting\n- Set up Vitest for testing\n- Create src/ directory structure","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T10:41:37.418733326-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T10:41:37.418733326-05:00","dependencies":[{"issue_id":"blessed-edo","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:17:22.106001125-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-etz","title":"EPIC: Unicode \u0026 Text Handling","description":"Epic for Unicode support and text measurement.\n\nRewrite of unicode.js (790 lines) covering:\n- East Asian width calculation\n- Surrogate pair handling\n- Combining character detection\n- Character width lookup tables\n- String width measurement\n- CJK character ranges\n- Control character handling\n- Tab width calculation","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:15:45.655975172-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:15:45.655975172-05:00"}
{"id":"blessed-etz.1","title":"Create East Asian width tables","description":"Create Unicode East Asian width lookup tables.\n\nRewrite of unicode.js width tables.\n\nTasks:\n1. Create src/utils/unicode/widthTables.ts\n2. Define width ranges as const arrays:\n   - WIDE_RANGES: Array\u003c[start, end]\u003e\n   - FULL_WIDTH_RANGES: Array\u003c[start, end]\u003e\n   - ZERO_WIDTH_RANGES: Array\u003c[start, end]\u003e\n\n3. Include all CJK ranges:\n   - Ideographic\n   - Hangul\n   - Katakana\n   - Hiragana\n   - CJK Unified Ideographs\n   - Fullwidth forms\n\n4. Create lookup functions:\n   - isWideChar(codePoint: number): boolean\n   - isZeroWidthChar(codePoint: number): boolean\n\n5. Optimize with binary search or Map\n\nTesting:\n- Test known wide characters\n- Test boundary cases\n- Test performance with many lookups\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:23:55.528057658-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:23:55.528057658-05:00","dependencies":[{"issue_id":"blessed-etz.1","depends_on_id":"blessed-etz","type":"parent-child","created_at":"2026-02-01T11:23:55.529667124-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-etz.2","title":"Create combining character tables","description":"Create Unicode combining character lookup.\n\nTasks:\n1. Create src/utils/unicode/combining.ts\n2. Define combining ranges:\n   - COMBINING_RANGES: Array\u003c[start, end]\u003e\n\n3. Include all combining marks:\n   - Combining Diacritical Marks\n   - Combining Diacritical Marks Extended\n   - Arabic combining marks\n   - Hebrew combining marks\n   - Indic combining marks\n   - Thai combining marks\n   - etc.\n\n4. Create lookup:\n   - isCombiningChar(codePoint: number): boolean\n   - COMBINING_SET: Set\u003cnumber\u003e (pre-computed)\n\nTesting:\n- Test known combining characters\n- Test performance\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:01.560986232-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:01.560986232-05:00","dependencies":[{"issue_id":"blessed-etz.2","depends_on_id":"blessed-etz","type":"parent-child","created_at":"2026-02-01T11:24:01.56234071-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-etz.3","title":"Create string width measurement","description":"Create string width measurement functions.\n\nTasks:\n1. Create src/utils/unicode/stringWidth.ts\n2. Create functions:\n   - charWidth(char: string): 0 | 1 | 2\n   - charWidthAt(str: string, index: number): 0 | 1 | 2\n   - stringWidth(str: string): number\n   - codePointWidth(codePoint: number): 0 | 1 | 2\n\n3. Handle:\n   - Surrogate pairs\n   - Combining characters (width 0)\n   - Control characters (width 0)\n   - Wide CJK characters (width 2)\n   - Tab characters (configurable width)\n\n4. Create options interface:\n```typescript\ninterface WidthOptions {\n  tabWidth?: number;  // Default 8\n  ambiguousAsWide?: boolean; // CJK ambiguous chars\n}\n```\n\nTesting:\n- Test ASCII strings\n- Test CJK strings\n- Test mixed strings\n- Test emoji\n- Test tabs\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:09.566371726-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:09.566371726-05:00","dependencies":[{"issue_id":"blessed-etz.3","depends_on_id":"blessed-etz","type":"parent-child","created_at":"2026-02-01T11:24:09.567946099-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-etz.4","title":"Create Unicode code point utilities","description":"Create code point handling utilities.\n\nTasks:\n1. Create src/utils/unicode/codePoint.ts\n2. Create functions:\n   - codePointAt(str: string, index: number): number\n   - fromCodePoint(...codePoints: number[]): string\n   - isSurrogate(str: string, index: number): boolean\n   - isHighSurrogate(code: number): boolean\n   - isLowSurrogate(code: number): boolean\n   - surrogatePairToCodePoint(high: number, low: number): number\n\n3. Create iterator:\n   - codePoints(str: string): Iterable\u003cnumber\u003e\n   - graphemes(str: string): Iterable\u003cstring\u003e\n\nTesting:\n- Test basic codepoint extraction\n- Test surrogate pairs\n- Test astral plane characters\n- Test emoji with ZWJ\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:15.897277749-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:15.897277749-05:00","dependencies":[{"issue_id":"blessed-etz.4","depends_on_id":"blessed-etz","type":"parent-child","created_at":"2026-02-01T11:24:15.898857137-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-etz.5","title":"Create string slicing by width","description":"Create width-aware string slicing.\n\nTasks:\n1. Create src/utils/unicode/slice.ts\n2. Create functions:\n   - sliceByWidth(str: string, start: number, end?: number): string\n   - truncateByWidth(str: string, maxWidth: number, ellipsis?: string): string\n   - padStartByWidth(str: string, width: number, fillChar?: string): string\n   - padEndByWidth(str: string, width: number, fillChar?: string): string\n\n3. Handle edge cases:\n   - Slice in middle of wide char\n   - Truncate with ellipsis fitting\n\nTesting:\n- Test ASCII slicing\n- Test CJK slicing\n- Test mixed slicing\n- Test padding\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:21.346344182-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:21.346344182-05:00","dependencies":[{"issue_id":"blessed-etz.5","depends_on_id":"blessed-etz","type":"parent-child","created_at":"2026-02-01T11:24:21.347892821-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hla","title":"EPIC: Input Priority \u0026 Game Loop Architecture","description":"Epic for ensuring input responsiveness is always prioritized.\n\nHARD REQUIREMENT: Input must ALWAYS feel responsive and smooth.\n\nThis epic covers:\n- Game loop architecture with input priority\n- Configurable loop mechanics for library users\n- Input buffering and processing strategies\n- Frame-rate independent input handling\n- Input lag mitigation techniques\n\nDefault behavior: Input processing runs first every frame, before any game logic.\nUser customization: Library exposes hooks to modify loop behavior.","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:30:27.929980976-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:30:27.929980976-05:00"}
{"id":"blessed-hla.1","title":"Create game loop with input priority","description":"Create game loop that prioritizes input processing.\n\nHARD REQUIREMENT: Input must always be processed first and feel responsive.\n\nTasks:\n1. Create src/core/gameLoop.ts\n2. Define GameLoop class:\n```typescript\nclass GameLoop {\n  // Configuration\n  readonly config: GameLoopConfig;\n  \n  // State\n  private running: boolean;\n  private lastTime: number;\n  private deltaTime: number;\n  \n  // Lifecycle\n  start(): void;\n  stop(): void;\n  pause(): void;\n  resume(): void;\n  \n  // Hook points for customization\n  onBeforeInput?: () =\u003e void;\n  onAfterInput?: () =\u003e void;\n  onBeforeUpdate?: () =\u003e void;\n  onAfterUpdate?: () =\u003e void;\n  onBeforeRender?: () =\u003e void;\n  onAfterRender?: () =\u003e void;\n}\n```\n\n3. Default loop order (INPUT FIRST):\n   1. Process ALL pending input immediately\n   2. Run input system\n   3. Run game logic systems\n   4. Run physics/collision systems\n   5. Run layout system\n   6. Run render system\n\n4. Input must be non-blocking:\n   - Use stdin in raw mode\n   - Process all buffered input each frame\n   - Never skip or delay input events\n\n5. Create Zod schema for GameLoopConfig\n\nTesting:\n- Test loop timing accuracy\n- Test input is processed before update\n- Test hook invocation order\n- Test pause/resume\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:30:37.26148073-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:30:37.26148073-05:00","dependencies":[{"issue_id":"blessed-hla.1","depends_on_id":"blessed-hla","type":"parent-child","created_at":"2026-02-01T11:30:37.26280436-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hla.2","title":"Create input buffering system","description":"Create input buffering for frame-independent input.\n\nHARD REQUIREMENT: No input events should ever be lost or delayed.\n\nTasks:\n1. Create src/core/inputBuffer.ts\n2. Define InputBuffer class:\n```typescript\nclass InputBuffer {\n  // Queued events\n  private keyEvents: KeyEvent[];\n  private mouseEvents: MouseEvent[];\n  \n  // Methods\n  push(event: KeyEvent | MouseEvent): void;\n  drainKeys(): KeyEvent[];\n  drainMouse(): MouseEvent[];\n  peek(): (KeyEvent | MouseEvent)[];\n  clear(): void;\n  \n  // Statistics for debugging\n  getStats(): InputStats;\n}\n```\n\n3. Buffer behavior:\n   - Events buffered between frames\n   - ALL events drained each frame (no loss)\n   - Timestamps preserved for timing-sensitive games\n   - Configurable max buffer size (with warning on overflow)\n\n4. Input collection runs on Node.js event loop:\n   - stdin 'data' event handlers\n   - Events pushed to buffer immediately\n   - Main loop drains buffer each frame\n\n5. Thread-safe considerations:\n   - Buffer mutations are synchronous in Node\n   - But ensure no race conditions with async handlers\n\nTesting:\n- Test buffer fills correctly\n- Test drain returns all events\n- Test no events lost\n- Test overflow handling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:30:47.150557286-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:30:47.150557286-05:00","dependencies":[{"issue_id":"blessed-hla.2","depends_on_id":"blessed-hla","type":"parent-child","created_at":"2026-02-01T11:30:47.151508054-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hla.3","title":"Create configurable loop phases","description":"Create configurable system phases for library users.\n\nTasks:\n1. Create src/core/phases.ts\n2. Define default phases:\n```typescript\nenum Phase {\n  INPUT = 0,        // ALWAYS FIRST - non-negotiable\n  EARLY_UPDATE = 1, // User logic before main update\n  UPDATE = 2,       // Main game logic\n  LATE_UPDATE = 3,  // User logic after main update\n  PHYSICS = 4,      // Collision and physics\n  LAYOUT = 5,       // UI layout calculation\n  RENDER = 6,       // Render to buffer\n  POST_RENDER = 7,  // Output to terminal\n}\n```\n\n3. Allow user customization:\n   - Add custom phases between defaults\n   - Register systems to specific phases\n   - Cannot remove or reorder INPUT phase (enforced)\n\n4. PhaseManager class:\n   - registerPhase(name, afterPhase): Phase\n   - getPhaseOrder(): Phase[]\n   - Systems run in phase order\n\n5. Document that INPUT always runs first\n\nTesting:\n- Test phase ordering\n- Test custom phase insertion\n- Test INPUT cannot be moved\n- Test system registration\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:30:56.219814036-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:30:56.219814036-05:00","dependencies":[{"issue_id":"blessed-hla.3","depends_on_id":"blessed-hla","type":"parent-child","created_at":"2026-02-01T11:30:56.221199253-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hla.4","title":"Create fixed timestep with input interpolation","description":"Create fixed timestep update with input interpolation.\n\nTasks:\n1. Extend src/core/gameLoop.ts\n2. Add fixed timestep mode:\n```typescript\ninterface FixedTimestepConfig {\n  tickRate: number;      // Updates per second (e.g., 60)\n  maxUpdatesPerFrame: number; // Prevent spiral of death\n  interpolate: boolean;  // Interpolate render between ticks\n}\n```\n\n3. Fixed timestep loop:\n   - Accumulate real time\n   - Run fixed updates at consistent rate\n   - Interpolate render state between ticks\n   - INPUT STILL PROCESSED FIRST EACH FRAME\n\n4. Handle input in fixed timestep:\n   - Option 1: Process input before each fixed update\n   - Option 2: Buffer input, process at fixed rate\n   - Default: Process all input immediately (responsive)\n\n5. User can choose:\n   - Variable timestep (default, most responsive)\n   - Fixed timestep (deterministic, good for netcode)\n\nTesting:\n- Test fixed rate consistency\n- Test input responsiveness in both modes\n- Test render interpolation\n- Test spiral of death prevention\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:31:04.549062862-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:31:04.549062862-05:00","dependencies":[{"issue_id":"blessed-hla.4","depends_on_id":"blessed-hla","type":"parent-child","created_at":"2026-02-01T11:31:04.55080626-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hla.5","title":"Create input repeat and held key handling","description":"Create input repeat and held key detection.\n\nTasks:\n1. Create src/core/inputState.ts\n2. Track key states:\n```typescript\ninterface KeyState {\n  pressed: boolean;      // Currently pressed\n  justPressed: boolean;  // Pressed this frame\n  justReleased: boolean; // Released this frame\n  heldTime: number;      // Time held in ms\n  repeatCount: number;   // Auto-repeat count\n}\n```\n\n3. Create InputState class:\n   - Track all key states\n   - Update each frame\n   - isKeyDown(key): boolean\n   - isKeyPressed(key): boolean (just this frame)\n   - isKeyReleased(key): boolean (just this frame)\n   - getKeyHeldTime(key): number\n\n4. Handle terminal key repeat:\n   - Detect OS key repeat events\n   - Optionally ignore repeats\n   - Custom repeat rate (for games)\n\n5. Mouse state tracking too:\n   - Button states\n   - Position delta\n   - Wheel delta\n\nTesting:\n- Test key state tracking\n- Test just pressed detection\n- Test held time accumulation\n- Test repeat handling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:31:11.980231812-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:31:11.980231812-05:00","dependencies":[{"issue_id":"blessed-hla.5","depends_on_id":"blessed-hla","type":"parent-child","created_at":"2026-02-01T11:31:11.981807051-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hla.6","title":"Create input action mapping system","description":"Create action mapping for game controls.\n\nTasks:\n1. Create src/core/inputActions.ts\n2. Define action mapping:\n```typescript\ninterface ActionMapping {\n  action: string;          // 'jump', 'attack', 'move_left'\n  keys: string[];          // ['space', 'w', 'up']\n  mouse?: MouseButton[];   // [MouseButton.Left]\n  continuous?: boolean;    // Fire while held\n}\n```\n\n3. Create InputActionManager:\n   - registerAction(mapping): void\n   - unregisterAction(action): void\n   - isActionActive(action): boolean\n   - isActionJustActivated(action): boolean\n   - getActionValue(action): number (for analog)\n\n4. Allow runtime rebinding:\n   - rebindAction(action, newKeys)\n   - getBindingsForAction(action)\n   - saveBindings(): JSON\n   - loadBindings(json)\n\n5. Zod schema for action config\n\nTesting:\n- Test action registration\n- Test multiple keys per action\n- Test rebinding\n- Test save/load\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:31:20.11271144-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:31:20.11271144-05:00","dependencies":[{"issue_id":"blessed-hla.6","depends_on_id":"blessed-hla","type":"parent-child","created_at":"2026-02-01T11:31:20.114091479-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hmk","title":"EPIC: Public API \u0026 Developer Experience","description":"Epic for public API design and developer experience.\n\nCovers:\n- Clean, intuitive public API\n- TypeScript type exports\n- JSDoc documentation\n- Example code\n- Error messages\n- Debug utilities","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:32:19.176681246-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:32:19.176681246-05:00"}
{"id":"blessed-hmk.1","title":"Design and implement public API","description":"Design clean public API for library consumers.\n\nTasks:\n1. Create src/index.ts with public exports\n2. Design main entry points:\n```typescript\n// Create a game\nimport { createGame, GameConfig } from 'blessed-tui';\n\nconst game = createGame({\n  width: 80,\n  height: 24,\n  title: 'My Game',\n});\n\n// Create widgets\nconst box = game.createBox({ ... });\nconst button = game.createButton({ ... });\n\n// Start game loop\ngame.start();\n```\n\n3. Export categories:\n   - Core: createGame, World, Entity\n   - Widgets: createBox, createButton, etc.\n   - Components: Position, Dimensions, etc. (for advanced use)\n   - Systems: (for advanced use)\n   - Types: All TypeScript types\n   - Schemas: All Zod schemas\n\n4. Ensure tree-shaking works:\n   - Named exports only\n   - No side effects in modules\n\nTesting:\n- Test imports work correctly\n- Test type inference\n- Test tree-shaking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:32:27.501483695-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:32:27.501483695-05:00","dependencies":[{"issue_id":"blessed-hmk.1","depends_on_id":"blessed-hmk","type":"parent-child","created_at":"2026-02-01T11:32:27.503778098-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hmk.2","title":"Create error handling system","description":"Create typed error handling with helpful messages.\n\nTasks:\n1. Create src/errors/index.ts\n2. Define error classes:\n```typescript\nclass BlessedError extends Error {\n  readonly code: string;\n  readonly context?: Record\u003cstring, unknown\u003e;\n}\n\nclass ValidationError extends BlessedError { }\nclass ComponentError extends BlessedError { }\nclass RenderError extends BlessedError { }\nclass InputError extends BlessedError { }\n```\n\n3. Create error factories:\n   - createValidationError(schema, value, path)\n   - createComponentError(component, entity, message)\n\n4. Include helpful error messages:\n   - What went wrong\n   - What was expected\n   - How to fix it\n\n5. Export error types for catch handling\n\nTesting:\n- Test error creation\n- Test error messages\n- Test instanceof checks\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:32:34.609013731-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:32:34.609013731-05:00","dependencies":[{"issue_id":"blessed-hmk.2","depends_on_id":"blessed-hmk","type":"parent-child","created_at":"2026-02-01T11:32:34.610589884-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hmk.3","title":"Create debug utilities","description":"Create debug utilities for development.\n\nTasks:\n1. Create src/debug/index.ts\n2. Debug utilities:\n   - inspectEntity(world, entity): string (pretty print)\n   - inspectWorld(world): string\n   - drawDebugBounds(world): void (visualize hitboxes)\n   - logSystemTiming(enabled: boolean): void\n   - getPerformanceStats(): PerformanceStats\n\n3. Debug overlay widget:\n   - FPS counter\n   - Entity count\n   - System timings\n   - Memory usage\n\n4. Conditional compilation:\n   - Only include in development builds\n   - Or tree-shake when not used\n\nTesting:\n- Test debug output\n- Test performance stats\n- Test overlay widget\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:32:42.01561415-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:32:42.01561415-05:00","dependencies":[{"issue_id":"blessed-hmk.3","depends_on_id":"blessed-hmk","type":"parent-child","created_at":"2026-02-01T11:32:42.017073-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hmk.4","title":"Create TypeScript type exports","description":"Export all TypeScript types for library consumers.\n\nTasks:\n1. Create src/types/index.ts\n2. Export all public types:\n   - Config types (GameConfig, BoxConfig, etc.)\n   - Component types\n   - Event types (KeyEvent, MouseEvent)\n   - Style types\n   - State machine types\n   - Utility types\n\n3. Ensure types are:\n   - Well-documented with JSDoc\n   - Properly exported from main index\n   - Compatible with strict TypeScript\n\n4. Create type utilities:\n   - DeepPartial\u003cT\u003e\n   - DeepReadonly\u003cT\u003e\n   - InferConfig\u003cT\u003e\n\nTesting:\n- Test type imports in consumer project\n- Test type inference works correctly\n- Test strict mode compatibility\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:32:48.995295198-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:32:48.995295198-05:00","dependencies":[{"issue_id":"blessed-hmk.4","depends_on_id":"blessed-hmk","type":"parent-child","created_at":"2026-02-01T11:32:48.996793905-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf","title":"EPIC: Terminfo/Termcap Parser","description":"Epic for terminal capability database parsing.\n\nRewrite of tput.js (3,022 lines) covering:\n- Binary terminfo format parsing\n- Text termcap format parsing\n- Capability compilation to TypeScript functions\n- Terminal detection and feature flags\n- Fallback capability definitions\n- Parameter substitution engine\n\nProvides terminal-agnostic capability abstraction.","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:15:29.927462243-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:15:29.927462243-05:00"}
{"id":"blessed-hyf.1","title":"Create terminfo binary parser","description":"Create terminfo binary format parser.\n\nRewrite of tput.js terminfo parsing.\n\nTasks:\n1. Create src/terminal/terminfo/parser.ts\n2. Define TerminfoHeader interface:\n```typescript\ninterface TerminfoHeader {\n  magic: number;          // 0x011a or 0x021e\n  nameSize: number;\n  boolCount: number;\n  numCount: number;\n  stringCount: number;\n  stringTableSize: number;\n}\n```\n\n3. Define TerminfoData interface:\n```typescript\ninterface TerminfoData {\n  names: string[];\n  booleans: Map\u003cstring, boolean\u003e;\n  numbers: Map\u003cstring, number\u003e;\n  strings: Map\u003cstring, string\u003e;\n  extended?: TerminfoExtended;\n}\n```\n\n4. Create parseTerminfo(buffer: Buffer): TerminfoData\n5. Handle:\n   - 16-bit numbers (legacy format)\n   - 32-bit numbers (extended format)\n   - Extended capabilities section\n\nTesting:\n- Test with xterm terminfo\n- Test with vt100 terminfo\n- Test extended capabilities\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:29.661936606-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:29.661936606-05:00","dependencies":[{"issue_id":"blessed-hyf.1","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T11:24:29.663073159-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.2","title":"Create terminfo file locator","description":"Create terminfo database file locator.\n\nTasks:\n1. Create src/terminal/terminfo/locator.ts\n2. Define search paths:\n   -  (user override)\n   - /home/kadajett/.terminfo\n   - /etc/terminfo\n   - /lib/terminfo\n   - /usr/share/terminfo\n   - /usr/lib/terminfo\n\n3. Create functions:\n   - findTerminfo(term: string): string | null\n   - getTerminfoPath(term: string): string\n   - listTerminals(): string[]\n\n4. Handle term name variations:\n   - First char directory (x/xterm)\n   - Hex directory (78/xterm)\n\nTesting:\n- Test finding xterm\n- Test fallback paths\n- Test missing terminal\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:35.996408513-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:35.996408513-05:00","dependencies":[{"issue_id":"blessed-hyf.2","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T11:24:35.997965856-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.3","title":"Create capability name mappings","description":"Create terminfo capability name mappings.\n\nTasks:\n1. Create src/terminal/terminfo/capabilities.ts\n2. Define capability types:\n   - BOOLEAN_CAPS: readonly string[] (all boolean capability names)\n   - NUMBER_CAPS: readonly string[] (all number capability names)\n   - STRING_CAPS: readonly string[] (all string capability names)\n\n3. Define aliases:\n   - CAPABILITY_ALIASES: Record\u003cstring, string\u003e\n   - Short names -\u003e long names\n\n4. Export typed capability name unions:\n   - BooleanCapability (type union)\n   - NumberCapability\n   - StringCapability\n\nTesting:\n- Test all standard capabilities present\n- Test alias resolution\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:41.930870856-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:41.930870856-05:00","dependencies":[{"issue_id":"blessed-hyf.3","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T11:24:41.932414333-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.4","title":"Create parameterized string compiler","description":"Create terminfo parameterized string compiler.\n\nTasks:\n1. Create src/terminal/terminfo/compiler.ts\n2. Implement tparm-style parameter substitution:\n   - %% - literal %\n   - %p[1-9] - push parameter\n   - %c - output as char\n   - %s - output as string\n   - %d - output as decimal\n   - %'c' - push char constant\n   - %{nn} - push integer constant\n   - %+ %- %* %/ %m - arithmetic\n   - %\u0026 %| %^ - bitwise\n   - %\\! %~ - unary\n   - %? %t %e %; - conditionals\n   - %i - increment first two params\n\n3. Create functions:\n   - compileCapability(cap: string): CompiledCapability\n   - executeCapability(compiled: CompiledCapability, ...params: number[]): string\n\n4. Cache compiled capabilities\n\nTesting:\n- Test simple parameters\n- Test arithmetic\n- Test conditionals\n- Test complex capabilities (e.g., sgr)\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:50.477160291-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:50.477160291-05:00","dependencies":[{"issue_id":"blessed-hyf.4","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T11:24:50.478592736-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.5","title":"Create Tput class","description":"Create Tput class for terminal capabilities.\n\nTasks:\n1. Create src/terminal/terminfo/tput.ts\n2. Define Tput class:\n```typescript\nclass Tput {\n  readonly terminal: string;\n  readonly data: TerminfoData;\n  \n  constructor(terminal?: string);\n  \n  // Boolean capabilities\n  has(cap: BooleanCapability): boolean;\n  \n  // Number capabilities\n  getNumber(cap: NumberCapability): number | null;\n  \n  // String capabilities\n  getString(cap: StringCapability): string | null;\n  \n  // Parameterized output\n  tparm(cap: StringCapability, ...params: number[]): string;\n  \n  // Common shortcuts\n  cup(row: number, col: number): string;\n  sgr(attrs: number): string;\n  setaf(color: number): string;\n  setab(color: number): string;\n}\n```\n\n3. Create factory: createTput(options?)\n\nTesting:\n- Test capability access\n- Test parameterized strings\n- Test missing terminal handling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:57.901738362-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:57.901738362-05:00","dependencies":[{"issue_id":"blessed-hyf.5","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T11:24:57.903147566-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.6","title":"Create builtin xterm fallback","description":"Create builtin xterm terminfo fallback.\n\nTasks:\n1. Create src/terminal/terminfo/builtin/xterm.ts\n2. Define hardcoded xterm capabilities:\n   - All standard boolean capabilities\n   - All standard number capabilities\n   - All standard string capabilities for cursor, color, etc.\n\n3. Use when terminfo file not found\n4. Create BUILTIN_TERMINALS map for other common terms\n\nTesting:\n- Test fallback activates when terminfo missing\n- Test capabilities match real xterm\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:04.088226267-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:04.088226267-05:00","dependencies":[{"issue_id":"blessed-hyf.6","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T11:25:04.089661455-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e","title":"EPIC: List \u0026 Table Widgets","description":"Epic for list and table widgets.\n\nCovers List, Table, ListTable, Listbar:\n- Selectable list with keyboard/mouse\n- Table data grid\n- ListTable (selectable table)\n- Listbar horizontal menu\n- Item selection state machine\n- Scrolling integration\n- Search/filter functionality\n- All with bitecs components and Zod schemas","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:23.300878264-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:23.300878264-05:00"}
{"id":"blessed-i7e.1","title":"Create List component","description":"Create List component for item storage.\n\nTasks:\n1. Create src/components/list.ts\n2. Define List component:\n```typescript\nconst ListComponent = defineComponent({\n  selectedIndex: Types.i32,    // -1 if none\n  itemCount: Types.ui32,\n  firstVisible: Types.ui32,    // For virtualization\n  visibleCount: Types.ui32,\n  interactive: Types.ui8,\n  mouse: Types.ui8,\n  keys: Types.ui8,\n})\n```\n\n3. Create ListItemStore for item data (string[])\n4. Export helpers:\n   - getSelectedIndex(world, entity)\n   - setSelectedIndex(world, entity, index)\n   - getItems(world, entity): string[]\n   - setItems(world, entity, items)\n   - addItem(world, entity, item)\n   - removeItem(world, entity, index)\n\nTesting:\n- Test item management\n- Test selection\n- Test bounds checking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:25.294815292-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:25.294815292-05:00","dependencies":[{"issue_id":"blessed-i7e.1","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:27:25.296198479-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.2","title":"Create List widget","description":"Create selectable List widget.\n\nTasks:\n1. Create src/widgets/list.ts\n2. Define ListConfig Zod schema:\n   - items: string[]\n   - selected: number\n   - style.item: Style\n   - style.selected: Style\n   - interactive: boolean\n   - mouse: boolean\n   - keys: boolean\n   - search: boolean (enable / search)\n\n3. Create factory: createList(world, config): Entity\n4. Add state machine for selection:\n   - States: idle, navigating, searching\n   - Events: up, down, select, cancel, search\n\n5. Key bindings:\n   - Up/k: previous\n   - Down/j: next\n   - Enter: select\n   - Escape: cancel\n   - /: search mode\n   - g/G: first/last\n\nTesting:\n- Test item rendering\n- Test selection\n- Test keyboard navigation\n- Test mouse click\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:31.756533972-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:31.756533972-05:00","dependencies":[{"issue_id":"blessed-i7e.2","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:27:31.758063941-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.3","title":"Create Table component","description":"Create Table component for grid data.\n\nTasks:\n1. Create src/components/table.ts\n2. Define Table component:\n```typescript\nconst TableComponent = defineComponent({\n  rowCount: Types.ui32,\n  colCount: Types.ui16,\n  headerRows: Types.ui8,\n  pad: Types.ui8,\n  cellBorders: Types.ui8,\n})\n```\n\n3. Create TableDataStore for cell data (string[][])\n4. Export helpers:\n   - setData(world, entity, rows)\n   - getData(world, entity): string[][]\n   - setCell(world, entity, row, col, value)\n   - getCell(world, entity, row, col)\n   - setHeaders(world, entity, headers)\n\nTesting:\n- Test data management\n- Test cell access\n- Test bounds checking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:38.521880108-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:38.521880108-05:00","dependencies":[{"issue_id":"blessed-i7e.3","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:27:38.523520443-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.4","title":"Create Table widget","description":"Create Table widget for data display.\n\nTasks:\n1. Create src/widgets/table.ts\n2. Define TableConfig Zod schema:\n   - data: string[][] (rows)\n   - pad: number (cell padding)\n   - align: 'left' | 'center' | 'right'\n   - style.border: Style\n   - style.header: Style\n   - style.cell: Style\n   - noCellBorders: boolean\n\n3. Create factory: createTable(world, config): Entity\n4. Calculate column widths:\n   - Auto-fit to content\n   - Respect max width\n   - Distribute evenly\n\n5. Render functions:\n   - renderTableRow(buffer, row, widths, style)\n   - renderTableBorders(buffer, widths)\n\nTesting:\n- Test table rendering\n- Test column width calculation\n- Test header styling\n- Test cell borders\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:45.020164109-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:45.020164109-05:00","dependencies":[{"issue_id":"blessed-i7e.4","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:27:45.021719745-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.5","title":"Create ListTable widget","description":"Create selectable table widget.\n\nTasks:\n1. Create src/widgets/listTable.ts\n2. Combine List and Table functionality:\n   - Table rendering\n   - Row selection (not cell)\n   - Fixed header row\n\n3. Define ListTableConfig Zod schema:\n   - Merge TableConfig and ListConfig\n   - selectedRow: number\n\n4. Create factory: createListTable(world, config): Entity\n5. Selection state machine from List widget\n\nTesting:\n- Test table rendering with selection\n- Test row navigation\n- Test header stays fixed during scroll\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:51.485474695-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:51.485474695-05:00","dependencies":[{"issue_id":"blessed-i7e.5","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:27:51.486390576-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.6","title":"Create Listbar widget","description":"Create horizontal menu bar widget.\n\nTasks:\n1. Create src/widgets/listbar.ts\n2. Define ListbarConfig Zod schema:\n   - items: Array\u003c{ text: string; key?: string; callback?: () =\u003e void }\u003e\n   - style.item: Style\n   - style.selected: Style\n   - autoCommandKeys: boolean (auto-assign 1-9)\n   - mouse: boolean\n\n3. Create factory: createListbar(world, config): Entity\n4. Horizontal layout with selection\n5. Key bindings:\n   - Left/h: previous\n   - Right/l: next\n   - Enter: select\n   - 1-9: jump to item (if autoCommandKeys)\n\nTesting:\n- Test horizontal rendering\n- Test item selection\n- Test keyboard shortcuts\n- Test mouse click\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:57.531525575-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:57.531525575-05:00","dependencies":[{"issue_id":"blessed-i7e.6","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:27:57.532977635-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.7","title":"Create Tree widget","description":"Create hierarchical tree view widget.\n\nTasks:\n1. Create src/widgets/tree.ts\n2. Define TreeNode interface:\n```typescript\ninterface TreeNode {\n  label: string;\n  value?: unknown;\n  children?: TreeNode[];\n  expanded?: boolean;\n  icon?: string;\n}\n```\n\n3. Define TreeConfig Zod schema:\n   - nodes: TreeNode[]\n   - selected: string (path)\n   - style.node, style.selected, style.expanded\n   - showLines: boolean\n\n4. Create factory: createTree(world, config): Entity\n5. Features:\n   - Expand/collapse nodes\n   - Keyboard navigation\n   - Mouse click selection\n   - Indentation with lines\n\nTesting:\n- Test tree rendering\n- Test expand/collapse\n- Test deep navigation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:33:26.761378075-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:33:26.761378075-05:00","dependencies":[{"issue_id":"blessed-i7e.7","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:33:26.762917668-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg","title":"EPIC: Terminal I/O \u0026 Program Layer","description":"Epic for low-level terminal control rewrite.\n\nThis epic covers the complete rewrite of program.js (4,295 lines) into a typed, ECS-compatible terminal interface:\n- ANSI escape sequence generation\n- Cursor control and positioning\n- Screen buffer management\n- Input/output stream handling\n- Terminal capability detection\n- Mouse protocol support\n- Alternate screen buffer\n- Character attribute management\n\nThis is the foundation layer that all rendering depends on.","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:15:24.847247072-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:15:24.847247072-05:00"}
{"id":"blessed-mtg.1","title":"Create ANSI escape code generator","description":"Create typed ANSI escape sequence generator.\n\nTasks:\n1. Create src/terminal/ansi.ts\n2. Define ANSI code constants:\n   - CSI, OSC, DCS prefixes\n   - SGR codes for attributes\n   - Cursor movement codes\n\n3. Create generator functions:\n   - cursor.move(x, y): string\n   - cursor.up(n): string\n   - cursor.down(n): string\n   - cursor.forward(n): string\n   - cursor.back(n): string\n   - cursor.save(): string\n   - cursor.restore(): string\n   - cursor.show(): string\n   - cursor.hide(): string\n\n4. Attribute functions:\n   - style.reset(): string\n   - style.bold(): string\n   - style.dim(): string\n   - style.italic(): string\n   - style.underline(): string\n   - style.blink(): string\n   - style.inverse(): string\n   - style.hidden(): string\n   - style.strikethrough(): string\n   - style.fg(color): string\n   - style.bg(color): string\n\nTesting:\n- Test each escape sequence is correct\n- Test color code generation\n- Test RGB color generation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:08.818461153-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:08.818461153-05:00","dependencies":[{"issue_id":"blessed-mtg.1","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:08.820173399-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.10","title":"Create terminal cleanup on exit","description":"Create proper terminal cleanup on process exit.\n\nCRITICAL: Terminal must be restored on exit, crash, or Ctrl+C.\n\nTasks:\n1. Create src/terminal/cleanup.ts\n2. Register exit handlers:\n   - process.on('exit')\n   - process.on('SIGINT')\n   - process.on('SIGTERM')\n   - process.on('uncaughtException')\n   - process.on('unhandledRejection')\n\n3. Cleanup actions:\n   - Exit alternate screen buffer\n   - Restore cursor\n   - Disable mouse\n   - Reset terminal attributes\n   - Restore original stdin mode\n   - Show cursor\n\n4. Ensure cleanup runs only once\n5. Allow user to add custom cleanup\n\nTesting:\n- Test cleanup on normal exit\n- Test cleanup on Ctrl+C\n- Test cleanup on exception\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:34:38.544504693-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:34:38.544504693-05:00","dependencies":[{"issue_id":"blessed-mtg.10","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:34:38.545594753-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.2","title":"Create screen erase functions","description":"Create screen clearing and erasing functions.\n\nTasks:\n1. Add to src/terminal/ansi.ts or create src/terminal/erase.ts\n2. Define erase functions:\n   - erase.screen(): string (clear entire screen)\n   - erase.screenBelow(): string\n   - erase.screenAbove(): string\n   - erase.line(): string (clear entire line)\n   - erase.lineEnd(): string\n   - erase.lineStart(): string\n   - erase.chars(n): string\n\n3. Define scroll functions:\n   - scroll.up(n): string\n   - scroll.down(n): string\n   - scroll.setRegion(top, bottom): string\n   - scroll.resetRegion(): string\n\nTesting:\n- Test each erase code is correct\n- Test scroll region setting\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:15.706512523-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:15.706512523-05:00","dependencies":[{"issue_id":"blessed-mtg.2","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:15.708361714-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.3","title":"Create alternate screen buffer handling","description":"Create alternate screen buffer management.\n\nTasks:\n1. Add to src/terminal/ansi.ts:\n   - screen.enterAlt(): string (smcup)\n   - screen.exitAlt(): string (rmcup)\n\n2. Create src/terminal/screenBuffer.ts:\n   - Define ScreenBuffer class\n   - enterAlternateScreen(): void\n   - exitAlternateScreen(): void\n   - isAlternate: boolean\n\n3. Handle cleanup on process exit:\n   - Restore original screen on SIGINT\n   - Restore on uncaught exception\n\nTesting:\n- Test alternate screen entry/exit\n- Test cleanup handlers\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:21.385211353-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:21.385211353-05:00","dependencies":[{"issue_id":"blessed-mtg.3","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:21.387030777-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.4","title":"Create Program class","description":"Create main Program class for terminal control.\n\nRewrite of program.js Program class.\n\nTasks:\n1. Create src/terminal/program.ts\n2. Define ProgramConfig interface with Zod schema\n3. Define Program class:\n   - constructor(config: ProgramConfig)\n   - input: NodeJS.ReadableStream\n   - output: NodeJS.WritableStream\n   - cols: number\n   - rows: number\n   - x: number, y: number (cursor position)\n\n4. Core methods:\n   - write(data: string): void\n   - flush(): void\n   - clear(): void\n   - move(x, y): void\n   - cursorTo(x, y): void\n\n5. Setup methods:\n   - init(): Promise\u003cvoid\u003e\n   - destroy(): void\n\n6. Event handling (inherits TypedEventEmitter):\n   - onResize handler\n   - onKey handler\n   - onMouse handler\n\nTesting:\n- Test initialization\n- Test write buffering\n- Test cursor movement\n- Test resize detection\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:27.974007724-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:27.974007724-05:00","dependencies":[{"issue_id":"blessed-mtg.4","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:27.975458646-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.5","title":"Create output buffering system","description":"Create efficient output buffering for rendering.\n\nTasks:\n1. Create src/terminal/outputBuffer.ts\n2. Define OutputBuffer class:\n   - buffer: string[]\n   - write(data: string): void\n   - writeln(data: string): void\n   - flush(stream: NodeJS.WritableStream): void\n   - clear(): void\n   - length: number\n\n3. Implement batched flushing:\n   - Coalesce multiple writes\n   - Flush on requestAnimationFrame or setImmediate\n   - Manual flush for immediate output\n\n4. Track cursor position through writes\n\nTesting:\n- Test write accumulation\n- Test flush behavior\n- Test cursor tracking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:33.748750261-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:33.748750261-05:00","dependencies":[{"issue_id":"blessed-mtg.5","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:33.75041314-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.6","title":"Create terminal detection","description":"Create terminal type detection system.\n\nTasks:\n1. Create src/terminal/detection.ts\n2. Define TerminalInfo interface:\n```typescript\ninterface TerminalInfo {\n  name: string;           // 'xterm', 'vte', 'iterm2', etc.\n  version?: string;\n  colorSupport: 2 | 16 | 256 | 'truecolor';\n  unicodeSupport: boolean;\n  mouseSupport: boolean;\n  bracketed: boolean;     // Bracketed paste support\n  tmux: boolean;\n  screen: boolean;\n}\n```\n\n3. Detection functions:\n   - detectTerminal(): TerminalInfo\n   - isXterm(): boolean\n   - isVTE(): boolean\n   - isITerm2(): boolean\n   - isTmux(): boolean\n   - getColorDepth(): number\n\n4. Use xterm-256color, truecolor, escape sequence queries\n\nTesting:\n- Test detection logic (mock env vars)\n- Test fallback behavior\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:40.89089996-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:40.89089996-05:00","dependencies":[{"issue_id":"blessed-mtg.6","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:40.892624689-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.7","title":"Create mouse enable/disable functions","description":"Create mouse protocol enable/disable functions.\n\nTasks:\n1. Add to src/terminal/ansi.ts:\n   - mouse.enableX10(): string\n   - mouse.enableNormal(): string\n   - mouse.enableSGR(): string\n   - mouse.enableURXVT(): string\n   - mouse.enableAny(): string (any event tracking)\n   - mouse.disableAll(): string\n\n2. Create src/terminal/mouse.ts:\n   - enableMouse(stream, protocol?): void\n   - disableMouse(stream): void\n   - detectBestProtocol(termInfo): MouseProtocol\n\nTesting:\n- Test each protocol enable sequence\n- Test protocol detection\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:47.556848702-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:47.556848702-05:00","dependencies":[{"issue_id":"blessed-mtg.7","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:47.558600178-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.8","title":"Create cursor style functions","description":"Create cursor appearance control functions.\n\nTasks:\n1. Add to src/terminal/ansi.ts:\n   - cursor.setShape(shape): string\n     - shapes: block, underline, bar\n   - cursor.setBlink(blink): string\n   - cursor.setColor(color): string (xterm extension)\n   - cursor.resetStyle(): string\n\n2. Define CursorShape enum\n3. Create Zod schema for cursor config\n\nTesting:\n- Test shape sequences\n- Test blink toggle\n- Test color setting (xterm)\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:53.401334642-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:53.401334642-05:00","dependencies":[{"issue_id":"blessed-mtg.8","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:53.402690235-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.9","title":"Create title and clipboard functions","description":"Create window title and clipboard control.\n\nTasks:\n1. Add to src/terminal/ansi.ts:\n   - window.setTitle(title): string\n   - window.setIconName(name): string\n   - clipboard.write(text): string (OSC 52)\n   - clipboard.read(): string (request)\n\n2. Create Zod schema for allowed title characters\n\nTesting:\n- Test title sequence\n- Test clipboard write sequence\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:58.535172005-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:58.535172005-05:00","dependencies":[{"issue_id":"blessed-mtg.9","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:58.536522696-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37","title":"EPIC: Input System (Keyboard \u0026 Mouse)","description":"Epic for input handling and event parsing.\n\nRewrite of keys.js (339 lines) and mouse handling covering:\n- ANSI escape sequence parsing for keys\n- Modifier detection (ctrl, alt, shift)\n- Function key mapping (F1-F12)\n- Navigation key mapping\n- Mouse event parsing (X11, SGR, URXVT protocols)\n- GPM protocol support\n- Input event Zod schemas\n- bitecs input components","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:15:41.079997684-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:15:41.079997684-05:00"}
{"id":"blessed-n37.1","title":"Create key event parser","description":"Create ANSI escape sequence parser for keyboard input.\n\nRewrite of keys.js (339 lines) with strict typing.\n\nTasks:\n1. Create src/terminal/keyParser.ts\n2. Define KeyEvent interface:\n```typescript\ninterface KeyEvent {\n  readonly sequence: string;\n  readonly name: KeyName;\n  readonly ctrl: boolean;\n  readonly meta: boolean;\n  readonly shift: boolean;\n  readonly code?: string;\n  readonly raw: Buffer;\n}\n```\n\n3. Define KeyName type union with all key names\n4. Create parseKeySequence(buffer: Buffer): KeyEvent | null\n5. Handle all key types:\n   - Regular characters\n   - Control characters (Ctrl+A-Z)\n   - Function keys (F1-F12)\n   - Navigation (arrows, home, end, pgup/pgdn)\n   - Modifiers (shift+key, alt+key, ctrl+alt+key)\n\n6. Create Zod schema for KeyEvent validation\n\nTesting:\n- Test regular character parsing\n- Test each function key\n- Test modifier combinations\n- Test edge cases (escape, enter, backspace)\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:23.190000135-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:23.190000135-05:00","dependencies":[{"issue_id":"blessed-n37.1","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:21:23.191082191-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.2","title":"Create mouse event parser","description":"Create mouse event parser for multiple protocols.\n\nTasks:\n1. Create src/terminal/mouseParser.ts\n2. Define MouseEvent interface:\n```typescript\ninterface MouseEvent {\n  readonly x: number;\n  readonly y: number;\n  readonly button: MouseButton;\n  readonly action: 'press' | 'release' | 'move' | 'wheel';\n  readonly ctrl: boolean;\n  readonly meta: boolean;\n  readonly shift: boolean;\n  readonly raw: Buffer;\n}\n```\n\n3. Define MouseButton enum: left, middle, right, wheelUp, wheelDown\n4. Support protocols:\n   - X10 basic: ESC[M + 3 bytes\n   - X11 normal: ESC[M + button + coords\n   - SGR extended: ESC[\u003cbutton;x;y[Mm]\n   - URXVT: ESC[button;x;yM\n\n5. Create parseMouseSequence(buffer: Buffer): MouseEvent | null\n6. Create Zod schema for MouseEvent\n\nTesting:\n- Test each protocol\n- Test button identification\n- Test coordinate parsing\n- Test modifier detection\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:31.134577139-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:31.134577139-05:00","dependencies":[{"issue_id":"blessed-n37.2","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:21:31.135933255-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.3","title":"Create input stream handler","description":"Create input stream processor for keyboard/mouse.\n\nTasks:\n1. Create src/terminal/inputStream.ts\n2. Define InputHandler class:\n   - constructor(stream: NodeJS.ReadableStream)\n   - start(): void\n   - stop(): void\n   - onKey(handler: (event: KeyEvent) =\u003e void): unsubscribe\n   - onMouse(handler: (event: MouseEvent) =\u003e void): unsubscribe\n\n3. Handle stream data:\n   - Buffer incomplete sequences\n   - Detect sequence type (key vs mouse)\n   - Parse and emit appropriate events\n   - Handle UTF-8 decoding\n\n4. Create Zod schema for input config\n\nTesting:\n- Test stream attachment\n- Test event emission\n- Test buffering of incomplete sequences\n- Test cleanup on stop\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:36.992050904-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:36.992050904-05:00","dependencies":[{"issue_id":"blessed-n37.3","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:21:36.993669229-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.4","title":"Define Input components","description":"Create bitecs components for input state.\n\nComponents:\n```typescript\nconst KeyboardInput = defineComponent({\n  lastKeyCode: Types.ui32,\n  lastKeyTime: Types.f64,\n  modifiers: Types.ui8,  // Packed: ctrl|meta|shift\n})\n\nconst MouseInput = defineComponent({\n  x: Types.i16,\n  y: Types.i16,\n  button: Types.ui8,\n  pressed: Types.ui8,\n  lastClickTime: Types.f64,\n  clickCount: Types.ui8,  // For double-click detection\n})\n\nconst InputBuffer = defineComponent({\n  bufferStart: Types.ui32,  // Reference to buffer store\n  bufferLength: Types.ui16,\n})\n```\n\nTasks:\n1. Create src/components/input.ts\n2. Define KeyboardInput component\n3. Define MouseInput component\n4. Define InputBuffer component\n5. Create InputBufferStore for text input buffering\n6. Export helper functions\n\nTesting:\n- Test component creation\n- Test modifier packing/unpacking\n- Test double-click detection\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:44.242675551-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:44.242675551-05:00","dependencies":[{"issue_id":"blessed-n37.4","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:21:44.24362542-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.5","title":"Create input system","description":"Create bitecs system for input processing.\n\nTasks:\n1. Create src/systems/inputSystem.ts\n2. Define inputSystem:\n   - Process queued input events\n   - Update MouseInput component with position\n   - Update KeyboardInput component\n   - Determine hit targets for mouse\n   - Dispatch events to target entities\n   - Handle focus changes on click\n   - Handle tab navigation\n\n3. Register in INPUT phase (runs first)\n\nTesting:\n- Test mouse hit detection\n- Test keyboard event routing\n- Test focus management\n- Test input queue processing\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:50.075874277-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:50.075874277-05:00","dependencies":[{"issue_id":"blessed-n37.5","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:21:50.077506725-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.6","title":"Create GPM mouse client","description":"Create GPM (General Purpose Mouse) protocol client.\n\nTasks:\n1. Create src/terminal/gpmClient.ts\n2. Implement GPM socket connection\n3. Parse GPM events to MouseEvent\n4. Handle connection lifecycle\n5. Create factory: createGpmClient(options)\n\nTesting:\n- Test socket connection (mock)\n- Test event parsing\n- Test reconnection handling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:54.675800992-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:54.675800992-05:00","dependencies":[{"issue_id":"blessed-n37.6","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:21:54.677264962-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.7","title":"Create key binding system","description":"Create configurable key binding system.\n\nTasks:\n1. Create src/core/keyBindings.ts\n2. Define KeyBinding interface:\n```typescript\ninterface KeyBinding {\n  key: string | string[];  // 'ctrl+s' or ['ctrl+s', 'cmd+s']\n  action: string;          // Action identifier\n  when?: string;           // Condition expression\n  preventDefault?: boolean;\n}\n```\n\n3. Create KeyBindingManager class:\n   - register(binding: KeyBinding): void\n   - unregister(action: string): void\n   - getBindingsForKey(key: KeyEvent): KeyBinding[]\n   - getBindingForAction(action: string): KeyBinding | null\n   - matchesKey(binding, event): boolean\n\n4. Parse key strings: 'ctrl+shift+a' -\u003e { ctrl: true, shift: true, name: 'a' }\n5. Create Zod schema for key binding config\n\nTesting:\n- Test key string parsing\n- Test binding registration\n- Test key matching\n- Test conditional bindings\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:01.672018362-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:01.672018362-05:00","dependencies":[{"issue_id":"blessed-n37.7","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:22:01.673555648-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree","title":"EPIC: Screen \u0026 Rendering System","description":"Epic for screen management and rendering pipeline.\n\nRewrite of screen.js (2,298 lines) covering:\n- Screen buffer allocation\n- Double-buffering for efficient updates\n- Dirty region tracking\n- Render pipeline with systems\n- Focus management\n- Cursor rendering\n- Border docking\n- Screen resize handling\n- Alternate buffer management\n- bitecs rendering components and systems","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:08.017256826-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:08.017256826-05:00"}
{"id":"blessed-ree.1","title":"Create Cell type and screen buffer","description":"Create screen buffer with typed cells.\n\nTasks:\n1. Create src/terminal/screen/cell.ts\n2. Define Cell type:\n```typescript\ninterface Cell {\n  char: string;        // Character (may be multi-byte)\n  fg: number;          // Foreground color (256 or RGB packed)\n  bg: number;          // Background color\n  attrs: number;       // Packed attributes (bold, underline, etc.)\n}\n```\n\n3. Define attribute bit flags:\n   - BOLD = 1 \u003c\u003c 0\n   - DIM = 1 \u003c\u003c 1\n   - ITALIC = 1 \u003c\u003c 2\n   - UNDERLINE = 1 \u003c\u003c 3\n   - BLINK = 1 \u003c\u003c 4\n   - INVERSE = 1 \u003c\u003c 5\n   - HIDDEN = 1 \u003c\u003c 6\n   - STRIKETHROUGH = 1 \u003c\u003c 7\n\n4. Create ScreenBuffer class:\n   - constructor(width: number, height: number)\n   - getCell(x, y): Cell\n   - setCell(x, y, cell): void\n   - clear(): void\n   - resize(width, height): void\n   - fill(cell: Cell): void\n   - fillRect(x, y, w, h, cell): void\n\nTesting:\n- Test cell get/set\n- Test resize\n- Test fill operations\n- Test boundary checks\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:12.067087196-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:12.067087196-05:00","dependencies":[{"issue_id":"blessed-ree.1","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:12.068093959-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.2","title":"Create double buffering system","description":"Create double buffering for efficient rendering.\n\nTasks:\n1. Create src/terminal/screen/doubleBuffer.ts\n2. Define DoubleBuffer class:\n   - frontBuffer: ScreenBuffer\n   - backBuffer: ScreenBuffer\n   - swap(): void\n   - getDirtyRegions(): Rect[]\n   - clearDirty(): void\n\n3. Track dirty regions:\n   - Mark cells as dirty when changed\n   - Coalesce adjacent dirty regions\n   - Only render changed regions\n\n4. Create diff algorithm:\n   - Compare front and back buffers\n   - Return minimal update set\n\nTesting:\n- Test dirty tracking\n- Test region coalescing\n- Test diff accuracy\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:18.402412483-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:18.402412483-05:00","dependencies":[{"issue_id":"blessed-ree.2","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:18.403738916-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.3","title":"Create Screen entity and component","description":"Create Screen root entity with ECS.\n\nTasks:\n1. Create src/components/screen.ts\n2. Define Screen component:\n```typescript\nconst ScreenComponent = defineComponent({\n  width: Types.ui16,\n  height: Types.ui16,\n  cursorX: Types.ui16,\n  cursorY: Types.ui16,\n  cursorVisible: Types.ui8,\n  cursorShape: Types.ui8,\n  focused: Types.eid,       // Currently focused entity\n  hovered: Types.eid,       // Currently hovered entity\n  fullUnicode: Types.ui8,\n  autoPadding: Types.ui8,\n})\n```\n\n3. Create src/core/screen.ts with:\n   - createScreen(world, config): Entity\n   - getScreen(world): Entity\n   - Only one screen per world (singleton)\n\n4. Create ScreenConfig Zod schema\n\nTesting:\n- Test screen creation\n- Test singleton enforcement\n- Test config validation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:25.732019132-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:25.732019132-05:00","dependencies":[{"issue_id":"blessed-ree.3","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:25.733334885-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.4","title":"Create layout calculation system","description":"Create bitecs system for layout calculation.\n\nTasks:\n1. Create src/systems/layoutSystem.ts\n2. Define layoutSystem:\n   - Query entities with Position + Dimensions\n   - Calculate absolute positions from relative\n   - Handle percentage dimensions\n   - Respect parent boundaries\n   - Handle shrink-to-content\n   - Set final computed positions\n\n3. Process in tree order (parents before children)\n4. Register in LAYOUT phase\n\nTesting:\n- Test absolute positioning\n- Test relative positioning\n- Test percentage dimensions\n- Test shrink behavior\n- Test nested elements\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:32.62331877-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:32.62331877-05:00","dependencies":[{"issue_id":"blessed-ree.4","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:32.625177512-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.5","title":"Create render system","description":"Create bitecs system for rendering to buffer.\n\nTasks:\n1. Create src/systems/renderSystem.ts\n2. Define renderSystem:\n   - Query visible, dirty entities\n   - Sort by z-index\n   - Render each entity to screen buffer:\n     - Clear entity region\n     - Render border\n     - Render background\n     - Render content\n     - Render children (recursively)\n   - Mark entities as clean\n\n3. Render functions:\n   - renderBorder(buffer, entity)\n   - renderBackground(buffer, entity)\n   - renderContent(buffer, entity)\n   - renderScrollbar(buffer, entity)\n\n4. Register in RENDER phase\n\nTesting:\n- Test basic rendering\n- Test z-index ordering\n- Test clipping\n- Test dirty detection\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:38.175895314-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:38.175895314-05:00","dependencies":[{"issue_id":"blessed-ree.5","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:38.177802536-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.6","title":"Create buffer output system","description":"Create system to output buffer to terminal.\n\nTasks:\n1. Create src/systems/outputSystem.ts\n2. Define outputSystem:\n   - Get dirty regions from double buffer\n   - Generate ANSI escape sequences\n   - Optimize cursor movement\n   - Coalesce attribute changes\n   - Write to output stream\n   - Swap buffers\n\n3. Optimizations:\n   - Skip unchanged cells\n   - Batch attribute changes\n   - Use relative cursor movement\n\n4. Register in POST_RENDER phase (runs last)\n\nTesting:\n- Test output generation\n- Test optimization effectiveness\n- Test cursor positioning\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:45.83277291-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:45.83277291-05:00","dependencies":[{"issue_id":"blessed-ree.6","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:45.834169373-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.7","title":"Create focus management system","description":"Create focus management for keyboard navigation.\n\nTasks:\n1. Create src/systems/focusSystem.ts\n2. Define focusSystem:\n   - Track focused entity in Screen component\n   - Handle tab navigation\n   - Handle arrow key navigation (optional)\n   - Apply focus effects when focus changes\n   - Emit focus/blur events\n\n3. Create focus manager:\n   - focusNext(world): void\n   - focusPrev(world): void\n   - focusEntity(world, eid): void\n   - blurAll(world): void\n   - getFocused(world): Entity | null\n\n4. Register in INPUT phase\n\nTesting:\n- Test tab navigation order\n- Test focus effects apply\n- Test focus events emit\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:51.958478214-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:51.958478214-05:00","dependencies":[{"issue_id":"blessed-ree.7","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:51.960115849-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.8","title":"Create resize handling","description":"Create terminal resize handling.\n\nTasks:\n1. Create src/terminal/resize.ts\n2. Handle SIGWINCH signal\n3. Update Screen component dimensions\n4. Resize screen buffers\n5. Mark all entities dirty\n6. Emit resize event\n7. Re-run layout system\n\nTesting:\n- Test resize detection\n- Test buffer resize\n- Test layout recalculation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:57.548236448-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:57.548236448-05:00","dependencies":[{"issue_id":"blessed-ree.8","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:57.549463545-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.9","title":"Create cleanup and disposal system","description":"Create proper cleanup for entities and resources.\n\nTasks:\n1. Create src/core/disposal.ts\n2. Define cleanup lifecycle:\n   - Mark entity for removal\n   - Run onDestroy callbacks\n   - Remove from hierarchy\n   - Remove all components\n   - Clean up stores (content, sprites, etc.)\n   - Recycle entity ID\n\n3. Create functions:\n   - destroyEntity(world, entity): void\n   - destroyAllChildren(world, parent): void\n   - destroyWorld(world): void\n\n4. Handle deferred destruction:\n   - Mark entities during frame\n   - Actually destroy at end of frame\n   - Prevent dangling references\n\nTesting:\n- Test entity destruction\n- Test hierarchy cleanup\n- Test store cleanup\n- Test no memory leaks\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:34:31.435156279-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:34:31.435156279-05:00","dependencies":[{"issue_id":"blessed-ree.9","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:34:31.436716627-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-vdk","title":"EPIC: Color System","description":"Epic for color management and conversion.\n\nRewrite of colors.js (530 lines) covering:\n- 256-color palette with strict typing\n- RGB/Hex conversion utilities\n- Color matching algorithm (nearest color)\n- Color blending and mixing\n- Color reduction for low-color terminals\n- Color name to index mapping\n- Zod schemas for color validation","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:15:34.807340571-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:15:34.807340571-05:00"}
{"id":"blessed-vdk.1","title":"Create 256-color palette","description":"Create typed 256-color palette with conversions.\n\nRewrite of colors.js palette section.\n\nTasks:\n1. Create src/terminal/colors/palette.ts\n2. Define Color256 type (0-255 branded number)\n3. Create PALETTE constant:\n   - 16 standard colors (0-15)\n   - 216 color cube (16-231)\n   - 24 grayscale (232-255)\n\n4. Export as readonly arrays:\n   - PALETTE_HEX: readonly string[]\n   - PALETTE_RGB: readonly [number, number, number][]\n\n5. Create Zod schemas:\n   - Color256Schema\n   - RGBSchema\n   - HexColorSchema\n\nTesting:\n- Test palette values are correct\n- Test type safety\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:23:14.305727187-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:23:14.305727187-05:00","dependencies":[{"issue_id":"blessed-vdk.1","depends_on_id":"blessed-vdk","type":"parent-child","created_at":"2026-02-01T11:23:14.307171987-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-vdk.2","title":"Create color conversion functions","description":"Create color format conversion functions.\n\nTasks:\n1. Create src/terminal/colors/convert.ts\n2. Define RGB interface: { r: number; g: number; b: number }\n3. Create conversion functions:\n   - hexToRgb(hex: string): RGB\n   - rgbToHex(rgb: RGB): string\n   - rgbToHsl(rgb: RGB): HSL\n   - hslToRgb(hsl: HSL): RGB\n   - rgb256(rgb: RGB): Color256 (nearest match)\n   - color256ToRgb(color: Color256): RGB\n\n4. Handle edge cases:\n   - 3-char hex (#RGB)\n   - 6-char hex (#RRGGBB)\n   - 8-char hex (#RRGGBBAA)\n   - Invalid inputs (throw typed errors)\n\nTesting:\n- Test all conversions\n- Test round-trip accuracy\n- Test edge cases\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:23:21.860051322-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:23:21.860051322-05:00","dependencies":[{"issue_id":"blessed-vdk.2","depends_on_id":"blessed-vdk","type":"parent-child","created_at":"2026-02-01T11:23:21.88421102-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-vdk.3","title":"Create color matching algorithm","description":"Create nearest color matching for palette.\n\nRewrite of colors.js match() function.\n\nTasks:\n1. Create src/terminal/colors/match.ts\n2. Implement color distance algorithms:\n   - euclidean(c1: RGB, c2: RGB): number\n   - weightedEuclidean(c1, c2): number (perceptual weights)\n   - ciede2000(c1, c2): number (optional, more accurate)\n\n3. Create matching functions:\n   - matchColor(rgb: RGB, palette?: Color256[]): Color256\n   - matchColorCached(rgb: RGB): Color256 (with LRU cache)\n\n4. Create cache:\n   - LRU cache for repeated matches\n   - Configurable cache size\n\nTesting:\n- Test known color matches\n- Test cache behavior\n- Test performance with many colors\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:23:28.023140412-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:23:28.023140412-05:00","dependencies":[{"issue_id":"blessed-vdk.3","depends_on_id":"blessed-vdk","type":"parent-child","created_at":"2026-02-01T11:23:28.024860604-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-vdk.4","title":"Create color name mapping","description":"Create color name to index mapping.\n\nTasks:\n1. Create src/terminal/colors/names.ts\n2. Define ColorName type union:\n   - Basic: 'black', 'red', 'green', 'yellow', 'blue', 'magenta', 'cyan', 'white'\n   - Light variants: 'lightblack', 'lightred', etc.\n   - Special: 'default', 'transparent'\n\n3. Create mappings:\n   - COLOR_NAMES: Record\u003cColorName, Color256\u003e\n   - COLOR_ALIASES: Record\u003cstring, ColorName\u003e\n     - 'grey' -\u003e 'white', etc.\n\n4. Create functions:\n   - nameToColor(name: string): Color256 | null\n   - colorToName(color: Color256): ColorName | null\n\n5. Create Zod schema for color name\n\nTesting:\n- Test all name mappings\n- Test aliases\n- Test invalid names\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:23:34.501339603-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:23:34.501339603-05:00","dependencies":[{"issue_id":"blessed-vdk.4","depends_on_id":"blessed-vdk","type":"parent-child","created_at":"2026-02-01T11:23:34.502398165-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-vdk.5","title":"Create color blending functions","description":"Create color blending and mixing functions.\n\nTasks:\n1. Create src/terminal/colors/blend.ts\n2. Create blending functions:\n   - mix(c1: RGB, c2: RGB, ratio?: number): RGB\n   - blend(c1: Color256, c2: Color256, ratio?: number): Color256\n   - lighten(color: RGB, amount: number): RGB\n   - darken(color: RGB, amount: number): RGB\n   - saturate(color: RGB, amount: number): RGB\n   - desaturate(color: RGB, amount: number): RGB\n\n3. Handle alpha blending:\n   - blendWithAlpha(fg: RGBA, bg: RGB): RGB\n\nTesting:\n- Test 50/50 blend is correct\n- Test edge cases (0, 1 ratios)\n- Test color preservation at extremes\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:23:41.009595906-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:23:41.009595906-05:00","dependencies":[{"issue_id":"blessed-vdk.5","depends_on_id":"blessed-vdk","type":"parent-child","created_at":"2026-02-01T11:23:41.011107704-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-vdk.6","title":"Create color reduction for low-color terminals","description":"Create color reduction for 16/8/2 color terminals.\n\nTasks:\n1. Create src/terminal/colors/reduce.ts\n2. Create reduction functions:\n   - reduceTo16(color: Color256): Color256\n   - reduceTo8(color: Color256): Color256\n   - reduceTo2(color: Color256): Color256 (monochrome)\n\n3. Create palette mappers:\n   - createReducedPalette(depth: ColorDepth): Color256[]\n\n4. Handle bright colors:\n   - Map bright variants to base on low-color\n\nTesting:\n- Test reduction preserves hue\n- Test round-trip where applicable\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:23:48.416359632-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:23:48.416359632-05:00","dependencies":[{"issue_id":"blessed-vdk.6","depends_on_id":"blessed-vdk","type":"parent-child","created_at":"2026-02-01T11:23:48.417934533-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg","title":"EPIC: Layout Widgets","description":"Epic for basic layout widgets.\n\nCovers Box, Text, Line, Layout widgets:\n- Box container with borders\n- Text display widget\n- Line separator widget\n- Layout engine (inline/grid)\n- ScrollableBox with scrollbars\n- ScrollableText for read-only content\n- All with bitecs components and Zod schemas","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:18.5182741-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:18.5182741-05:00"}
{"id":"blessed-wlg.1","title":"Create Box widget","description":"Create basic Box widget (container).\n\nTasks:\n1. Create src/widgets/box.ts\n2. Define BoxConfig Zod schema:\n```typescript\nconst BoxConfigSchema = z.object({\n  // Position\n  left: DimensionSchema.optional(),\n  top: DimensionSchema.optional(),\n  right: DimensionSchema.optional(),\n  bottom: DimensionSchema.optional(),\n  width: DimensionSchema.optional(),\n  height: DimensionSchema.optional(),\n  \n  // Style\n  fg: ColorSchema.optional(),\n  bg: ColorSchema.optional(),\n  border: BorderConfigSchema.optional(),\n  padding: PaddingConfigSchema.optional(),\n  \n  // Content\n  content: z.string().optional(),\n  align: AlignSchema.optional(),\n  valign: VAlignSchema.optional(),\n})\n```\n\n3. Create factory: createBox(world, config): Entity\n4. Add all required components\n5. Utility functions:\n   - setBoxContent(world, entity, content)\n   - getBoxContent(world, entity)\n\nTesting:\n- Test box creation with all options\n- Test default values\n- Test content setting\n- Test rendering\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:51.440995413-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:51.440995413-05:00","dependencies":[{"issue_id":"blessed-wlg.1","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T11:26:51.442033302-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg.2","title":"Create Text widget","description":"Create Text widget for labels.\n\nTasks:\n1. Create src/widgets/text.ts\n2. Define TextConfig Zod schema:\n   - Extends BoxConfig\n   - shrink: true by default\n   - No border by default\n\n3. Create factory: createText(world, config): Entity\n4. Auto-shrink to content size\n\nTesting:\n- Test text creation\n- Test shrink behavior\n- Test multi-line text\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:57.599751466-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:57.599751466-05:00","dependencies":[{"issue_id":"blessed-wlg.2","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T11:26:57.601263915-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg.3","title":"Create Line widget","description":"Create Line widget for separators.\n\nTasks:\n1. Create src/widgets/line.ts\n2. Define LineConfig Zod schema:\n   - orientation: 'horizontal' | 'vertical'\n   - char: string (default '─' or '│')\n   - fg, bg colors\n\n3. Create factory: createLine(world, config): Entity\n4. Auto-size based on orientation:\n   - Horizontal: height=1, width=parent\n   - Vertical: width=1, height=parent\n\nTesting:\n- Test horizontal line\n- Test vertical line\n- Test custom character\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:04.182378655-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:04.182378655-05:00","dependencies":[{"issue_id":"blessed-wlg.3","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T11:27:04.184013123-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg.4","title":"Create ScrollableBox widget","description":"Create scrollable container widget.\n\nTasks:\n1. Create src/widgets/scrollableBox.ts\n2. Define ScrollableBoxConfig Zod schema:\n   - Extends BoxConfig\n   - scrollbar: boolean | ScrollbarConfig\n   - alwaysScroll: boolean\n   - mouse: boolean (enable scroll wheel)\n   - keys: boolean (enable arrow keys)\n\n3. Create factory: createScrollableBox(world, config): Entity\n4. Add Scrollable component\n5. Methods:\n   - scrollTo(world, entity, x, y)\n   - scrollBy(world, entity, dx, dy)\n   - setScrollPerc(world, entity, perc)\n   - getScrollPerc(world, entity)\n\nTesting:\n- Test scroll position\n- Test scrollbar rendering\n- Test mouse wheel\n- Test keyboard scrolling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:11.365640835-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:11.365640835-05:00","dependencies":[{"issue_id":"blessed-wlg.4","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T11:27:11.36722664-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg.5","title":"Create Layout widget","description":"Create auto-layout container widget.\n\nTasks:\n1. Create src/widgets/layout.ts\n2. Define LayoutConfig Zod schema:\n   - layout: 'inline' | 'grid' | 'flex'\n   - gap: number (spacing between children)\n   - wrap: boolean\n   - justify: 'start' | 'center' | 'end' | 'space-between'\n   - align: 'start' | 'center' | 'end'\n\n3. Create factory: createLayout(world, config): Entity\n4. Create layout calculation functions:\n   - calculateInlineLayout(children, containerWidth)\n   - calculateGridLayout(children, cols)\n   - calculateFlexLayout(children, options)\n\n5. Add Layout component to store layout type\n\nTesting:\n- Test inline layout wrapping\n- Test grid layout\n- Test gap spacing\n- Test alignment\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:17.805225459-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:17.805225459-05:00","dependencies":[{"issue_id":"blessed-wlg.5","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T11:27:17.806695781-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg.6","title":"Create Tabs widget","description":"Create tabbed container widget.\n\nTasks:\n1. Create src/widgets/tabs.ts\n2. Define TabsConfig Zod schema:\n   - tabs: Array\u003c{ label: string; content: Entity | (() =\u003e Entity) }\u003e\n   - activeTab: number\n   - position: 'top' | 'bottom'\n   - style.tab, style.activeTab, style.content\n\n3. Create factory: createTabs(world, config): Entity\n4. Features:\n   - Tab header bar\n   - Content switching\n   - Lazy content loading (optional)\n   - Close buttons (optional)\n\n5. Key bindings:\n   - Tab/Shift+Tab: next/prev tab\n   - 1-9: jump to tab\n\nTesting:\n- Test tab switching\n- Test content rendering\n- Test lazy loading\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:33:33.048061621-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:33:33.048061621-05:00","dependencies":[{"issue_id":"blessed-wlg.6","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T11:33:33.050016188-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg.7","title":"Create Panel widget with title","description":"Create panel widget with title bar.\n\nTasks:\n1. Create src/widgets/panel.ts\n2. Define PanelConfig Zod schema:\n   - title: string\n   - closable: boolean\n   - collapsible: boolean\n   - collapsed: boolean\n   - style.title, style.content, style.border\n\n3. Create factory: createPanel(world, config): Entity\n4. Features:\n   - Title bar at top\n   - Close button (optional)\n   - Collapse/expand (optional)\n   - Content area\n\nTesting:\n- Test title rendering\n- Test collapse toggle\n- Test close event\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:33:38.267341743-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:33:38.267341743-05:00","dependencies":[{"issue_id":"blessed-wlg.7","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T11:33:38.268333563-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-zrt","title":"EPIC: Specialized Widgets","description":"Epic for specialized widgets.\n\nCovers Log, FileManager, BigText, Terminal, Image widgets:\n- Log append-only display\n- FileManager directory browser\n- BigText ASCII art rendering\n- Terminal emulator (optional)\n- ANSIImage rendering (optional)\n- All with bitecs components","status":"open","priority":2,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:43.655348908-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:43.655348908-05:00"}
{"id":"blessed-zrt.1","title":"Create Log widget","description":"Create append-only log display widget.\n\nTasks:\n1. Create src/widgets/log.ts\n2. Define LogConfig Zod schema:\n   - scrollback: number (max lines, default Infinity)\n   - scrollOnInput: boolean (auto-scroll on new content)\n   - timestamps: boolean\n   - timestampFormat: string\n\n3. Create factory: createLog(world, config): Entity\n4. Add Log component:\n```typescript\nconst LogComponent = defineComponent({\n  scrollback: Types.ui32,\n  lineCount: Types.ui32,\n  scrollOnInput: Types.ui8,\n  timestamps: Types.ui8,\n})\n```\n\n5. Methods:\n   - log(world, entity, ...args): void (printf-style)\n   - clear(world, entity): void\n   - getLines(world, entity): string[]\n\n6. Auto-prune old lines when exceeding scrollback\n\nTesting:\n- Test log appending\n- Test scrollback limit\n- Test auto-scroll\n- Test timestamps\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:31:57.154316108-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:31:57.154316108-05:00","dependencies":[{"issue_id":"blessed-zrt.1","depends_on_id":"blessed-zrt","type":"parent-child","created_at":"2026-02-01T11:31:57.155769074-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-zrt.2","title":"Create FileManager widget","description":"Create file browser widget.\n\nTasks:\n1. Create src/widgets/fileManager.ts\n2. Define FileManagerConfig Zod schema:\n   - cwd: string (initial directory)\n   - showHidden: boolean\n   - fileFilter: RegExp | ((name: string) =\u003e boolean)\n   - style.directory: Style\n   - style.file: Style\n   - style.symlink: Style\n\n3. Create factory: createFileManager(world, config): Entity\n4. Methods:\n   - setCwd(world, entity, path): void\n   - getCwd(world, entity): string\n   - getSelected(world, entity): string | null\n   - refresh(world, entity): void\n   - pick(world, entity): Promise\u003cstring | null\u003e\n\n5. Features:\n   - Directory navigation (..)\n   - File type icons/colors\n   - Sorted display (dirs first)\n   - Error handling for permissions\n\nTesting:\n- Test directory listing\n- Test navigation\n- Test file selection\n- Test hidden files\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:32:04.545113225-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:32:04.545113225-05:00","dependencies":[{"issue_id":"blessed-zrt.2","depends_on_id":"blessed-zrt","type":"parent-child","created_at":"2026-02-01T11:32:04.546132356-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-zrt.3","title":"Create BigText widget","description":"Create large ASCII art text widget.\n\nTasks:\n1. Create src/widgets/bigText.ts\n2. Define BigTextConfig Zod schema:\n   - text: string\n   - font: string | FontDefinition\n   - fg: Color\n   - bg: Color\n\n3. Create factory: createBigText(world, config): Entity\n4. Font format:\n   - Each character as multi-line ASCII art\n   - Variable width characters\n   - JSON font files\n\n5. Methods:\n   - setText(world, entity, text): void\n   - loadFont(path): FontDefinition\n\n6. Include default font (or multiple)\n\nTesting:\n- Test text rendering\n- Test font loading\n- Test multi-line text\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:32:11.61679757-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:32:11.61679757-05:00","dependencies":[{"issue_id":"blessed-zrt.3","depends_on_id":"blessed-zrt","type":"parent-child","created_at":"2026-02-01T11:32:11.618216481-05:00","created_by":"Jeremy Stover"}]}

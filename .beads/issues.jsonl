{"id":"blessed-0t8","title":"EPIC: bitecs ECS Core","description":"Epic for Entity Component System foundation.\n\nNew architecture covering:\n- World creation and management\n- Entity lifecycle (create, destroy, recycle)\n- Component definitions for all UI elements\n- System scheduler and execution order\n- Query definitions for efficient iteration\n- Archetype management\n- Serialization/deserialization\n- Debug utilities\n\nThis is the architectural foundation for the entire rewrite.","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:02.836211269-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:02.836211269-05:00","dependencies":[{"issue_id":"blessed-0t8","depends_on_id":"blessed-19j","type":"blocks","created_at":"2026-02-01T11:58:18.553938281-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.1","title":"Define Position component","description":"Create Position component for entity positioning.\n\nComponent definition:\n```typescript\nconst Position = defineComponent({\n  x: Types.f32,      // X coordinate\n  y: Types.f32,      // Y coordinate\n  z: Types.ui16,     // Z-index for layering\n  absolute: Types.ui8, // 0=relative to parent, 1=absolute\n})\n```\n\nTasks:\n1. Create src/components/position.ts\n2. Define Position component with bitecs\n3. Export component and helper functions:\n   - setPosition(world, eid, x, y, z?)\n   - getPosition(world, eid): {x, y, z}\n4. Create Zod schema for position validation\n\nTesting:\n- Test component creation\n- Test set/get helpers\n- Test z-index ordering\n- Verify strict types work\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:10.90540469-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:10.90540469-05:00","dependencies":[{"issue_id":"blessed-0t8.1","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:10.907459214-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.10","title":"Define Interactive component","description":"Create Interactive component for mouse/keyboard interaction.\n\nComponent definition:\n```typescript\nconst Interactive = defineComponent({\n  clickable: Types.ui8,    // 0=no, 1=yes\n  draggable: Types.ui8,    // 0=no, 1=yes\n  hoverable: Types.ui8,    // 0=no, 1=yes\n  hovered: Types.ui8,      // 0=no, 1=yes (current state)\n  pressed: Types.ui8,      // 0=no, 1=yes (current state)\n  keyable: Types.ui8,      // 0=no, 1=yes (receives key events)\n  hoverEffectFg: Types.ui32,\n  hoverEffectBg: Types.ui32,\n})\n```\n\nTasks:\n1. Create src/components/interactive.ts\n2. Define Interactive component with bitecs\n3. Export helper functions:\n   - setClickable(world, eid, clickable)\n   - setDraggable(world, eid, draggable)\n   - setHoverable(world, eid, hoverable)\n   - isHovered(world, eid)\n   - isPressed(world, eid)\n4. Create Zod schema for interactive config\n\nTesting:\n- Test state toggles\n- Test hover/press state management\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:19:11.913125316-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:19:11.913125316-05:00","dependencies":[{"issue_id":"blessed-0t8.10","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:19:11.914445935-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.11","title":"Define Label component","description":"Create Label component for element labels.\n\nComponent definition:\n```typescript\nconst Label = defineComponent({\n  labelId: Types.ui32,     // Reference to label text store\n  position: Types.ui8,     // 0=top-left, 1=top-center, 2=top-right, etc.\n  offsetX: Types.i8,\n  offsetY: Types.i8,\n})\n```\n\nTasks:\n1. Create src/components/label.ts\n2. Define Label component with bitecs\n3. Define LabelPosition enum\n4. Export helper functions:\n   - setLabel(world, eid, text, position?)\n   - getLabel(world, eid): string\n   - removeLabel(world, eid)\n5. Create Zod schema for label config\n\nTesting:\n- Test label setting/getting\n- Test position options\n- Test offset handling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:19:18.906813413-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:19:18.906813413-05:00","dependencies":[{"issue_id":"blessed-0t8.11","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:19:18.923179254-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.12","title":"Create system scheduler","description":"Create system scheduler for ordered execution.\n\nTasks:\n1. Create src/core/scheduler.ts\n2. Define SystemPhase enum:\n   - INPUT: Process input events\n   - UPDATE: Game logic updates\n   - LAYOUT: Calculate positions/sizes\n   - RENDER: Render to screen buffer\n   - POST_RENDER: Cleanup\n\n3. Create Scheduler class:\n   - registerSystem(phase, system, priority?)\n   - unregisterSystem(system)\n   - run(world, delta): Execute all systems in order\n   - getSystemsForPhase(phase): System[]\n\n4. Export createScheduler() factory\n\nTesting:\n- Test system registration/unregistration\n- Test phase ordering\n- Test priority within phase\n- Test delta time passing\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:19:26.057459452-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:19:26.057459452-05:00","dependencies":[{"issue_id":"blessed-0t8.12","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:19:26.059269778-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.13","title":"Create entity factory functions","description":"Create typed entity factory functions.\n\nTasks:\n1. Create src/core/entities.ts\n2. Define entity archetypes:\n   - createScreenEntity(world, config): Entity\n   - createBoxEntity(world, config): Entity\n   - createTextEntity(world, config): Entity\n   - createButtonEntity(world, config): Entity\n   - etc.\n\n3. Each factory should:\n   - Create entity with addEntity()\n   - Add required components for type\n   - Initialize with config values\n   - Return typed entity\n\n4. Use Zod for config validation\n\nTesting:\n- Test each factory creates correct components\n- Test config validation\n- Test default values\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:19:31.535725039-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:19:31.535725039-05:00","dependencies":[{"issue_id":"blessed-0t8.13","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:19:31.537221897-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.14","title":"Create common queries","description":"Create reusable bitecs queries.\n\nTasks:\n1. Create src/core/queries.ts\n2. Define common queries:\n   - renderableQuery: Entities with Position + Dimensions + Renderable\n   - focusableQuery: Entities with Focusable\n   - interactiveQuery: Entities with Interactive\n   - scrollableQuery: Entities with Scrollable\n   - visibleQuery: Renderable where visible=1\n   - dirtyQuery: Renderable where dirty=1\n   - childrenQuery(parent): Hierarchy where parent=eid\n\n3. Export query factory functions where parameterized\n\nTesting:\n- Test each query returns correct entities\n- Test query performance with many entities\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:19:37.966881816-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:19:37.966881816-05:00","dependencies":[{"issue_id":"blessed-0t8.14","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:19:37.967867029-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.2","title":"Define Dimensions component","description":"Create Dimensions component for entity sizing.\n\nComponent definition:\n```typescript\nconst Dimensions = defineComponent({\n  width: Types.f32,   // Width (can be percentage encoded)\n  height: Types.f32,  // Height (can be percentage encoded)\n  minWidth: Types.f32,\n  minHeight: Types.f32,\n  maxWidth: Types.f32,\n  maxHeight: Types.f32,\n  shrink: Types.ui8,  // 0=no, 1=shrink to content\n})\n```\n\nTasks:\n1. Create src/components/dimensions.ts\n2. Define Dimensions component with bitecs\n3. Export helper functions:\n   - setDimensions(world, eid, width, height)\n   - getDimensions(world, eid)\n   - setConstraints(world, eid, min, max)\n4. Create Zod schema for dimension validation\n5. Support percentage values (encoded as negative or special flag)\n\nTesting:\n- Test component creation\n- Test percentage dimension encoding\n- Test constraint validation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:17.26283392-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:17.26283392-05:00","dependencies":[{"issue_id":"blessed-0t8.2","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:17.265367642-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.3","title":"Define Renderable component","description":"Create Renderable component for visual entities.\n\nComponent definition:\n```typescript\nconst Renderable = defineComponent({\n  visible: Types.ui8,     // 0=hidden, 1=visible\n  dirty: Types.ui8,       // 0=clean, 1=needs redraw\n  fg: Types.ui32,         // Foreground color (packed RGBA)\n  bg: Types.ui32,         // Background color (packed RGBA)\n  bold: Types.ui8,\n  underline: Types.ui8,\n  blink: Types.ui8,\n  inverse: Types.ui8,\n  transparent: Types.ui8,\n})\n```\n\nTasks:\n1. Create src/components/renderable.ts\n2. Define Renderable component with bitecs\n3. Export helper functions:\n   - setStyle(world, eid, style)\n   - getStyle(world, eid)\n   - markDirty(world, eid)\n   - isVisible(world, eid)\n4. Create Zod schema for style validation\n\nTesting:\n- Test style setting/getting\n- Test dirty flag management\n- Test color packing/unpacking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:23.938310792-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:23.938310792-05:00","dependencies":[{"issue_id":"blessed-0t8.3","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:23.939349207-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.4","title":"Define Hierarchy component","description":"Create Hierarchy component for parent/child relationships.\n\nComponent definition:\n```typescript\nconst Hierarchy = defineComponent({\n  parent: Types.eid,      // Parent entity ID (0 = no parent)\n  firstChild: Types.eid,  // First child entity\n  nextSibling: Types.eid, // Next sibling entity\n  prevSibling: Types.eid, // Previous sibling entity\n  childCount: Types.ui16, // Number of children\n  depth: Types.ui16,      // Tree depth (0 = root)\n})\n```\n\nTasks:\n1. Create src/components/hierarchy.ts\n2. Define Hierarchy component with bitecs\n3. Export helper functions:\n   - setParent(world, child, parent)\n   - appendChild(world, parent, child)\n   - removeChild(world, parent, child)\n   - getChildren(world, parent): Entity[]\n   - getAncestors(world, eid): Entity[]\n   - getDescendants(world, eid): Entity[]\n\nTesting:\n- Test parent/child linking\n- Test sibling ordering\n- Test tree traversal\n- Test orphaning\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:30.500908577-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:30.500908577-05:00","dependencies":[{"issue_id":"blessed-0t8.4","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:30.501857887-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.5","title":"Define Border component","description":"Create Border component for element borders.\n\nComponent definition:\n```typescript\nconst Border = defineComponent({\n  type: Types.ui8,        // 0=none, 1=line, 2=bg, 3=custom\n  left: Types.ui8,        // 0=no, 1=yes\n  top: Types.ui8,\n  right: Types.ui8,\n  bottom: Types.ui8,\n  fg: Types.ui32,         // Border foreground color\n  bg: Types.ui32,         // Border background color\n  charTopLeft: Types.ui32,     // Unicode codepoint\n  charTopRight: Types.ui32,\n  charBottomLeft: Types.ui32,\n  charBottomRight: Types.ui32,\n  charHorizontal: Types.ui32,\n  charVertical: Types.ui32,\n})\n```\n\nTasks:\n1. Create src/components/border.ts\n2. Define Border component with bitecs\n3. Define BorderType enum\n4. Export helper functions:\n   - setBorder(world, eid, config)\n   - getBorder(world, eid)\n   - setBorderChars(world, eid, chars)\n5. Create Zod schema for border config\n6. Define preset border styles (single, double, rounded, bold)\n\nTesting:\n- Test border type setting\n- Test individual side toggling\n- Test custom character configuration\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:37.575933314-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:37.575933314-05:00","dependencies":[{"issue_id":"blessed-0t8.5","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:37.577511571-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.6","title":"Define Padding component","description":"Create Padding component for element spacing.\n\nComponent definition:\n```typescript\nconst Padding = defineComponent({\n  left: Types.ui8,\n  top: Types.ui8,\n  right: Types.ui8,\n  bottom: Types.ui8,\n})\n```\n\nTasks:\n1. Create src/components/padding.ts\n2. Define Padding component with bitecs\n3. Export helper functions:\n   - setPadding(world, eid, padding)\n   - getPadding(world, eid)\n   - setPaddingAll(world, eid, value)\n4. Create Zod schema for padding config\n5. Support shorthand (single value = all sides)\n\nTesting:\n- Test individual side setting\n- Test shorthand expansion\n- Test zero padding edge case\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:43.244865885-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:43.244865885-05:00","dependencies":[{"issue_id":"blessed-0t8.6","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:43.246200374-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.7","title":"Define Content component","description":"Create Content component for text content storage.\n\nSince bitecs doesn't support strings, we need a strategy:\n- Use a separate Map\u003cEntity, string\u003e for content\n- Store content hash/length in component for change detection\n\nComponent definition:\n```typescript\nconst Content = defineComponent({\n  contentId: Types.ui32,   // Reference to content store\n  length: Types.ui32,      // Content length\n  hash: Types.ui32,        // Content hash for change detection\n  wrap: Types.ui8,         // 0=no wrap, 1=wrap\n  align: Types.ui8,        // 0=left, 1=center, 2=right\n  valign: Types.ui8,       // 0=top, 1=middle, 2=bottom\n  parseTags: Types.ui8,    // 0=no, 1=parse markup tags\n})\n```\n\nTasks:\n1. Create src/components/content.ts\n2. Create ContentStore class for string management\n3. Define Content component with bitecs\n4. Export helper functions:\n   - setContent(world, eid, text)\n   - getContent(world, eid): string\n   - appendContent(world, eid, text)\n   - clearContent(world, eid)\n5. Create Zod schema for content config\n\nTesting:\n- Test content setting/getting\n- Test hash change detection\n- Test content store cleanup on entity removal\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:51.321275879-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:51.321275879-05:00","dependencies":[{"issue_id":"blessed-0t8.7","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:51.32221405-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.8","title":"Define Scrollable component","description":"Create Scrollable component for scrolling support.\n\nComponent definition:\n```typescript\nconst Scrollable = defineComponent({\n  scrollX: Types.f32,      // Horizontal scroll offset\n  scrollY: Types.f32,      // Vertical scroll offset\n  scrollWidth: Types.f32,  // Total scrollable width\n  scrollHeight: Types.f32, // Total scrollable height\n  scrollbarVisible: Types.ui8, // 0=hidden, 1=visible, 2=auto\n  trackVisible: Types.ui8,\n  alwaysScroll: Types.ui8, // 0=no, 1=always show scrollbar\n})\n```\n\nTasks:\n1. Create src/components/scrollable.ts\n2. Define Scrollable component with bitecs\n3. Export helper functions:\n   - setScroll(world, eid, x, y)\n   - getScroll(world, eid)\n   - scrollBy(world, eid, dx, dy)\n   - scrollTo(world, eid, x, y)\n   - getScrollPercentage(world, eid)\n4. Create Zod schema for scroll config\n\nTesting:\n- Test scroll position setting\n- Test scroll boundaries\n- Test percentage calculations\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:57.71338574-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:57.71338574-05:00","dependencies":[{"issue_id":"blessed-0t8.8","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:18:57.714429124-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-0t8.9","title":"Define Focusable component","description":"Create Focusable component for focus management.\n\nComponent definition:\n```typescript\nconst Focusable = defineComponent({\n  focusable: Types.ui8,    // 0=not focusable, 1=focusable\n  focused: Types.ui8,      // 0=not focused, 1=focused\n  tabIndex: Types.i16,     // Tab order (-1 = not in tab order)\n  focusEffectFg: Types.ui32,\n  focusEffectBg: Types.ui32,\n})\n```\n\nTasks:\n1. Create src/components/focusable.ts\n2. Define Focusable component with bitecs\n3. Export helper functions:\n   - setFocusable(world, eid, focusable)\n   - isFocused(world, eid)\n   - focus(world, eid) - also unfocuses others\n   - blur(world, eid)\n   - getTabOrder(world): Entity[]\n4. Create Zod schema for focus config\n\nTesting:\n- Test focus/blur\n- Test tab order calculation\n- Test single-focus enforcement\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:19:04.316857104-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:19:04.316857104-05:00","dependencies":[{"issue_id":"blessed-0t8.9","depends_on_id":"blessed-0t8","type":"parent-child","created_at":"2026-02-01T11:19:04.318330443-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j","title":"EPIC: Core Infrastructure \u0026 Build System","description":"Foundation epic for project setup and build tooling.\n\nThis epic covers:\n- TypeScript configuration with strict mode\n- Package.json with pnpm\n- Biome linting configuration  \n- Vitest testing framework\n- bitecs integration\n- Zod schema foundation\n- Source directory structure\n\nAll subsequent work depends on this epic being complete.","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:15:18.21483721-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:15:18.21483721-05:00"}
{"id":"blessed-19j.1","title":"Initialize pnpm and package.json","description":"Create modern package.json with pnpm.\n\nTasks:\n1. Initialize pnpm with 'pnpm init'\n2. Set package name to '@blessed/core' or similar\n3. Set type: 'module' for ESM\n4. Add engines field requiring Node 20+\n5. Configure exports field for proper module resolution\n6. Add scripts: dev, build, test, lint, typecheck\n\nTesting:\n- Verify pnpm install works\n- Verify package.json validates\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:17:29.068801957-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:17:29.068801957-05:00","dependencies":[{"issue_id":"blessed-19j.1","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:17:29.069994709-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.2","title":"Configure TypeScript with strict mode","description":"Set up TypeScript with maximum strictness.\n\nConfiguration requirements:\n- strict: true\n- noUncheckedIndexedAccess: true\n- noImplicitReturns: true\n- noFallthroughCasesInSwitch: true\n- noUnusedLocals: true\n- noUnusedParameters: true\n- exactOptionalPropertyTypes: true\n- noPropertyAccessFromIndexSignature: true\n- forceConsistentCasingInFileNames: true\n- target: ES2022\n- module: NodeNext\n- moduleResolution: NodeNext\n- declaration: true\n- declarationMap: true\n- sourceMap: true\n- outDir: ./dist\n- rootDir: ./src\n\nTesting:\n- Create a simple test.ts file and verify tsc compiles it\n- Verify strict errors are caught (test with intentional any)\n\nDo not bypass TypeScript errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:17:35.41513063-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:17:35.41513063-05:00","dependencies":[{"issue_id":"blessed-19j.2","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:17:35.416368996-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.3","title":"Install and configure Biome linter","description":"Set up Biome for linting and formatting.\n\nConfiguration requirements:\n- Enable all recommended rules\n- Configure for TypeScript\n- Set indentation to tabs or 2 spaces (consistent)\n- Enable format on save\n- Configure import sorting\n- Add lint script to package.json\n- Add format script to package.json\n\nTesting:\n- Run biome check on test file\n- Verify lint errors are caught\n- Verify formatting works\n\nDo not bypass Biome errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:17:40.29063841-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:17:40.29063841-05:00","dependencies":[{"issue_id":"blessed-19j.3","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:17:40.292206662-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.4","title":"Install and configure Vitest","description":"Set up Vitest testing framework.\n\nConfiguration requirements:\n- Install vitest as dev dependency\n- Create vitest.config.ts\n- Configure for TypeScript\n- Set up test directory structure (src/__tests__ or tests/)\n- Configure coverage reporting\n- Add test scripts to package.json: test, test:watch, test:coverage\n\nTesting:\n- Create a simple test file\n- Verify tests run\n- Verify coverage works\n\nDo not bypass test failures. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:17:44.971589709-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:17:44.971589709-05:00","dependencies":[{"issue_id":"blessed-19j.4","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:17:44.976004238-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.5","title":"Install bitecs and create world setup","description":"Install bitecs and create initial ECS infrastructure.\n\nTasks:\n1. Install bitecs: pnpm add bitecs\n2. Create src/core/world.ts with:\n   - createGameWorld() function\n   - World type export\n   - Basic world configuration\n\n3. Create src/core/types.ts with:\n   - Entity type alias\n   - Component type helpers\n   - System type definition\n\nTesting:\n- Write test that creates a world\n- Write test that adds/removes entities\n- Verify bitecs types work with strict TypeScript\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:17:50.611450556-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:17:50.611450556-05:00","dependencies":[{"issue_id":"blessed-19j.5","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:17:50.61289623-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.6","title":"Install Zod and create schema foundation","description":"Install Zod and create base schemas.\n\nTasks:\n1. Install zod: pnpm add zod\n2. Create src/schemas/index.ts\n3. Create src/schemas/common.ts with:\n   - PositiveInt schema\n   - NonNegativeInt schema\n   - Percentage schema (0-100)\n   - ColorString schema\n   - Dimension schema (number or percentage string)\n\n4. Create src/schemas/config.ts with:\n   - BaseConfigSchema for common options\n\nTesting:\n- Write tests for each schema\n- Verify validation errors are descriptive\n- Verify type inference works\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:17:57.253233545-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:17:57.253233545-05:00","dependencies":[{"issue_id":"blessed-19j.6","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:17:57.254960843-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.7","title":"Create source directory structure","description":"Create the complete source directory structure.\n\nDirectory structure:\nsrc/\n├── core/           # Core ECS and systems\n├── terminal/       # Terminal I/O layer\n├── components/     # bitecs components\n├── systems/        # bitecs systems\n├── widgets/        # High-level UI widgets\n├── schemas/        # Zod validation schemas\n├── utils/          # Utility functions\n├── types/          # TypeScript type definitions\n└── index.ts        # Public API exports\n\nTasks:\n1. Create all directories\n2. Create placeholder index.ts in each\n3. Create main src/index.ts with basic exports\n4. Verify build works with empty structure\n\nTesting:\n- Verify TypeScript compiles\n- Verify imports resolve correctly\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:18:03.369190418-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:18:03.369190418-05:00","dependencies":[{"issue_id":"blessed-19j.7","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:18:03.370868271-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.8","title":"Create integration test suite","description":"Create integration tests for the library.\n\nTasks:\n1. Create tests/integration/ directory\n2. Integration test categories:\n   - Rendering tests (visual output verification)\n   - Input tests (simulated key/mouse events)\n   - Widget lifecycle tests\n   - Full game loop tests\n\n3. Create test utilities:\n   - createTestScreen(): Mock screen for testing\n   - simulateKey(key): void\n   - simulateMouse(x, y, button): void\n   - captureOutput(): string[]\n\n4. Test scenarios:\n   - Create game -\u003e add widgets -\u003e render\n   - Input handling flow\n   - Focus navigation\n   - State machine transitions\n\nTesting:\n- All integration tests pass\n- Coverage \u003e 80%\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:33:00.3451178-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:33:00.3451178-05:00","dependencies":[{"issue_id":"blessed-19j.8","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:33:00.346688775-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-19j.9","title":"Create snapshot testing for rendering","description":"Create snapshot tests for visual regression.\n\nTasks:\n1. Create tests/snapshots/ directory\n2. Snapshot testing utilities:\n   - renderToString(entity): string (render to text)\n   - compareSnapshot(name, output): boolean\n   - updateSnapshot(name, output): void\n\n3. Snapshot categories:\n   - Each widget type\n   - Border styles\n   - Color rendering\n   - Scrollbars\n   - Complex layouts\n\n4. Integration with Vitest snapshots\n\nTesting:\n- Snapshots match expected output\n- Easy to update when intentional changes\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:33:06.707770403-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:33:06.707770403-05:00","dependencies":[{"issue_id":"blessed-19j.9","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:33:06.709074629-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-294","title":"EPIC: Dialog \u0026 Message Widgets","description":"Epic for dialog and message widgets.\n\nCovers Message, Prompt, Question, Loading:\n- Message notification display\n- Prompt text input dialog\n- Question yes/no dialog\n- Loading spinner indicator\n- Modal overlay system\n- Auto-dismiss timers\n- All with bitecs components and state machines","status":"open","priority":2,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:33.159422678-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:33.159422678-05:00","dependencies":[{"issue_id":"blessed-294","depends_on_id":"blessed-0t8","type":"blocks","created_at":"2026-02-01T11:58:22.315443659-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-294.1","title":"Create Message widget","description":"Create temporary message/notification widget.\n\nTasks:\n1. Create src/widgets/message.ts\n2. Define MessageConfig Zod schema:\n   - timeout: number (seconds, 0=manual dismiss)\n   - dismissOnClick: boolean\n   - dismissOnKey: boolean\n   - type: 'info' | 'warning' | 'error' | 'success'\n   - style per type\n\n3. Create factory: createMessage(world, config): Entity\n4. Methods:\n   - showMessage(world, text, options): Entity\n   - hideMessage(world, entity)\n   - showError(world, text, options): Entity\n   - showSuccess(world, text, options): Entity\n\n5. Auto-dismiss timer\n6. Center on screen by default\n\nTesting:\n- Test message display\n- Test auto-dismiss\n- Test manual dismiss\n- Test message types\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:03.001323461-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:03.001323461-05:00","dependencies":[{"issue_id":"blessed-294.1","depends_on_id":"blessed-294","type":"parent-child","created_at":"2026-02-01T11:29:03.003080753-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-294.2","title":"Create Prompt widget","description":"Create text input prompt dialog.\n\nTasks:\n1. Create src/widgets/prompt.ts\n2. Define PromptConfig Zod schema:\n   - message: string (prompt text)\n   - defaultValue: string\n   - placeholder: string\n   - validator: Zod schema\n\n3. Create factory: createPrompt(world, config): Entity\n4. Components:\n   - Message label\n   - Textbox input\n   - OK button\n   - Cancel button\n\n5. Method:\n   - prompt(world, message, options): Promise\u003cstring | null\u003e\n\n6. Key bindings:\n   - Enter: submit\n   - Escape: cancel\n\nTesting:\n- Test prompt display\n- Test input capture\n- Test validation\n- Test cancel\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:09.230321129-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:09.230321129-05:00","dependencies":[{"issue_id":"blessed-294.2","depends_on_id":"blessed-294","type":"parent-child","created_at":"2026-02-01T11:29:09.231742385-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-294.3","title":"Create Question widget","description":"Create yes/no confirmation dialog.\n\nTasks:\n1. Create src/widgets/question.ts\n2. Define QuestionConfig Zod schema:\n   - message: string\n   - yesText: string (default 'Yes')\n   - noText: string (default 'No')\n   - defaultAnswer: boolean\n\n3. Create factory: createQuestion(world, config): Entity\n4. Components:\n   - Message label\n   - Yes button\n   - No button\n\n5. Method:\n   - ask(world, message, options): Promise\u003cboolean\u003e\n   - confirm(world, message): Promise\u003cboolean\u003e\n\n6. Key bindings:\n   - y: yes\n   - n: no\n   - Enter: default\n   - Escape: no\n\nTesting:\n- Test question display\n- Test button navigation\n- Test keyboard shortcuts\n- Test default selection\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:14.975859355-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:14.975859355-05:00","dependencies":[{"issue_id":"blessed-294.3","depends_on_id":"blessed-294","type":"parent-child","created_at":"2026-02-01T11:29:14.976794635-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-294.4","title":"Create Loading widget","description":"Create loading spinner indicator.\n\nTasks:\n1. Create src/widgets/loading.ts\n2. Define LoadingConfig Zod schema:\n   - message: string\n   - spinnerChars: string[] (default ['|', '/', '-', '\\\\'])\n   - interval: number (animation speed ms)\n   - style: Style\n\n3. Create factory: createLoading(world, config): Entity\n4. Add Spinner component:\n```typescript\nconst SpinnerComponent = defineComponent({\n  frame: Types.ui8,\n  frameCount: Types.ui8,\n  interval: Types.ui16,\n  elapsed: Types.f32,\n})\n```\n\n5. Methods:\n   - showLoading(world, message): Entity\n   - hideLoading(world, entity)\n   - setLoadingMessage(world, entity, message)\n\n6. Create spinnerSystem to animate\n\nTesting:\n- Test spinner animation\n- Test message update\n- Test show/hide\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:26.276265419-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:26.276265419-05:00","dependencies":[{"issue_id":"blessed-294.4","depends_on_id":"blessed-294","type":"parent-child","created_at":"2026-02-01T11:29:26.277805241-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-294.5","title":"Create modal overlay system","description":"Create modal overlay/backdrop system.\n\nTasks:\n1. Create src/widgets/modal.ts\n2. Define ModalConfig Zod schema:\n   - backdrop: boolean (dim background)\n   - backdropColor: Color\n   - closeOnBackdropClick: boolean\n   - closeOnEscape: boolean\n\n3. Create factory: createModal(world, config): Entity\n4. Modal component tracks active modals (stack)\n5. Methods:\n   - openModal(world, content): Entity\n   - closeModal(world, entity)\n   - closeAllModals(world)\n   - isModalOpen(world): boolean\n\n6. Block input to background when modal open\n\nTesting:\n- Test modal display\n- Test backdrop rendering\n- Test input blocking\n- Test modal stacking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:32.74945426-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:32.74945426-05:00","dependencies":[{"issue_id":"blessed-294.5","depends_on_id":"blessed-294","type":"parent-child","created_at":"2026-02-01T11:29:32.750995971-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-2qm","title":"EPIC: Event System \u0026 State Machines","description":"Epic for event handling and state machine infrastructure.\n\nNew architecture covering:\n- Typed EventEmitter implementation\n- Event bubbling system\n- State machine framework (XState-inspired)\n- Configurable state transitions\n- State persistence\n- bitecs integration for event entities\n- Zod schemas for events and states\n\nThis is critical for game UI where state machines drive interactions.","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:15:52.313123661-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:15:52.313123661-05:00","dependencies":[{"issue_id":"blessed-2qm","depends_on_id":"blessed-19j","type":"blocks","created_at":"2026-02-01T11:58:18.842153255-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-2qm.1","title":"Create typed EventEmitter","description":"Create strictly typed EventEmitter implementation.\n\nTasks:\n1. Create src/core/events.ts\n2. Define TypedEventEmitter\u003cEventMap\u003e class:\n   - Generic over event map type\n   - on\u003cK\u003e(event: K, handler): this\n   - once\u003cK\u003e(event: K, handler): this\n   - off\u003cK\u003e(event: K, handler): this\n   - emit\u003cK\u003e(event: K, ...args): boolean\n   - removeAllListeners(event?): this\n   - listenerCount(event): number\n\n3. Define base event map types:\n   - UIEventMap: click, keypress, focus, blur, etc.\n   - ScreenEventMap: resize, render, etc.\n\n4. Export factory: createEventEmitter\u003cT\u003e()\n\nTesting:\n- Test type safety (should fail on wrong event names)\n- Test listener registration/removal\n- Test once() behavior\n- Test emit return value\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:20:42.792234881-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:20:42.792234881-05:00","dependencies":[{"issue_id":"blessed-2qm.1","depends_on_id":"blessed-2qm","type":"parent-child","created_at":"2026-02-01T11:20:42.793833603-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-2qm.2","title":"Create event bubbling system","description":"Create event bubbling through element hierarchy.\n\nTasks:\n1. Create src/core/eventBubbling.ts\n2. Define BubbleableEvent interface:\n   - stopPropagation(): void\n   - stopImmediatePropagation(): void\n   - preventDefault(): void\n   - target: Entity\n   - currentTarget: Entity\n   - bubbles: boolean\n   - defaultPrevented: boolean\n\n3. Create bubbleEvent(world, event, startEntity) function:\n   - Emit to startEntity\n   - Walk up hierarchy via Hierarchy component\n   - Stop if stopPropagation called\n   - Handle capture phase (optional)\n\n4. Integrate with EventEmitter\n\nTesting:\n- Test event bubbles up hierarchy\n- Test stopPropagation stops bubbling\n- Test target vs currentTarget\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:20:49.779466151-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:20:49.779466151-05:00","dependencies":[{"issue_id":"blessed-2qm.2","depends_on_id":"blessed-2qm","type":"parent-child","created_at":"2026-02-01T11:20:49.781023254-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-2qm.2","depends_on_id":"blessed-2qm.1","type":"blocks","created_at":"2026-02-01T11:59:23.672044396-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-2qm.3","title":"Create state machine framework","description":"Create configurable state machine system.\n\nTasks:\n1. Create src/core/stateMachine.ts\n2. Define StateMachineConfig\u003cStates, Events\u003e type:\n```typescript\ninterface StateMachineConfig\u003cS extends string, E extends string\u003e {\n  initial: S;\n  states: Record\u003cS, {\n    on?: Partial\u003cRecord\u003cE, S | { target: S; actions?: Action[] }\u003e\u003e;\n    entry?: Action[];\n    exit?: Action[];\n  }\u003e;\n}\n```\n\n3. Create StateMachine class:\n   - current: S (current state)\n   - send(event: E): void\n   - can(event: E): boolean\n   - matches(state: S): boolean\n   - subscribe(listener): unsubscribe\n\n4. Create Zod schema for config validation\n\nTesting:\n- Test state transitions\n- Test entry/exit actions\n- Test invalid transitions\n- Test subscription notifications\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:20:56.352445987-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:20:56.352445987-05:00","dependencies":[{"issue_id":"blessed-2qm.3","depends_on_id":"blessed-2qm","type":"parent-child","created_at":"2026-02-01T11:20:56.354026059-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-2qm.4","title":"Define StateMachine component","description":"Create bitecs component for entity state machines.\n\nComponent definition:\n```typescript\nconst StateMachineComponent = defineComponent({\n  machineId: Types.ui32,   // Reference to machine definition\n  currentState: Types.ui16, // Current state index\n  previousState: Types.ui16,\n  stateAge: Types.f32,     // Time in current state\n})\n```\n\nTasks:\n1. Create src/components/stateMachine.ts\n2. Define StateMachineComponent\n3. Create StateMachineStore for machine definitions\n4. Export helper functions:\n   - attachStateMachine(world, eid, config): void\n   - getState(world, eid): string\n   - sendEvent(world, eid, event): void\n   - getStateAge(world, eid): number\n\nTesting:\n- Test machine attachment\n- Test state retrieval\n- Test event sending\n- Test state age tracking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:02.487751655-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:02.487751655-05:00","dependencies":[{"issue_id":"blessed-2qm.4","depends_on_id":"blessed-2qm","type":"parent-child","created_at":"2026-02-01T11:21:02.489215701-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-2qm.4","depends_on_id":"blessed-2qm.3","type":"blocks","created_at":"2026-02-01T11:59:23.737437663-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-2qm.5","title":"Create state machine system","description":"Create bitecs system for processing state machines.\n\nTasks:\n1. Create src/systems/stateMachineSystem.ts\n2. Define stateMachineSystem:\n   - Query entities with StateMachineComponent\n   - Update stateAge with delta time\n   - Process pending events\n   - Execute entry/exit actions\n   - Fire state change events\n\n3. Register in UPDATE phase\n\nTesting:\n- Test age updates\n- Test transition processing\n- Test action execution\n- Test multiple machines in one tick\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:08.034707651-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:08.034707651-05:00","dependencies":[{"issue_id":"blessed-2qm.5","depends_on_id":"blessed-2qm","type":"parent-child","created_at":"2026-02-01T11:21:08.036260285-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-2qm.5","depends_on_id":"blessed-2qm.3","type":"blocks","created_at":"2026-02-01T11:59:23.808480054-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-2qm.5","depends_on_id":"blessed-2qm.4","type":"blocks","created_at":"2026-02-01T11:59:23.876397381-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-2qm.6","title":"Create common UI state machines","description":"Define reusable state machine configs for common UI patterns.\n\nTasks:\n1. Create src/stateMachines/index.ts\n2. Define state machine configs:\n\nButtonStateMachine:\n- States: idle, hovered, pressed, disabled\n- Events: mouseenter, mouseleave, mousedown, mouseup, disable, enable\n\nFocusStateMachine:\n- States: unfocused, focused, disabled\n- Events: focus, blur, disable, enable\n\nToggleStateMachine:\n- States: off, on, disabled\n- Events: toggle, enable, disable\n\nInputStateMachine:\n- States: idle, focused, editing, validating, error, disabled\n- Events: focus, blur, input, validate, error, clear, disable\n\nSelectStateMachine:\n- States: closed, open, selecting\n- Events: open, close, select, cancel\n\nTesting:\n- Test each machine definition\n- Test common transitions\n- Test guard conditions\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:14.608899198-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:14.608899198-05:00","dependencies":[{"issue_id":"blessed-2qm.6","depends_on_id":"blessed-2qm","type":"parent-child","created_at":"2026-02-01T11:21:14.609858735-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-2qm.6","depends_on_id":"blessed-2qm.5","type":"blocks","created_at":"2026-02-01T11:59:23.952213219-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-2qm.7","title":"Add EventEmitter utilities","description":"Additional EventEmitter methods:\n- setMaxListeners(n) - set listener limit\n- listeners(type) - return array of listeners for event\n- newListener meta-event - fired when listener added\n- removeListener meta-event - fired when listener removed\n- Error event handling - throw if error with no handler\n\nOriginal: lib/events.js","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:39.929358587-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:39.929358587-05:00","dependencies":[{"issue_id":"blessed-2qm.7","depends_on_id":"blessed-2qm","type":"parent-child","created_at":"2026-02-01T12:12:39.930944122-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i","title":"EPIC: Form \u0026 Input Widgets","description":"Epic for form and input widgets.\n\nCovers Form, Input, Button, Checkbox, RadioButton, RadioSet, Textbox, Textarea, ProgressBar:\n- Form container with field management\n- Button with press states\n- Checkbox toggle\n- RadioButton/RadioSet mutual exclusion\n- Textbox single-line input\n- Textarea multi-line input\n- ProgressBar indicator\n- Tab navigation between fields\n- Input validation with Zod\n- All with bitecs components and state machines","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:27.913043164-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:27.913043164-05:00","dependencies":[{"issue_id":"blessed-b5i","depends_on_id":"blessed-0t8","type":"blocks","created_at":"2026-02-01T11:58:22.183734812-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.1","title":"Create Form widget","description":"Create Form container widget.\n\nTasks:\n1. Create src/widgets/form.ts\n2. Define FormConfig Zod schema:\n   - Extends BoxConfig\n   - keys: boolean (enable tab navigation)\n\n3. Create factory: createForm(world, config): Entity\n4. Add Form component:\n```typescript\nconst FormComponent = defineComponent({\n  selectedField: Types.eid,\n  fieldCount: Types.ui16,\n})\n```\n\n5. Field management:\n   - focusNext(world, form)\n   - focusPrev(world, form)\n   - submit(world, form): Record\u003cstring, unknown\u003e\n   - reset(world, form)\n   - getFieldValues(world, form)\n\n6. Key bindings:\n   - Tab: next field\n   - Shift+Tab: previous field\n   - Enter: submit (if on last field)\n\nTesting:\n- Test field navigation\n- Test submit data collection\n- Test reset\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:28:04.297024272-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:28:04.297024272-05:00","dependencies":[{"issue_id":"blessed-b5i.1","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:28:04.298430829-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.10","title":"Create text input cursor rendering","description":"Create text input cursor for textbox/textarea.\n\nTasks:\n1. Extend src/widgets/textbox.ts\n2. Implement input cursor:\n   - Track cursor position in text\n   - Render cursor at correct position\n   - Handle cursor blink\n   - Support cursor movement (left, right, home, end)\n\n3. Selection support (optional):\n   - Track selection start/end\n   - Render selection highlight\n   - Handle selection with shift+arrows\n\n4. Visual modes:\n   - Insert mode cursor (line)\n   - Overwrite mode cursor (block)\n\nTesting:\n- Test cursor positioning\n- Test cursor movement\n- Test blink animation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:41:26.282926395-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:41:26.282926395-05:00","dependencies":[{"issue_id":"blessed-b5i.10","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:41:26.28435894-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.11","title":"Create Input base widget","description":"Base Input widget that all form inputs extend. Thin wrapper over Box providing common input behavior.\n\nAll form widgets (Button, Checkbox, Radio, Textbox, etc.) extend this base.\n\nOriginal: lib/widgets/input.js (34 lines)","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:18:26.550064359-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:18:26.550064359-05:00","dependencies":[{"issue_id":"blessed-b5i.11","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T12:18:26.552516472-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.2","title":"Create Button widget","description":"Create clickable Button widget.\n\nTasks:\n1. Create src/widgets/button.ts\n2. Define ButtonConfig Zod schema:\n   - content: string (button text)\n   - style.normal: Style\n   - style.focus: Style\n   - style.hover: Style\n   - style.pressed: Style\n   - shrink: boolean\n\n3. Create factory: createButton(world, config): Entity\n4. Add state machine:\n   - States: idle, hovered, pressed, focused, disabled\n   - Events: mouseenter, mouseleave, mousedown, mouseup, focus, blur, disable\n\n5. Key bindings:\n   - Enter: press\n   - Space: press\n\n6. Emit 'press' event on activation\n\nTesting:\n- Test button rendering in all states\n- Test keyboard activation\n- Test mouse click\n- Test disabled state\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:28:10.854392867-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:28:10.854392867-05:00","dependencies":[{"issue_id":"blessed-b5i.2","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:28:10.855960032-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.3","title":"Create Checkbox widget","description":"Create toggle Checkbox widget.\n\nTasks:\n1. Create src/widgets/checkbox.ts\n2. Define CheckboxConfig Zod schema:\n   - text: string (label)\n   - checked: boolean\n   - style.normal: Style\n   - style.checked: Style\n   - checkedChar: string (default '☑' or '[x]')\n   - uncheckedChar: string (default '☐' or '[ ]')\n\n3. Create factory: createCheckbox(world, config): Entity\n4. Add Toggle component:\n```typescript\nconst ToggleComponent = defineComponent({\n  checked: Types.ui8,\n})\n```\n\n5. State machine:\n   - States: unchecked, checked, disabled\n   - Events: toggle, enable, disable\n\n6. Key bindings:\n   - Enter: toggle\n   - Space: toggle\n\nTesting:\n- Test check/uncheck\n- Test visual state\n- Test keyboard toggle\n- Test mouse click\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:28:17.061388343-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:28:17.061388343-05:00","dependencies":[{"issue_id":"blessed-b5i.3","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:28:17.062456975-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.4","title":"Create RadioButton and RadioSet widgets","description":"Create radio button widgets for exclusive selection.\n\nTasks:\n1. Create src/widgets/radioButton.ts\n2. Create src/widgets/radioSet.ts\n\n3. Define RadioSetConfig:\n   - options: string[] (option labels)\n   - selected: number (initial selection)\n   - style.normal: Style\n   - style.selected: Style\n\n4. Define RadioButtonConfig:\n   - text: string\n   - value: string\n   - group: Entity (RadioSet parent)\n\n5. Create factories:\n   - createRadioSet(world, config): Entity\n   - createRadioButton(world, config): Entity\n\n6. RadioSet manages mutual exclusion:\n   - When one selected, others deselect\n   - Track selected in RadioSet component\n\n7. State machine:\n   - States: unselected, selected, disabled\n\nTesting:\n- Test mutual exclusion\n- Test keyboard selection\n- Test getSelectedValue\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:28:25.255260037-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:28:25.255260037-05:00","dependencies":[{"issue_id":"blessed-b5i.4","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:28:25.256909831-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.5","title":"Create Textbox widget","description":"Create single-line text input widget.\n\nTasks:\n1. Create src/widgets/textbox.ts\n2. Define TextboxConfig Zod schema:\n   - value: string\n   - placeholder: string\n   - secret: boolean (password mode - no display)\n   - censor: string (mask character, default '*')\n   - maxLength: number\n   - validator: Zod schema (optional)\n\n3. Create factory: createTextbox(world, config): Entity\n4. Add TextInput component:\n```typescript\nconst TextInputComponent = defineComponent({\n  cursorPos: Types.ui32,\n  selectionStart: Types.i32,  // -1 if no selection\n  selectionEnd: Types.i32,\n  inputMode: Types.ui8,  // 0=normal, 1=editing\n})\n```\n\n5. State machine:\n   - States: idle, focused, editing, error\n   - Events: focus, blur, input, validate, error\n\n6. Key bindings:\n   - Enter: submit\n   - Escape: cancel\n   - Backspace: delete char\n   - Delete: delete forward\n   - Left/Right: move cursor\n   - Home/End: jump to start/end\n\nTesting:\n- Test text input\n- Test cursor movement\n- Test password masking\n- Test validation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:28:32.522586766-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:28:32.522586766-05:00","dependencies":[{"issue_id":"blessed-b5i.5","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:28:32.524204692-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.6","title":"Create Textarea widget","description":"Create multi-line text input widget.\n\nTasks:\n1. Create src/widgets/textarea.ts\n2. Define TextareaConfig Zod schema:\n   - Extends TextboxConfig\n   - rows: number (visible rows)\n   - scrollable: boolean\n\n3. Create factory: createTextarea(world, config): Entity\n4. Extend TextInput component or create new\n5. Handle:\n   - Multi-line editing\n   - Line wrapping\n   - Scroll when content exceeds view\n\n6. Key bindings:\n   - Enter: new line\n   - Ctrl+Enter or Escape: submit\n   - Ctrl+C: cancel\n\nTesting:\n- Test multi-line input\n- Test scrolling\n- Test line wrapping\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:28:38.668483483-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:28:38.668483483-05:00","dependencies":[{"issue_id":"blessed-b5i.6","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:28:38.669849047-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.7","title":"Create ProgressBar widget","description":"Create progress indicator widget.\n\nTasks:\n1. Create src/widgets/progressBar.ts\n2. Define ProgressBarConfig Zod schema:\n   - value: number (0-100)\n   - orientation: 'horizontal' | 'vertical'\n   - char: string (fill character)\n   - style.bar: Style\n   - style.background: Style\n   - showPercentage: boolean\n\n3. Create factory: createProgressBar(world, config): Entity\n4. Add Progress component:\n```typescript\nconst ProgressComponent = defineComponent({\n  value: Types.f32,      // 0-100\n  min: Types.f32,        // Default 0\n  max: Types.f32,        // Default 100\n  orientation: Types.ui8,\n})\n```\n\n5. Methods:\n   - setProgress(world, entity, value)\n   - getProgress(world, entity)\n   - incrementProgress(world, entity, amount)\n\n6. Emit 'complete' event at 100%\n\nTesting:\n- Test progress rendering\n- Test value clamping\n- Test vertical orientation\n- Test percentage display\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:28:45.147503105-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:28:45.147503105-05:00","dependencies":[{"issue_id":"blessed-b5i.7","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:28:45.1488844-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.8","title":"Create Select/Dropdown widget","description":"Create dropdown select widget.\n\nTasks:\n1. Create src/widgets/select.ts\n2. Define SelectConfig Zod schema:\n   - options: Array\u003c{ label: string; value: string }\u003e\n   - selected: string (value)\n   - placeholder: string\n   - style.normal, style.open, style.option, style.selected\n\n3. Create factory: createSelect(world, config): Entity\n4. State machine:\n   - States: closed, open, selecting\n   - Events: open, close, select, cancel\n\n5. Features:\n   - Click to open dropdown\n   - Keyboard navigation in list\n   - Filter/search options (optional)\n\nTesting:\n- Test dropdown open/close\n- Test option selection\n- Test keyboard navigation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:33:13.955360989-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:33:13.955360989-05:00","dependencies":[{"issue_id":"blessed-b5i.8","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:33:13.956875072-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-b5i.9","title":"Create Slider widget","description":"Create range slider widget.\n\nTasks:\n1. Create src/widgets/slider.ts\n2. Define SliderConfig Zod schema:\n   - min: number\n   - max: number\n   - value: number\n   - step: number\n   - orientation: 'horizontal' | 'vertical'\n   - showValue: boolean\n   - style.track, style.thumb, style.fill\n\n3. Create factory: createSlider(world, config): Entity\n4. Add Slider component:\n```typescript\nconst SliderComponent = defineComponent({\n  value: Types.f32,\n  min: Types.f32,\n  max: Types.f32,\n  step: Types.f32,\n  orientation: Types.ui8,\n})\n```\n\n5. Features:\n   - Click and drag thumb\n   - Click on track to jump\n   - Arrow keys to adjust\n   - Configurable step\n\nTesting:\n- Test value changes\n- Test mouse drag\n- Test keyboard control\n- Test step increments\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:33:20.354717218-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:33:20.354717218-05:00","dependencies":[{"issue_id":"blessed-b5i.9","depends_on_id":"blessed-b5i","type":"parent-child","created_at":"2026-02-01T11:33:20.378348778-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw","title":"EPIC: Base Element \u0026 Node System","description":"Epic for element hierarchy foundation.\n\nRewrite of node.js (282 lines) and element.js (2,570 lines) covering:\n- Node tree structure with bitecs\n- Parent/child relationships\n- Element positioning (absolute, relative, percentage)\n- Style system with inheritance\n- Border rendering\n- Padding and margin\n- Visibility management\n- Content management\n- Tag parsing system\n- Alignment (horizontal and vertical)\n- Drag support\n- bitecs components for all element properties","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:13.416157638-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:13.416157638-05:00","dependencies":[{"issue_id":"blessed-bjw","depends_on_id":"blessed-0t8","type":"blocks","created_at":"2026-02-01T11:58:22.008008474-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.1","title":"Create box rendering function","description":"Create box/border rendering utilities.\n\nTasks:\n1. Create src/utils/box.ts\n2. Define BoxChars interface:\n```typescript\ninterface BoxChars {\n  topLeft: string;\n  topRight: string;\n  bottomLeft: string;\n  bottomRight: string;\n  horizontal: string;\n  vertical: string;\n}\n```\n\n3. Define preset box styles:\n   - SINGLE: ┌─┐│└┘\n   - DOUBLE: ╔═╗║╚╝\n   - ROUNDED: ╭─╮│╰╯\n   - BOLD: ┏━┓┃┗┛\n   - DASHED: ┌╌┐╎└┘\n\n4. Create render function:\n   - renderBox(buffer, x, y, width, height, chars, fg, bg)\n\nTesting:\n- Test each box style renders correctly\n- Test partial borders\n- Test 1x1 minimum size\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:09.787544173-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:09.787544173-05:00","dependencies":[{"issue_id":"blessed-bjw.1","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:26:09.788956188-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.10","title":"Create hover text tooltip system","description":"Create global hover text/tooltip system.\n\nTasks:\n1. Create src/widgets/hoverText.ts\n2. Define HoverText widget:\n   - Global singleton per screen\n   - Follows mouse position\n   - Shows text on hover delay\n   - Auto-hide on mouse leave\n\n3. Create hover manager:\n   - setHoverText(world, entity, text): void\n   - clearHoverText(world, entity): void\n   - Track mouse position\n   - Show/hide with delay\n\n4. Positioning:\n   - Follow mouse cursor\n   - Stay within screen bounds\n   - Offset from cursor\n\nTesting:\n- Test hover display\n- Test positioning\n- Test delay timing\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:40:05.189752026-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:40:05.189752026-05:00","dependencies":[{"issue_id":"blessed-bjw.10","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:40:05.190747492-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.11","title":"Create drag verification system","description":"Create drag verification callbacks.\n\nTasks:\n1. Extend src/systems/dragSystem.ts\n2. Add verification support:\n```typescript\ninterface DraggableConfig {\n  draggable: boolean;\n  onDragVerify?: (entity: Entity, dx: number, dy: number) =\u003e boolean;\n  constrainToParent?: boolean;\n  constrainAxis?: 'x' | 'y' | null;\n  snapToGrid?: { x: number; y: number };\n}\n```\n\n3. Verification flow:\n   - Call onDragVerify before position update\n   - Return false to cancel drag movement\n   - Useful for collision detection, bounds checking\n\n4. Additional features:\n   - setFront() on drag start (bring to top)\n   - Convert right/bottom positions to left/top during drag\n\nTesting:\n- Test verification callback\n- Test constraint handling\n- Test z-order changes\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:40:12.874128949-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:40:12.874128949-05:00","dependencies":[{"issue_id":"blessed-bjw.11","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:40:12.87573838-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.12","title":"Create content caching and position tracking","description":"Create position caching for render optimization.\n\nTasks:\n1. Create src/core/positionCache.ts\n2. Implement lpos (last position) caching:\n```typescript\ninterface LastPosition {\n  xi: number;  // Inner x start\n  xl: number;  // Inner x end\n  yi: number;  // Inner y start\n  yl: number;  // Inner y end\n  base: number; // Scroll base\n  rendered: boolean;\n}\n```\n\n3. Cache management:\n   - Store computed positions per entity\n   - Invalidate on position change\n   - Invalidate on parent change\n   - Invalidate on scroll\n\n4. Performance optimization:\n   - Skip recalculation if valid\n   - Use cached values in hit testing\n\nTesting:\n- Test cache invalidation\n- Test performance improvement\n- Test scroll handling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:41:39.537219551-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:41:39.537219551-05:00","dependencies":[{"issue_id":"blessed-bjw.12","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:41:39.538728567-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.13","title":"Create nested tag parsing","description":"Create support for nested style tags.\n\nTasks:\n1. Extend src/utils/tags.ts\n2. Support nested tags:\n   - {red-fg}hello {blue-fg}world{/blue-fg} more{/red-fg}\n   - Properly restore outer style when inner closes\n   - Stack-based attribute tracking\n\n3. Tag stack implementation:\n```typescript\ninterface TagStack {\n  push(tag: Tag): void;\n  pop(): Tag | undefined;\n  current(): Attributes;\n}\n```\n\n4. Parsing:\n   - Track active attributes as stack\n   - On close tag, pop and restore previous\n   - Handle mismatched tags gracefully\n\nTesting:\n- Test nested colors\n- Test nested attributes\n- Test mismatched tags\n- Test deep nesting\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:43:22.752475435-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:43:22.752475435-05:00","dependencies":[{"issue_id":"blessed-bjw.13","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:43:22.754208174-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-bjw.13","depends_on_id":"blessed-bjw.3","type":"blocks","created_at":"2026-02-01T11:58:58.478850729-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.14","title":"Create shadow rendering system","description":"Create shadow effect for elements.\n\nTasks:\n1. Create src/core/shadow.ts\n2. Implement shadow rendering:\n   - Shadow offset (typically +1, +1)\n   - Shadow color (typically dark/black)\n   - Shadow opacity\n\n3. Define Shadow component:\n```typescript\nconst ShadowComponent = defineComponent({\n  enabled: Types.ui8,\n  offsetX: Types.i8,\n  offsetY: Types.i8,\n  color: Types.ui32,\n})\n```\n\n4. Rendering:\n   - Render shadow behind element\n   - Only on right and bottom edges\n   - Blend with background\n\n5. Element option:\n   - shadow: true/false or ShadowConfig\n\nTesting:\n- Test shadow rendering\n- Test shadow with movement\n- Test overlapping shadows\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:43:57.281098065-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:43:57.281098065-05:00","dependencies":[{"issue_id":"blessed-bjw.14","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:43:57.282616085-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.15","title":"Create content line manipulation methods","description":"Create methods for manipulating content lines.\n\nTasks:\n1. Create src/widgets/contentManipulation.ts\n2. Implement line manipulation methods:\n```typescript\n// Add/insert lines\ninsertLine(world, entity, index: number, line: string): void;\ninsertTop(world, entity, line: string): void;\ninsertBottom(world, entity, line: string): void;\n\n// Remove lines\ndeleteLine(world, entity, index: number, count?: number): void;\ndeleteTop(world, entity, count?: number): void;\ndeleteBottom(world, entity, count?: number): void;\n\n// Get/set lines\nsetLine(world, entity, index: number, line: string): void;\ngetLine(world, entity, index: number): string;\nsetBaseLine(world, entity, index: number, line: string): void;\ngetBaseLine(world, entity, index: number): string;\n```\n\n3. Handle scroll adjustment when lines change\n4. Mark entity dirty after modification\n\nTesting:\n- Test insert at various positions\n- Test delete with scroll\n- Test get/set operations\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:44:28.182363713-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:44:28.182363713-05:00","dependencies":[{"issue_id":"blessed-bjw.15","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:44:28.183728567-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.16","title":"Create computed position properties","description":"Create computed position getter/setter properties.\n\nTasks:\n1. Create src/core/computedPosition.ts\n2. Define computed properties:\n   - aleft, atop, aright, abottom: Absolute positions\n   - rleft, rtop, rright, rbottom: Relative positions\n   - ileft, itop, iright, ibottom: Inner positions (inside padding/border)\n   - iwidth, iheight: Inner dimensions\n   - tpadding: Total padding\n\n3. Implementation:\n   - Getters compute from parent and position\n   - Setters convert to relative values\n   - Cache computed values (invalidate on change)\n\n4. Helper functions:\n```typescript\ngetAbsolutePosition(world, entity): {left, top, right, bottom};\ngetInnerPosition(world, entity): {left, top, right, bottom};\ngetInnerDimensions(world, entity): {width, height};\n```\n\nTesting:\n- Test computed values\n- Test setters update position\n- Test with nested elements\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:44:35.717156383-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:44:35.717156383-05:00","dependencies":[{"issue_id":"blessed-bjw.16","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:44:35.718744931-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.17","title":"Create shrink-to-content calculation","description":"Create shrink-to-content size calculation.\n\nTasks:\n1. Create src/core/shrinkToContent.ts\n2. Implement shrink calculation:\n   - Calculate minimum size to fit content\n   - Consider border and padding\n   - Handle wrapped content\n\n3. Shrink modes:\n```typescript\ninterface ShrinkConfig {\n  shrink?: boolean;           // Shrink both dimensions\n  shrinkWidth?: boolean;      // Shrink width only\n  shrinkHeight?: boolean;     // Shrink height only\n}\n```\n\n4. Calculation functions:\n   - getShrinkWidth(world, entity): number;\n   - getShrinkHeight(world, entity): number;\n   - getShrinkBox(world, entity): {width, height};\n\n5. Integration with layout system:\n   - Calculate shrink before positioning\n   - Respect min/max constraints\n\nTesting:\n- Test content-based sizing\n- Test with wrapped text\n- Test with nested shrink elements\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:44:43.146867264-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:44:43.146867264-05:00","dependencies":[{"issue_id":"blessed-bjw.17","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:44:43.147879051-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.18","title":"Create Node tree manipulation API","description":"Node tree manipulation methods - CRITICAL for hierarchy:\n- insert(element, i) - insert child at index\n- prepend(element) - insert at beginning\n- append(element) - insert at end\n- insertBefore(element, other) - insert before sibling\n- insertAfter(element, other) - insert after sibling\n- remove(element) - remove child\n- detach() - remove self from parent\n- free() - cleanup resources\n- destroy() - detach and destroy recursively\n\nThese are fundamental methods for managing the element tree.\n\nOriginal: lib/widgets/node.js","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:06.671661868-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:06.671661868-05:00","dependencies":[{"issue_id":"blessed-bjw.18","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T12:12:06.673323367-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.19","title":"Create tree traversal utilities","description":"Tree traversal and query methods:\n- forDescendants(iter, s) - iterate all descendants\n- forAncestors(iter, s) - iterate all ancestors\n- collectDescendants(s) - get array of descendants\n- collectAncestors(s) - get array of ancestors\n- emitDescendants(type, ...) - emit event to all descendants\n- emitAncestors(type, ...) - emit event to all ancestors\n- hasDescendant(target) - check if target is descendant\n- hasAncestor(target) - check if target is ancestor\n\nOriginal: lib/widgets/node.js","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:06.744289372-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:06.744289372-05:00","dependencies":[{"issue_id":"blessed-bjw.19","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T12:12:06.745811221-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.2","title":"Create text wrapping utilities","description":"Create text wrapping with Unicode support.\n\nTasks:\n1. Create src/utils/textWrap.ts\n2. Define WrapOptions:\n```typescript\ninterface WrapOptions {\n  width: number;\n  wrap: boolean;\n  align: 'left' | 'center' | 'right';\n  breakWord: boolean;  // Break mid-word if needed\n}\n```\n\n3. Create functions:\n   - wrapText(text: string, options: WrapOptions): string[]\n   - alignLine(line: string, width: number, align: Align): string\n   - wordWrap(text: string, width: number): string[]\n\n4. Handle:\n   - Wide characters correctly\n   - Existing newlines\n   - Trailing spaces\n   - ANSI codes (preserve, don't count width)\n\nTesting:\n- Test ASCII wrapping\n- Test CJK wrapping\n- Test alignment\n- Test existing newlines\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:17.660058396-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:17.660058396-05:00","dependencies":[{"issue_id":"blessed-bjw.2","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:26:17.662129813-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.20","title":"Create node lifecycle events","description":"Node lifecycle event emissions:\n- reparent - fired when parent changes\n- adopt - fired when child added\n- attach - fired when attached to screen tree\n- detach - fired when detached from screen tree\n- remove - fired when child removed\n- destroy - fired when destroyed\n\nThese events integrate with the event bubbling system.\n\nOriginal: lib/widgets/node.js","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:06.819961912-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:06.819961912-05:00","dependencies":[{"issue_id":"blessed-bjw.20","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T12:12:06.821616946-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.21","title":"Create node data storage API","description":"Arbitrary data storage on nodes:\n- get(name, defaultValue) - get stored value\n- set(name, value) - set stored value\n- this.$ / this._ / this.data - storage property aliases\n\nOriginal: lib/widgets/node.js","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:06.899034219-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:06.899034219-05:00","dependencies":[{"issue_id":"blessed-bjw.21","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T12:12:06.900123491-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.22","title":"Create element visibility methods","description":"Element visibility control:\n- hide() - hide element, emit 'hide' event\n- show() - show element, emit 'show' event\n- toggle() - toggle visibility\n- visible getter - check if visible (traverses parent chain)\n- _detached getter - check if detached from screen\n\nOriginal: lib/widgets/element.js lines 308-765","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:08.816551249-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:08.816551249-05:00","dependencies":[{"issue_id":"blessed-bjw.22","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T12:12:08.818109172-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.23","title":"Create element content methods","description":"Element content get/set methods:\n- setContent(content, noClear, noTags) - set content\n- getContent() - get content\n- setText(content, noClear) - set text (strips ANSI)\n- getText() - get text (strips ANSI)\n\nOriginal: lib/widgets/element.js lines 332-352","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:08.884561087-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:08.884561087-05:00","dependencies":[{"issue_id":"blessed-bjw.23","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T12:12:08.886245805-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.24","title":"Create sattr style encoding","description":"Style to attribute conversion - CRITICAL for rendering:\n- sattr(style, fg, bg) - convert style object to binary attribute code\n\nThis is fundamental for the rendering system.\n\nOriginal: lib/widgets/element.js lines 232-265","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:08.968376065-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:08.968376065-05:00","dependencies":[{"issue_id":"blessed-bjw.24","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T12:12:08.970140691-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.25","title":"Create element input enable methods","description":"Methods to enable element input handling:\n- enableMouse() - enable mouse events on element\n- enableKeys() - enable key events on element\n- enableInput() - enable both mouse and keys\n\nOriginal: lib/widgets/element.js lines 767-778","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:09.04308512-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:09.04308512-05:00","dependencies":[{"issue_id":"blessed-bjw.25","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T12:12:09.044589905-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.26","title":"Create z-order management methods","description":"Z-order/index management:\n- setIndex(index) - set element z-index\n- setFront() - bring element to front\n- setBack() - send element to back\n\nOriginal: lib/widgets/element.js lines 875-898","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:09.114136255-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:09.114136255-05:00","dependencies":[{"issue_id":"blessed-bjw.26","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T12:12:09.115217468-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.27","title":"Create label system","description":"Element border label system:\n- setLabel(options) - set label with text and side options\n- removeLabel() - remove current label\n\nOriginal: lib/widgets/element.js lines 910-990","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:09.182077759-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:09.182077759-05:00","dependencies":[{"issue_id":"blessed-bjw.27","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T12:12:09.183275566-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.28","title":"Create tag generation utilities","description":"Programmatic tag generation:\n- generateTags(style, text) - generate {tag}text{/tag} from style object\n- attrToBinary(style, element) - convert style to binary attribute\n\nOriginal: lib/helpers.js","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:40.006910238-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:40.006910238-05:00","dependencies":[{"issue_id":"blessed-bjw.28","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T12:12:40.008215742-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.29","title":"Create helper utility functions","description":"Implement remaining helper utility functions from lib/helpers.js:\n- findFile(start, target) - recursive directory search for file\n- escape(text) - escape { and } for tag-enabled elements\n- stripTags(text) - remove blessed tags and ANSI codes\n- cleanTags(text) - strip tags and trim whitespace\n- dropUnicode(text) - replace wide/combining/surrogate chars with ?\n- parseTags(text, screen) - parse blessed-style tags to ANSI\n\nOriginal: lib/helpers.js (165 lines)","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:18:26.395144824-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:18:26.395144824-05:00","dependencies":[{"issue_id":"blessed-bjw.29","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T12:18:26.396554209-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.3","title":"Create tag parsing system","description":"Create blessed-style tag parsing.\n\nTasks:\n1. Create src/utils/tags.ts\n2. Define tag syntax:\n   - {color-fg} - foreground color\n   - {color-bg} - background color\n   - {bold}, {underline}, {blink}, etc. - attributes\n   - {/bold}, {/underline}, etc. - close attribute\n   - {/} - reset all\n   - {left}, {center}, {right} - alignment\n\n3. Create functions:\n   - parseTags(text: string): ParsedContent\n   - stripTags(text: string): string\n   - escapeTags(text: string): string\n\n4. ParsedContent structure:\n   - segments: Array\u003c{ text: string; attrs: Attrs }\u003e\n\nTesting:\n- Test simple tags\n- Test nested tags\n- Test escaping\n- Test invalid tags (passthrough)\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:24.260761916-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:24.260761916-05:00","dependencies":[{"issue_id":"blessed-bjw.3","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:26:24.262360211-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.4","title":"Create style inheritance system","description":"Create style inheritance through hierarchy.\n\nTasks:\n1. Create src/core/styleInheritance.ts\n2. Define which properties inherit:\n   - fg (inherits)\n   - bg (does not inherit)\n   - bold, etc. (inherits)\n\n3. Create functions:\n   - computeInheritedStyle(world, entity): ComputedStyle\n   - mergeStyles(parent: Style, child: Style): Style\n   - resolveStyle(world, entity): Style\n\n4. Cache computed styles, invalidate on change\n\nTesting:\n- Test inheritance chain\n- Test non-inheriting properties\n- Test cache invalidation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:29.952812527-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:29.952812527-05:00","dependencies":[{"issue_id":"blessed-bjw.4","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:26:29.96658146-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.5","title":"Create hit testing for mouse","description":"Create hit testing to find element at coordinates.\n\nTasks:\n1. Create src/core/hitTest.ts\n2. Create functions:\n   - hitTest(world, x: number, y: number): Entity | null\n   - hitTestAll(world, x, y): Entity[] (all at point, z-ordered)\n   - isPointInEntity(world, entity, x, y): boolean\n\n3. Consider:\n   - Z-index ordering (highest first)\n   - Clipping boundaries\n   - Visibility\n   - Transparent areas (optional)\n\n4. Use spatial index for performance (optional)\n\nTesting:\n- Test basic hit detection\n- Test overlapping elements\n- Test clipped elements\n- Test hidden elements\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:36.707655192-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:36.707655192-05:00","dependencies":[{"issue_id":"blessed-bjw.5","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:26:36.709446424-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.6","title":"Create drag and drop system","description":"Create drag and drop support.\n\nTasks:\n1. Create src/systems/dragSystem.ts\n2. Define drag state:\n   - dragging: Entity | null\n   - dragStart: { x, y }\n   - dragOffset: { x, y }\n\n3. Create dragSystem:\n   - Detect drag start on mousedown + move\n   - Update position during drag\n   - Handle drop on mouseup\n   - Emit drag events: dragstart, drag, dragend, drop\n\n4. Create Draggable component extension:\n   - constrainToParent: boolean\n   - constrainAxis: 'x' | 'y' | null\n   - grid: { x, y } (snap to grid)\n\nTesting:\n- Test drag initiation\n- Test position updates\n- Test constraints\n- Test events\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:43.003461449-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:43.003461449-05:00","dependencies":[{"issue_id":"blessed-bjw.6","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:26:43.005062133-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.7","title":"Create merge and sort utility functions","description":"Create utility functions from helpers.js.\n\nTasks:\n1. Create src/utils/helpers.ts\n2. Implement functions:\n   - merge\u003cT, U\u003e(target: T, source: U): T \u0026 U\n   - sortByName\u003cT extends {name: string}\u003e(arr: T[]): T[]\n   - sortByIndex\u003cT extends {index: number}\u003e(arr: T[]): T[]\n   - findFile(startDir: string, target: string): string | null\n\n3. Type-safe implementations:\n   - Generic merge with proper type inference\n   - Handle dot-prefixed names in sortByName\n   - Recursive directory search with exclusions\n\nTesting:\n- Test merge with various object shapes\n- Test sort edge cases\n- Test findFile with nested directories\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:38:18.758965096-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:38:18.758965096-05:00","dependencies":[{"issue_id":"blessed-bjw.7","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:38:18.760811885-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.8","title":"Create focus and hover effects system","description":"Create dynamic effects system for focus/hover states.\n\nTasks:\n1. Create src/core/effects.ts\n2. Define effect types:\n```typescript\ninterface EffectConfig {\n  fg?: Color | ((entity: Entity) =\u003e Color);\n  bg?: Color | ((entity: Entity) =\u003e Color);\n  bold?: boolean | ((entity: Entity) =\u003e boolean);\n  // ... other style properties\n}\n```\n\n3. Create effect management:\n   - applyFocusEffect(world, entity): void\n   - removeFocusEffect(world, entity): void\n   - applyHoverEffect(world, entity): void\n   - removeHoverEffect(world, entity): void\n\n4. Support dynamic styles:\n   - Functions evaluated at render time\n   - Smooth transitions (optional)\n\n5. Integrate with event system:\n   - Auto-register on element creation\n   - Clean up on destruction\n\nTesting:\n- Test effect application/removal\n- Test dynamic style functions\n- Test state transitions\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:39:15.523543732-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:39:15.523543732-05:00","dependencies":[{"issue_id":"blessed-bjw.8","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:39:15.525076134-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-bjw.9","title":"Create advanced positioning system","description":"Create advanced positioning with percentages and expressions.\n\nTasks:\n1. Create src/core/positioning.ts\n2. Support position formats:\n   - Numbers: absolute position\n   - Percentages: '50%' relative to parent\n   - Expressions: '50%-5', '100%-10'\n   - Keywords: 'center', 'half'\n\n3. Create parser:\n```typescript\ntype PositionValue = number | string;\n\nfunction parsePosition(\n  value: PositionValue,\n  parentSize: number,\n  elementSize: number\n): number;\n```\n\n4. Handle special cases:\n   - 'center' = (parentSize - elementSize) / 2\n   - 'half' = parentSize / 2\n   - Negative values from right/bottom edge\n\n5. Create Zod schema for position validation\n\nTesting:\n- Test percentage calculations\n- Test expression parsing\n- Test centering\n- Test edge cases\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:39:22.942321968-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:39:22.942321968-05:00","dependencies":[{"issue_id":"blessed-bjw.9","depends_on_id":"blessed-bjw","type":"parent-child","created_at":"2026-02-01T11:39:22.943942941-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n","title":"EPIC: Game-Specific Features","description":"Epic for game-focused additions not in original blessed.\n\nNew features for terminal games:\n- Sprite system with animation\n- Collision detection components\n- Tile map rendering\n- Camera/viewport system\n- Game loop integration\n- Delta time handling\n- Input buffering\n- Scene management\n- Particle effects\n- Sound integration hooks\n- Save/load state serialization","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:38.53396814-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:38.53396814-05:00","dependencies":[{"issue_id":"blessed-c6n","depends_on_id":"blessed-0t8","type":"blocks","created_at":"2026-02-01T11:58:22.255140992-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.1","title":"Create Sprite component","description":"Create Sprite component for game entities.\n\nTasks:\n1. Create src/components/sprite.ts\n2. Define Sprite component:\n```typescript\nconst SpriteComponent = defineComponent({\n  frameIndex: Types.ui16,     // Current frame\n  frameCount: Types.ui16,     // Total frames\n  frameWidth: Types.ui8,      // Width in cells\n  frameHeight: Types.ui8,     // Height in cells\n  spriteSheetId: Types.ui32,  // Reference to sprite data\n})\n```\n\n3. Create SpriteStore for sprite data:\n   - Frames as 2D cell arrays\n   - Named sprites registry\n\n4. Export helpers:\n   - setSprite(world, entity, spriteId)\n   - setFrame(world, entity, frameIndex)\n   - getSpriteData(world, entity)\n\nTesting:\n- Test sprite assignment\n- Test frame access\n- Test multi-frame sprites\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:40.646914496-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:40.646914496-05:00","dependencies":[{"issue_id":"blessed-c6n.1","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:29:40.671611843-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.10","title":"Create Timer and Delay components","description":"Create timer components for game scheduling.\n\nTasks:\n1. Create src/components/timer.ts\n2. Define Timer component:\n```typescript\nconst TimerComponent = defineComponent({\n  duration: Types.f32,     // Total duration in seconds\n  elapsed: Types.f32,      // Time elapsed\n  loop: Types.ui8,         // 0=once, 1=loop\n  paused: Types.ui8,\n  callbackId: Types.ui32,  // Reference to callback\n})\n```\n\n3. Create src/systems/timerSystem.ts:\n   - Update elapsed time\n   - Fire callbacks when complete\n   - Handle loop restart\n\n4. Methods:\n   - setTimeout(world, callback, delay): TimerHandle\n   - setInterval(world, callback, interval): TimerHandle\n   - clearTimer(world, handle): void\n   - pauseTimer(world, handle): void\n\nTesting:\n- Test timer completion\n- Test loop behavior\n- Test cancel\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:34:03.558882724-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:34:03.558882724-05:00","dependencies":[{"issue_id":"blessed-c6n.10","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:34:03.56073546-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.11","title":"Create Health/Resource component","description":"Create health/resource component for game entities.\n\nTasks:\n1. Create src/components/health.ts\n2. Define Health component:\n```typescript\nconst HealthComponent = defineComponent({\n  current: Types.f32,\n  max: Types.f32,\n  regen: Types.f32,        // Per second\n  invulnerable: Types.ui8,\n  invulnerableTime: Types.f32,\n})\n```\n\n3. Export helpers:\n   - damage(world, entity, amount): boolean (returns if killed)\n   - heal(world, entity, amount): void\n   - setInvulnerable(world, entity, duration): void\n   - isDead(world, entity): boolean\n   - getHealthPercent(world, entity): number\n\n4. Could be used for HP, mana, stamina, etc.\n\nTesting:\n- Test damage/heal\n- Test invulnerability\n- Test regen\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:34:11.156599566-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:34:11.156599566-05:00","dependencies":[{"issue_id":"blessed-c6n.11","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:34:11.158185015-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.12","title":"Create AI/Behavior component","description":"Create behavior tree/AI component.\n\nTasks:\n1. Create src/components/behavior.ts\n2. Define Behavior component:\n```typescript\nconst BehaviorComponent = defineComponent({\n  behaviorId: Types.ui32,   // Reference to behavior tree\n  state: Types.ui8,         // Current behavior state\n  targetEntity: Types.eid,  // Target for seeking/following\n  waitTimer: Types.f32,     // For wait states\n})\n```\n\n3. Simple behavior types:\n   - Idle\n   - Patrol (between points)\n   - Chase (follow target)\n   - Flee (run from target)\n   - Custom (user-defined)\n\n4. Create src/systems/behaviorSystem.ts\n\nTesting:\n- Test behavior switching\n- Test patrol movement\n- Test chase/flee\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:34:23.561424384-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:34:23.561424384-05:00","dependencies":[{"issue_id":"blessed-c6n.12","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:34:23.56328675-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.13","title":"Create audio/sound hooks","description":"Create audio integration hooks for games.\n\nTasks:\n1. Create src/audio/hooks.ts\n2. Define audio interface:\n```typescript\ninterface AudioManager {\n  play(sound: string, options?: PlayOptions): void;\n  stop(sound: string): void;\n  setVolume(volume: number): void;\n  setMuted(muted: boolean): void;\n}\n\ninterface PlayOptions {\n  loop?: boolean;\n  volume?: number;\n  channel?: number;\n}\n```\n\n3. Integration points:\n   - Screen level audio manager\n   - Event-based sound triggers\n   - Music vs SFX channels\n\n4. Implementation left to user:\n   - We provide hooks, not actual audio\n   - Examples with node-speaker, sox, etc.\n\nTesting:\n- Test hook interface\n- Test event integration\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:41:11.12281323-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:41:11.12281323-05:00","dependencies":[{"issue_id":"blessed-c6n.13","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:41:11.124219098-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.14","title":"Create spatial hash for collision optimization","description":"Create spatial hash grid for collision detection.\n\nTasks:\n1. Create src/physics/spatialHash.ts\n2. Implement spatial hash:\n```typescript\nclass SpatialHash {\n  cellSize: number;\n  \n  insert(entity: Entity, bounds: AABB): void;\n  remove(entity: Entity): void;\n  update(entity: Entity, newBounds: AABB): void;\n  query(bounds: AABB): Entity[];\n  queryPoint(x: number, y: number): Entity[];\n  clear(): void;\n}\n```\n\n3. Optimization:\n   - Divide screen into grid cells\n   - Store entities in cells they overlap\n   - Only check entities in same/adjacent cells\n\n4. Integration with collision system:\n   - Use for broad phase\n   - Reduce collision pair checks\n\nTesting:\n- Test insertion/removal\n- Test query accuracy\n- Test performance with many entities\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:41:48.576180428-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:41:48.576180428-05:00","dependencies":[{"issue_id":"blessed-c6n.14","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:41:48.60048335-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.2","title":"Create Animation system","description":"Create animation system for sprites.\n\nTasks:\n1. Create src/components/animation.ts\n2. Define Animation component:\n```typescript\nconst AnimationComponent = defineComponent({\n  animationId: Types.ui32,    // Reference to animation def\n  playing: Types.ui8,         // 0=stopped, 1=playing\n  loop: Types.ui8,            // 0=once, 1=loop\n  speed: Types.f32,           // Playback speed multiplier\n  elapsed: Types.f32,         // Time elapsed in current frame\n  direction: Types.i8,        // 1=forward, -1=reverse\n})\n```\n\n3. Create AnimationStore for animation definitions:\n   - frame sequence\n   - frame durations\n   - named animations\n\n4. Create src/systems/animationSystem.ts:\n   - Update elapsed time\n   - Advance frames\n   - Handle loop/stop\n   - Emit animation events\n\n5. Methods:\n   - playAnimation(world, entity, animName)\n   - stopAnimation(world, entity)\n   - pauseAnimation(world, entity)\n\nTesting:\n- Test animation playback\n- Test loop behavior\n- Test speed control\n- Test animation events\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:48.019808501-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:48.019808501-05:00","dependencies":[{"issue_id":"blessed-c6n.2","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:29:48.021784404-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.3","title":"Create Velocity component and movement system","description":"Create movement components for game entities.\n\nTasks:\n1. Create src/components/velocity.ts\n2. Define Velocity component:\n```typescript\nconst VelocityComponent = defineComponent({\n  x: Types.f32,      // Cells per second\n  y: Types.f32,\n  maxSpeed: Types.f32,\n  friction: Types.f32,  // 0-1, 0=no friction\n})\n```\n\n3. Define Acceleration component:\n```typescript\nconst AccelerationComponent = defineComponent({\n  x: Types.f32,\n  y: Types.f32,\n})\n```\n\n4. Create src/systems/movementSystem.ts:\n   - Apply acceleration to velocity\n   - Apply velocity to position\n   - Apply friction\n   - Clamp to max speed\n   - Handle delta time\n\n5. Register in UPDATE phase\n\nTesting:\n- Test velocity updates position\n- Test acceleration updates velocity\n- Test friction\n- Test max speed clamping\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:29:55.342929976-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:29:55.342929976-05:00","dependencies":[{"issue_id":"blessed-c6n.3","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:29:55.344487888-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.4","title":"Create Collision component and system","description":"Create collision detection for game entities.\n\nTasks:\n1. Create src/components/collision.ts\n2. Define Collider component:\n```typescript\nconst ColliderComponent = defineComponent({\n  type: Types.ui8,        // 0=box, 1=circle\n  width: Types.f32,\n  height: Types.f32,\n  offsetX: Types.f32,\n  offsetY: Types.f32,\n  layer: Types.ui16,      // Collision layer bitmask\n  mask: Types.ui16,       // Layers to collide with\n  isTrigger: Types.ui8,   // 0=solid, 1=trigger only\n})\n```\n\n3. Create src/systems/collisionSystem.ts:\n   - Broad phase: spatial hash or grid\n   - Narrow phase: AABB/circle tests\n   - Generate collision events\n   - Handle solid vs trigger\n\n4. Collision events:\n   - collisionStart(entityA, entityB)\n   - collisionEnd(entityA, entityB)\n   - triggerEnter(entityA, entityB)\n   - triggerExit(entityA, entityB)\n\n5. Register in UPDATE phase (after movement)\n\nTesting:\n- Test AABB collision\n- Test layer filtering\n- Test trigger vs solid\n- Test collision events\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:30:05.05521276-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:30:05.05521276-05:00","dependencies":[{"issue_id":"blessed-c6n.4","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:30:05.056190303-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.5","title":"Create TileMap component and rendering","description":"Create tile map system for game backgrounds.\n\nTasks:\n1. Create src/components/tilemap.ts\n2. Define TileMap component:\n```typescript\nconst TileMapComponent = defineComponent({\n  width: Types.ui16,       // Map width in tiles\n  height: Types.ui16,      // Map height in tiles\n  tileWidth: Types.ui8,    // Tile width in cells\n  tileHeight: Types.ui8,   // Tile height in cells\n  dataId: Types.ui32,      // Reference to tile data\n  tilesetId: Types.ui32,   // Reference to tileset\n})\n```\n\n3. Create TileMapStore:\n   - Store tile indices as Uint16Array\n   - Multiple layers support\n\n4. Create TileSet type:\n   - Array of tile definitions (char, fg, bg)\n\n5. Create renderTileMapSystem:\n   - Render visible tiles to buffer\n   - Handle camera offset\n   - Optimize with dirty regions\n\nTesting:\n- Test tilemap creation\n- Test tile rendering\n- Test multi-layer\n- Test camera scrolling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:30:12.531089957-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:30:12.531089957-05:00","dependencies":[{"issue_id":"blessed-c6n.5","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:30:12.532524821-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.6","title":"Create Camera/Viewport system","description":"Create camera system for scrolling views.\n\nTasks:\n1. Create src/components/camera.ts\n2. Define Camera component:\n```typescript\nconst CameraComponent = defineComponent({\n  x: Types.f32,           // Camera position\n  y: Types.f32,\n  width: Types.ui16,      // Viewport size\n  height: Types.ui16,\n  followTarget: Types.eid, // Entity to follow (0=none)\n  smoothing: Types.f32,   // 0=instant, 1=max smooth\n  deadZone: Types.f32,    // Dead zone for following\n  bounds: Types.ui8,      // 0=unbounded, 1=bounded\n  minX: Types.f32,\n  maxX: Types.f32,\n  minY: Types.f32,\n  maxY: Types.f32,\n})\n```\n\n3. Create src/systems/cameraSystem.ts:\n   - Update camera position\n   - Follow target with smoothing\n   - Respect bounds\n   - Register in UPDATE phase\n\n4. Methods:\n   - setCameraTarget(world, entity)\n   - setCameraBounds(world, bounds)\n   - worldToScreen(world, x, y)\n   - screenToWorld(world, x, y)\n\nTesting:\n- Test camera positioning\n- Test target following\n- Test bounds clamping\n- Test coordinate conversion\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:30:20.362411046-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:30:20.362411046-05:00","dependencies":[{"issue_id":"blessed-c6n.6","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:30:20.363954672-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.7","title":"Create Scene management system","description":"Create scene management for game screens.\n\nTasks:\n1. Create src/core/scene.ts\n2. Define Scene interface:\n```typescript\ninterface Scene {\n  name: string;\n  \n  // Lifecycle\n  onCreate?(world: World): void;\n  onEnter?(world: World): void;\n  onExit?(world: World): void;\n  onDestroy?(world: World): void;\n  \n  // Per-frame\n  onUpdate?(world: World, delta: number): void;\n  \n  // Optional: custom systems for this scene\n  systems?: System[];\n}\n```\n\n3. Create SceneManager:\n   - registerScene(scene): void\n   - switchTo(name, transition?): void\n   - push(name): void (stack)\n   - pop(): void\n   - getCurrentScene(): Scene\n   - getSceneStack(): Scene[]\n\n4. Scene transitions:\n   - Fade in/out\n   - Slide\n   - Custom transitions\n\nTesting:\n- Test scene switching\n- Test scene stack\n- Test lifecycle callbacks\n- Test transitions\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:31:27.668919816-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:31:27.668919816-05:00","dependencies":[{"issue_id":"blessed-c6n.7","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:31:27.670793827-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.8","title":"Create particle effects system","description":"Create simple particle system for effects.\n\nTasks:\n1. Create src/components/particle.ts\n2. Define Particle component:\n```typescript\nconst ParticleComponent = defineComponent({\n  lifetime: Types.f32,\n  age: Types.f32,\n  fadeOut: Types.ui8,\n  char: Types.ui32,\n  startFg: Types.ui32,\n  endFg: Types.ui32,\n})\n```\n\n3. Define ParticleEmitter component:\n```typescript\nconst ParticleEmitterComponent = defineComponent({\n  rate: Types.f32,          // Particles per second\n  burst: Types.ui16,        // Burst count\n  lifetime: Types.f32,      // Particle lifetime\n  spread: Types.f32,        // Emission spread angle\n  speed: Types.f32,         // Initial speed\n  gravity: Types.f32,\n  chars: Types.ui32,        // Ref to char array\n})\n```\n\n4. Create src/systems/particleSystem.ts:\n   - Spawn particles from emitters\n   - Update particle positions\n   - Age and remove dead particles\n   - Interpolate colors\n\n5. Methods:\n   - createEmitter(world, config): Entity\n   - burst(world, emitter, count)\n\nTesting:\n- Test particle spawning\n- Test particle death\n- Test color interpolation\n- Test burst mode\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:31:36.335865236-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:31:36.335865236-05:00","dependencies":[{"issue_id":"blessed-c6n.8","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:31:36.33695648-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-c6n.9","title":"Create save/load state serialization","description":"Create game state serialization for save/load.\n\nTasks:\n1. Create src/core/serialization.ts\n2. Define serialization interface:\n```typescript\ninterface SerializationConfig {\n  components: ComponentType[];  // Which components to serialize\n  exclude?: Entity[];           // Entities to skip\n  includeTransient?: boolean;   // Include transient data\n}\n```\n\n3. Create functions:\n   - serializeWorld(world, config): SerializedWorld\n   - deserializeWorld(data, world?): World\n   - serializeEntity(world, entity): SerializedEntity\n   - deserializeEntity(data, world): Entity\n\n4. SerializedWorld format:\n   - JSON-compatible\n   - Version field for migrations\n   - Entity ID mapping\n\n5. Handle:\n   - Component data serialization\n   - Entity relationships\n   - External references (sprites, tilemaps)\n\nTesting:\n- Test round-trip serialization\n- Test component filtering\n- Test relationship preservation\n- Test version compatibility\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:31:44.314041507-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:31:44.314041507-05:00","dependencies":[{"issue_id":"blessed-c6n.9","depends_on_id":"blessed-c6n","type":"parent-child","created_at":"2026-02-01T11:31:44.315487785-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-edo","title":"Project setup: TypeScript, bitecs, Zod, Biome, Vitest","description":"Initialize the modern toolchain for the blessed rewrite:\n\n- Add package.json with pnpm\n- Configure TypeScript with strict mode\n- Add bitecs dependency\n- Add Zod for validation\n- Configure Biome for linting\n- Set up Vitest for testing\n- Create src/ directory structure","status":"closed","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T10:41:37.418733326-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:58:14.060131837-05:00","closed_at":"2026-02-01T11:58:14.060131837-05:00","close_reason":"Duplicate of blessed-19j.1-7 which break this down into subtasks","dependencies":[{"issue_id":"blessed-edo","depends_on_id":"blessed-19j","type":"parent-child","created_at":"2026-02-01T11:17:22.106001125-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-etz","title":"EPIC: Unicode \u0026 Text Handling","description":"Epic for Unicode support and text measurement.\n\nRewrite of unicode.js (790 lines) covering:\n- East Asian width calculation\n- Surrogate pair handling\n- Combining character detection\n- Character width lookup tables\n- String width measurement\n- CJK character ranges\n- Control character handling\n- Tab width calculation","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:15:45.655975172-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:15:45.655975172-05:00","dependencies":[{"issue_id":"blessed-etz","depends_on_id":"blessed-19j","type":"blocks","created_at":"2026-02-01T11:58:18.783314203-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-etz.1","title":"Create East Asian width tables","description":"Create Unicode East Asian width lookup tables.\n\nRewrite of unicode.js width tables.\n\nTasks:\n1. Create src/utils/unicode/widthTables.ts\n2. Define width ranges as const arrays:\n   - WIDE_RANGES: Array\u003c[start, end]\u003e\n   - FULL_WIDTH_RANGES: Array\u003c[start, end]\u003e\n   - ZERO_WIDTH_RANGES: Array\u003c[start, end]\u003e\n\n3. Include all CJK ranges:\n   - Ideographic\n   - Hangul\n   - Katakana\n   - Hiragana\n   - CJK Unified Ideographs\n   - Fullwidth forms\n\n4. Create lookup functions:\n   - isWideChar(codePoint: number): boolean\n   - isZeroWidthChar(codePoint: number): boolean\n\n5. Optimize with binary search or Map\n\nTesting:\n- Test known wide characters\n- Test boundary cases\n- Test performance with many lookups\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:23:55.528057658-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:23:55.528057658-05:00","dependencies":[{"issue_id":"blessed-etz.1","depends_on_id":"blessed-etz","type":"parent-child","created_at":"2026-02-01T11:23:55.529667124-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-etz.2","title":"Create combining character tables","description":"Create Unicode combining character lookup.\n\nTasks:\n1. Create src/utils/unicode/combining.ts\n2. Define combining ranges:\n   - COMBINING_RANGES: Array\u003c[start, end]\u003e\n\n3. Include all combining marks:\n   - Combining Diacritical Marks\n   - Combining Diacritical Marks Extended\n   - Arabic combining marks\n   - Hebrew combining marks\n   - Indic combining marks\n   - Thai combining marks\n   - etc.\n\n4. Create lookup:\n   - isCombiningChar(codePoint: number): boolean\n   - COMBINING_SET: Set\u003cnumber\u003e (pre-computed)\n\nTesting:\n- Test known combining characters\n- Test performance\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:01.560986232-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:01.560986232-05:00","dependencies":[{"issue_id":"blessed-etz.2","depends_on_id":"blessed-etz","type":"parent-child","created_at":"2026-02-01T11:24:01.56234071-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-etz.3","title":"Create string width measurement","description":"Create string width measurement functions.\n\nTasks:\n1. Create src/utils/unicode/stringWidth.ts\n2. Create functions:\n   - charWidth(char: string): 0 | 1 | 2\n   - charWidthAt(str: string, index: number): 0 | 1 | 2\n   - stringWidth(str: string): number\n   - codePointWidth(codePoint: number): 0 | 1 | 2\n\n3. Handle:\n   - Surrogate pairs\n   - Combining characters (width 0)\n   - Control characters (width 0)\n   - Wide CJK characters (width 2)\n   - Tab characters (configurable width)\n\n4. Create options interface:\n```typescript\ninterface WidthOptions {\n  tabWidth?: number;  // Default 8\n  ambiguousAsWide?: boolean; // CJK ambiguous chars\n}\n```\n\n5. **ADDED: Grapheme-level width calculation note**\n   - This ticket handles codepoint-level width\n   - For grapheme cluster width (emoji, ZWJ sequences), see etz.7\n   - Provide hook point for grapheme-aware width: stringWidthGrapheme()\n\nTesting:\n- Test ASCII strings\n- Test CJK strings\n- Test mixed strings\n- Test emoji (basic - full emoji support in etz.7)\n- Test tabs\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:09.566371726-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:39:10.625455036-05:00","dependencies":[{"issue_id":"blessed-etz.3","depends_on_id":"blessed-etz","type":"parent-child","created_at":"2026-02-01T11:24:09.567946099-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-etz.4","title":"Create Unicode code point utilities","description":"Create code point handling utilities.\n\nTasks:\n1. Create src/utils/unicode/codePoint.ts\n2. Create functions:\n   - codePointAt(str: string, index: number): number\n   - fromCodePoint(...codePoints: number[]): string\n   - isSurrogate(str: string, index: number): boolean\n   - isHighSurrogate(code: number): boolean\n   - isLowSurrogate(code: number): boolean\n   - surrogatePairToCodePoint(high: number, low: number): number\n\n3. Create iterator:\n   - codePoints(str: string): Iterable\u003cnumber\u003e\n   - graphemes(str: string): Iterable\u003cstring\u003e\n\nTesting:\n- Test basic codepoint extraction\n- Test surrogate pairs\n- Test astral plane characters\n- Test emoji with ZWJ\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:15.897277749-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:15.897277749-05:00","dependencies":[{"issue_id":"blessed-etz.4","depends_on_id":"blessed-etz","type":"parent-child","created_at":"2026-02-01T11:24:15.898857137-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-etz.5","title":"Create string slicing by width","description":"Create width-aware string slicing.\n\nTasks:\n1. Create src/utils/unicode/slice.ts\n2. Create functions:\n   - sliceByWidth(str: string, start: number, end?: number): string\n   - truncateByWidth(str: string, maxWidth: number, ellipsis?: string): string\n   - padStartByWidth(str: string, width: number, fillChar?: string): string\n   - padEndByWidth(str: string, width: number, fillChar?: string): string\n\n3. Handle edge cases:\n   - Slice in middle of wide char\n   - Truncate with ellipsis fitting\n\nTesting:\n- Test ASCII slicing\n- Test CJK slicing\n- Test mixed slicing\n- Test padding\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:21.346344182-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:21.346344182-05:00","dependencies":[{"issue_id":"blessed-etz.5","depends_on_id":"blessed-etz","type":"parent-child","created_at":"2026-02-01T11:24:21.347892821-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-etz.6","title":"Create unicode utilities","description":"Unicode normalization utilities:\n- dropUnicode(text) - replace wide/combining/surrogate chars with ?\n\nOriginal: lib/helpers.js","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:40.104634775-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:40.104634775-05:00","dependencies":[{"issue_id":"blessed-etz.6","depends_on_id":"blessed-etz","type":"parent-child","created_at":"2026-02-01T12:12:40.113171978-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-etz.7","title":"Grapheme Cluster Support","description":"Modern Unicode text segmentation for proper emoji and complex character handling.\n\nTasks:\n1. Create src/utils/unicode/grapheme.ts\n2. Implement grapheme cluster iterator (UAX #29 compliant):\n   - graphemeClusters(str: string): Iterable\u003cstring\u003e\n   - graphemeCount(str: string): number\n   - graphemeAt(str: string, index: number): string | undefined\n\n3. Handle complex sequences:\n   - Emoji ZWJ sequences (👨‍👩‍👧‍👦 = 1 grapheme)\n   - Regional indicator pairs (flags: 🇺🇸 = 1 grapheme)\n   - Variation selectors (VS15 text, VS16 emoji presentation)\n   - Skin tone modifiers (👋🏽 = 1 grapheme)\n\n4. Width calculation at grapheme level:\n   - graphemeWidth(grapheme: string): 0 | 1 | 2\n   - stringWidthGrapheme(str: string): number\n\n5. Width overrides for known terminal discrepancies\n\n6. Performance requirements (CRITICAL for game library):\n   - ASCII fast path (most game text is ASCII)\n   - Use Intl.Segmenter where available (Node.js 16+)\n   - Lazy grapheme segmentation (only when needed for width)\n   - Cache grapheme boundaries for static text\n   - Benchmark: grapheme ops must NOT impact INPUT phase timing\n\nTesting:\n- Test simple ASCII strings (fast path)\n- Test emoji with ZWJ sequences\n- Test flag sequences\n- Test skin tone modifiers\n- Test combining characters\n- Benchmark against pure codepoint iteration\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:37:17.472204748-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:37:17.472204748-05:00","dependencies":[{"issue_id":"blessed-etz.7","depends_on_id":"blessed-etz","type":"parent-child","created_at":"2026-02-01T12:37:17.473331847-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-etz.7","depends_on_id":"blessed-etz.4","type":"blocks","created_at":"2026-02-01T12:40:44.789893204-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-etz.8","title":"Terminal Width Testing Harness","description":"Test suite for Unicode width accuracy across terminals.\n\nTasks:\n1. Create src/utils/unicode/__tests__/widthHarness.ts\n2. Build corpus of tricky Unicode sequences:\n   - Emoji with ZWJ\n   - Regional indicators\n   - Variation selectors\n   - CJK characters\n   - Combining characters\n   - Tab characters\n\n3. Screenshot-based diff testing:\n   - Render test strings to terminal\n   - Capture screenshots\n   - Compare expected vs actual widths\n\n4. Known-bad sequence database:\n   - Track sequences with inconsistent widths per terminal\n   - Document terminal-specific behavior\n\n5. Runtime width override injection:\n   - Allow runtime width corrections\n   - Per-terminal width tables\n\nNote: Games can tolerate minor width discrepancies better than\ntext-heavy TUIs. Useful for correctness but not critical.\n\nTesting:\n- Test corpus completeness\n- Test override injection\n- Document known discrepancies\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":3,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:38:41.954395887-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:38:41.954395887-05:00","dependencies":[{"issue_id":"blessed-etz.8","depends_on_id":"blessed-etz","type":"parent-child","created_at":"2026-02-01T12:38:41.955413555-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-etz.8","depends_on_id":"blessed-etz.7","type":"blocks","created_at":"2026-02-01T12:42:05.810057819-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hla","title":"EPIC: Input Priority \u0026 Game Loop Architecture","description":"Epic for ensuring input responsiveness is always prioritized.\n\nHARD REQUIREMENT: Input must ALWAYS feel responsive and smooth.\n\nThis epic covers:\n- Game loop architecture with input priority\n- Configurable loop mechanics for library users\n- Input buffering and processing strategies\n- Frame-rate independent input handling\n- Input lag mitigation techniques\n\nDefault behavior: Input processing runs first every frame, before any game logic.\nUser customization: Library exposes hooks to modify loop behavior.","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:30:27.929980976-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:30:27.929980976-05:00","dependencies":[{"issue_id":"blessed-hla","depends_on_id":"blessed-n37","type":"blocks","created_at":"2026-02-01T11:58:26.052122806-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hla.1","title":"Create game loop with input priority","description":"Create game loop that prioritizes input processing.\n\nHARD REQUIREMENT: Input must always be processed first and feel responsive.\n\nTasks:\n1. Create src/core/gameLoop.ts\n2. Define GameLoop class:\n```typescript\nclass GameLoop {\n  // Configuration\n  readonly config: GameLoopConfig;\n  \n  // State\n  private running: boolean;\n  private lastTime: number;\n  private deltaTime: number;\n  \n  // Lifecycle\n  start(): void;\n  stop(): void;\n  pause(): void;\n  resume(): void;\n  \n  // Hook points for customization\n  onBeforeInput?: () =\u003e void;\n  onAfterInput?: () =\u003e void;\n  onBeforeUpdate?: () =\u003e void;\n  onAfterUpdate?: () =\u003e void;\n  onBeforeRender?: () =\u003e void;\n  onAfterRender?: () =\u003e void;\n}\n```\n\n3. Default loop order (INPUT FIRST):\n   1. Process ALL pending input immediately\n   2. Run input system\n   3. Run game logic systems\n   4. Run physics/collision systems\n   5. Run layout system\n   6. Run render system\n\n4. Input must be non-blocking:\n   - Use stdin in raw mode\n   - Process all buffered input each frame\n   - Never skip or delay input events\n\n5. Create Zod schema for GameLoopConfig\n\nTesting:\n- Test loop timing accuracy\n- Test input is processed before update\n- Test hook invocation order\n- Test pause/resume\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:30:37.26148073-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:30:37.26148073-05:00","dependencies":[{"issue_id":"blessed-hla.1","depends_on_id":"blessed-hla","type":"parent-child","created_at":"2026-02-01T11:30:37.26280436-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hla.2","title":"Create input buffering system","description":"Create input buffering for frame-independent input.\n\nHARD REQUIREMENT: No input events should ever be lost or delayed.\n\nTasks:\n1. Create src/core/inputBuffer.ts\n2. Define InputBuffer class:\n```typescript\nclass InputBuffer {\n  // Queued events\n  private keyEvents: KeyEvent[];\n  private mouseEvents: MouseEvent[];\n  \n  // Methods\n  push(event: KeyEvent | MouseEvent): void;\n  drainKeys(): KeyEvent[];\n  drainMouse(): MouseEvent[];\n  peek(): (KeyEvent | MouseEvent)[];\n  clear(): void;\n  \n  // Statistics for debugging\n  getStats(): InputStats;\n}\n```\n\n3. Buffer behavior:\n   - Events buffered between frames\n   - ALL events drained each frame (no loss)\n   - Timestamps preserved for timing-sensitive games\n   - Configurable max buffer size (with warning on overflow)\n\n4. Input collection runs on Node.js event loop:\n   - stdin 'data' event handlers\n   - Events pushed to buffer immediately\n   - Main loop drains buffer each frame\n\n5. Thread-safe considerations:\n   - Buffer mutations are synchronous in Node\n   - But ensure no race conditions with async handlers\n\nTesting:\n- Test buffer fills correctly\n- Test drain returns all events\n- Test no events lost\n- Test overflow handling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:30:47.150557286-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:30:47.150557286-05:00","dependencies":[{"issue_id":"blessed-hla.2","depends_on_id":"blessed-hla","type":"parent-child","created_at":"2026-02-01T11:30:47.151508054-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-hla.2","depends_on_id":"blessed-hla.1","type":"blocks","created_at":"2026-02-01T11:59:19.818745017-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hla.3","title":"Create configurable loop phases","description":"Create configurable system phases for library users.\n\nTasks:\n1. Create src/core/phases.ts\n2. Define default phases:\n```typescript\nenum Phase {\n  INPUT = 0,        // ALWAYS FIRST - non-negotiable\n  EARLY_UPDATE = 1, // User logic before main update\n  UPDATE = 2,       // Main game logic\n  LATE_UPDATE = 3,  // User logic after main update\n  PHYSICS = 4,      // Collision and physics\n  LAYOUT = 5,       // UI layout calculation\n  RENDER = 6,       // Render to buffer\n  POST_RENDER = 7,  // Output to terminal\n}\n```\n\n3. Allow user customization:\n   - Add custom phases between defaults\n   - Register systems to specific phases\n   - Cannot remove or reorder INPUT phase (enforced)\n\n4. PhaseManager class:\n   - registerPhase(name, afterPhase): Phase\n   - getPhaseOrder(): Phase[]\n   - Systems run in phase order\n\n5. Document that INPUT always runs first\n\nTesting:\n- Test phase ordering\n- Test custom phase insertion\n- Test INPUT cannot be moved\n- Test system registration\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:30:56.219814036-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:30:56.219814036-05:00","dependencies":[{"issue_id":"blessed-hla.3","depends_on_id":"blessed-hla","type":"parent-child","created_at":"2026-02-01T11:30:56.221199253-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-hla.3","depends_on_id":"blessed-hla.1","type":"blocks","created_at":"2026-02-01T11:59:19.896888852-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hla.4","title":"Create fixed timestep with input interpolation","description":"Create fixed timestep update with input interpolation.\n\nTasks:\n1. Extend src/core/gameLoop.ts\n2. Add fixed timestep mode:\n```typescript\ninterface FixedTimestepConfig {\n  tickRate: number;      // Updates per second (e.g., 60)\n  maxUpdatesPerFrame: number; // Prevent spiral of death\n  interpolate: boolean;  // Interpolate render between ticks\n}\n```\n\n3. Fixed timestep loop:\n   - Accumulate real time\n   - Run fixed updates at consistent rate\n   - Interpolate render state between ticks\n   - INPUT STILL PROCESSED FIRST EACH FRAME\n\n4. Handle input in fixed timestep:\n   - Option 1: Process input before each fixed update\n   - Option 2: Buffer input, process at fixed rate\n   - Default: Process all input immediately (responsive)\n\n5. User can choose:\n   - Variable timestep (default, most responsive)\n   - Fixed timestep (deterministic, good for netcode)\n\nTesting:\n- Test fixed rate consistency\n- Test input responsiveness in both modes\n- Test render interpolation\n- Test spiral of death prevention\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:31:04.549062862-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:31:04.549062862-05:00","dependencies":[{"issue_id":"blessed-hla.4","depends_on_id":"blessed-hla","type":"parent-child","created_at":"2026-02-01T11:31:04.55080626-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-hla.4","depends_on_id":"blessed-hla.1","type":"blocks","created_at":"2026-02-01T11:59:19.973151466-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hla.5","title":"Create input repeat and held key handling","description":"Create input repeat and held key detection.\n\nTasks:\n1. Create src/core/inputState.ts\n2. Track key states:\n```typescript\ninterface KeyState {\n  pressed: boolean;      // Currently pressed\n  justPressed: boolean;  // Pressed this frame\n  justReleased: boolean; // Released this frame\n  heldTime: number;      // Time held in ms\n  repeatCount: number;   // Auto-repeat count\n}\n```\n\n3. Create InputState class:\n   - Track all key states\n   - Update each frame\n   - isKeyDown(key): boolean\n   - isKeyPressed(key): boolean (just this frame)\n   - isKeyReleased(key): boolean (just this frame)\n   - getKeyHeldTime(key): number\n\n4. Handle terminal key repeat:\n   - Detect OS key repeat events\n   - Optionally ignore repeats\n   - Custom repeat rate (for games)\n\n5. Mouse state tracking too:\n   - Button states\n   - Position delta\n   - Wheel delta\n\nTesting:\n- Test key state tracking\n- Test just pressed detection\n- Test held time accumulation\n- Test repeat handling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:31:11.980231812-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:31:11.980231812-05:00","dependencies":[{"issue_id":"blessed-hla.5","depends_on_id":"blessed-hla","type":"parent-child","created_at":"2026-02-01T11:31:11.981807051-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-hla.5","depends_on_id":"blessed-hla.1","type":"blocks","created_at":"2026-02-01T11:59:20.043722131-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hla.6","title":"Create input action mapping system","description":"Create action mapping for game controls.\n\nTasks:\n1. Create src/core/inputActions.ts\n2. Define action mapping:\n```typescript\ninterface ActionMapping {\n  action: string;          // 'jump', 'attack', 'move_left'\n  keys: string[];          // ['space', 'w', 'up']\n  mouse?: MouseButton[];   // [MouseButton.Left]\n  continuous?: boolean;    // Fire while held\n}\n```\n\n3. Create InputActionManager:\n   - registerAction(mapping): void\n   - unregisterAction(action): void\n   - isActionActive(action): boolean\n   - isActionJustActivated(action): boolean\n   - getActionValue(action): number (for analog)\n\n4. Allow runtime rebinding:\n   - rebindAction(action, newKeys)\n   - getBindingsForAction(action)\n   - saveBindings(): JSON\n   - loadBindings(json)\n\n5. Zod schema for action config\n\nTesting:\n- Test action registration\n- Test multiple keys per action\n- Test rebinding\n- Test save/load\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:31:20.11271144-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:31:20.11271144-05:00","dependencies":[{"issue_id":"blessed-hla.6","depends_on_id":"blessed-hla","type":"parent-child","created_at":"2026-02-01T11:31:20.114091479-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-hla.6","depends_on_id":"blessed-hla.1","type":"blocks","created_at":"2026-02-01T11:59:20.11963031-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hmk","title":"EPIC: Public API \u0026 Developer Experience","description":"Epic for public API design and developer experience.\n\nCovers:\n- Clean, intuitive public API\n- TypeScript type exports\n- JSDoc documentation\n- Example code\n- Error messages\n- Debug utilities","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:32:19.176681246-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:32:19.176681246-05:00"}
{"id":"blessed-hmk.1","title":"Design and implement public API","description":"Design clean public API for library consumers.\n\nTasks:\n1. Create src/index.ts with public exports\n2. Design main entry points:\n```typescript\n// Create a game\nimport { createGame, GameConfig } from 'blessed-tui';\n\nconst game = createGame({\n  width: 80,\n  height: 24,\n  title: 'My Game',\n});\n\n// Create widgets\nconst box = game.createBox({ ... });\nconst button = game.createButton({ ... });\n\n// Start game loop\ngame.start();\n```\n\n3. Export categories:\n   - Core: createGame, World, Entity\n   - Widgets: createBox, createButton, etc.\n   - Components: Position, Dimensions, etc. (for advanced use)\n   - Systems: (for advanced use)\n   - Types: All TypeScript types\n   - Schemas: All Zod schemas\n\n4. Ensure tree-shaking works:\n   - Named exports only\n   - No side effects in modules\n\nTesting:\n- Test imports work correctly\n- Test type inference\n- Test tree-shaking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:32:27.501483695-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:32:27.501483695-05:00","dependencies":[{"issue_id":"blessed-hmk.1","depends_on_id":"blessed-hmk","type":"parent-child","created_at":"2026-02-01T11:32:27.503778098-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hmk.2","title":"Create error handling system","description":"Create typed error handling with helpful messages.\n\nTasks:\n1. Create src/errors/index.ts\n2. Define error classes:\n```typescript\nclass BlessedError extends Error {\n  readonly code: string;\n  readonly context?: Record\u003cstring, unknown\u003e;\n}\n\nclass ValidationError extends BlessedError { }\nclass ComponentError extends BlessedError { }\nclass RenderError extends BlessedError { }\nclass InputError extends BlessedError { }\n```\n\n3. Create error factories:\n   - createValidationError(schema, value, path)\n   - createComponentError(component, entity, message)\n\n4. Include helpful error messages:\n   - What went wrong\n   - What was expected\n   - How to fix it\n\n5. Export error types for catch handling\n\nTesting:\n- Test error creation\n- Test error messages\n- Test instanceof checks\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:32:34.609013731-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:32:34.609013731-05:00","dependencies":[{"issue_id":"blessed-hmk.2","depends_on_id":"blessed-hmk","type":"parent-child","created_at":"2026-02-01T11:32:34.610589884-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hmk.3","title":"Create debug utilities","description":"Create debug utilities for development.\n\nTasks:\n1. Create src/debug/index.ts\n2. Debug utilities:\n   - inspectEntity(world, entity): string (pretty print)\n   - inspectWorld(world): string\n   - drawDebugBounds(world): void (visualize hitboxes)\n   - logSystemTiming(enabled: boolean): void\n   - getPerformanceStats(): PerformanceStats\n\n3. Debug overlay widget:\n   - FPS counter\n   - Entity count\n   - System timings\n   - Memory usage\n\n4. Conditional compilation:\n   - Only include in development builds\n   - Or tree-shake when not used\n\nTesting:\n- Test debug output\n- Test performance stats\n- Test overlay widget\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:32:42.01561415-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:32:42.01561415-05:00","dependencies":[{"issue_id":"blessed-hmk.3","depends_on_id":"blessed-hmk","type":"parent-child","created_at":"2026-02-01T11:32:42.017073-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hmk.4","title":"Create TypeScript type exports","description":"Export all TypeScript types for library consumers.\n\nTasks:\n1. Create src/types/index.ts\n2. Export all public types:\n   - Config types (GameConfig, BoxConfig, etc.)\n   - Component types\n   - Event types (KeyEvent, MouseEvent)\n   - Style types\n   - State machine types\n   - Utility types\n\n3. Ensure types are:\n   - Well-documented with JSDoc\n   - Properly exported from main index\n   - Compatible with strict TypeScript\n\n4. Create type utilities:\n   - DeepPartial\u003cT\u003e\n   - DeepReadonly\u003cT\u003e\n   - InferConfig\u003cT\u003e\n\nTesting:\n- Test type imports in consumer project\n- Test type inference works correctly\n- Test strict mode compatibility\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:32:48.995295198-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:32:48.995295198-05:00","dependencies":[{"issue_id":"blessed-hmk.4","depends_on_id":"blessed-hmk","type":"parent-child","created_at":"2026-02-01T11:32:48.996793905-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hmk.5","title":"Create debug overlay widget","description":"Create debug overlay for development.\n\nTasks:\n1. Create src/debug/overlay.ts\n2. Define DebugOverlay widget:\n   - FPS counter\n   - Entity count\n   - System timing (ms per system)\n   - Memory usage\n   - Input events log\n   - Render statistics\n\n3. Features:\n   - Toggle with F12 (configurable)\n   - Draggable position\n   - Collapsible sections\n   - Always on top\n\n4. Performance tracking:\n   - Track frame times\n   - Track system execution times\n   - Calculate averages\n\n5. Exclude from production builds (tree-shake)\n\nTesting:\n- Test overlay display\n- Test toggle behavior\n- Test performance impact\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:40:43.167547033-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:40:43.167547033-05:00","dependencies":[{"issue_id":"blessed-hmk.5","depends_on_id":"blessed-hmk","type":"parent-child","created_at":"2026-02-01T11:40:43.168924784-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hmk.6","title":"Create widget registry system","description":"Widget class registry from lib/widget.js:\n- List of all widget class names\n- Lazy class loading via require\n- Widget aliases (ListBar -\u003e Listbar, PNG -\u003e ANSIImage)\n- Export all widgets through main blessed module\n\nOriginal: lib/widget.js (60 lines)","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:18:26.705388412-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:18:26.705388412-05:00","dependencies":[{"issue_id":"blessed-hmk.6","depends_on_id":"blessed-hmk","type":"parent-child","created_at":"2026-02-01T12:18:26.706871739-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf","title":"EPIC: Terminfo/Termcap Parser","description":"Epic for terminal capability database parsing.\n\nRewrite of tput.js (3,022 lines) covering:\n- Binary terminfo format parsing\n- Text termcap format parsing\n- Capability compilation to TypeScript functions\n- Terminal detection and feature flags\n- Fallback capability definitions\n- Parameter substitution engine\n\nProvides terminal-agnostic capability abstraction.","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:15:29.927462243-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:15:29.927462243-05:00","dependencies":[{"issue_id":"blessed-hyf","depends_on_id":"blessed-19j","type":"blocks","created_at":"2026-02-01T11:58:18.675799628-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.1","title":"Create terminfo binary parser","description":"Create terminfo binary format parser.\n\nRewrite of tput.js terminfo parsing.\n\nTasks:\n1. Create src/terminal/terminfo/parser.ts\n2. Define TerminfoHeader interface:\n```typescript\ninterface TerminfoHeader {\n  magic: number;          // 0x011a or 0x021e\n  nameSize: number;\n  boolCount: number;\n  numCount: number;\n  stringCount: number;\n  stringTableSize: number;\n}\n```\n\n3. Define TerminfoData interface:\n```typescript\ninterface TerminfoData {\n  names: string[];\n  booleans: Map\u003cstring, boolean\u003e;\n  numbers: Map\u003cstring, number\u003e;\n  strings: Map\u003cstring, string\u003e;\n  extended?: TerminfoExtended;\n}\n```\n\n4. Create parseTerminfo(buffer: Buffer): TerminfoData\n5. Handle:\n   - 16-bit numbers (legacy format)\n   - 32-bit numbers (extended format)\n   - Extended capabilities section\n\nTesting:\n- Test with xterm terminfo\n- Test with vt100 terminfo\n- Test extended capabilities\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:29.661936606-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:29.661936606-05:00","dependencies":[{"issue_id":"blessed-hyf.1","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T11:24:29.663073159-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.10","title":"Create feature detection system","description":"Terminal feature/quirk detection:\n- detectFeatures(info) - main detection orchestrator\n- detectUnicode() - check unicode support\n- detectBrokenACS() - detect broken alternate charset\n- detectPCRomSet() - detect PC ROM charset mode\n- detectMagicCookie() - check magic cookie glitch\n- detectPadding() - check padding requirements\n- detectSetbuf() - check setbuf needs\n- parseACS(info) - parse alternate charset mappings\n- GetConsoleCP() - Windows console code page\n\nOriginal: lib/tput.js lines 2028-2206\n\n**ADDED: Modern protocol detection**\n- detectKittyKeyboard() - check for Kitty keyboard protocol support\n- detectGraphicsProtocol() - detect Kitty/iTerm2/Sixel graphics support\n- detectOSC8Hyperlinks() - check for hyperlink support\n- detectSynchronizedOutput() - check for DEC 2026 support\n- detectTruecolor() - active truecolor capability check\n- detectFocusEvents() - check focus event support\n\nActive queries vs passive detection:\n- Passive: Environment variables ($COLORTERM, $TERM)\n- Active: Device attribute queries (DA1, DA2, XTVERSION)\n- Hybrid: Try passive first, fall back to active for unknown terminals\n\nIntegration with hyf.14 capability negotiation system.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:34.260829262-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:39:45.961179026-05:00","dependencies":[{"issue_id":"blessed-hyf.10","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T12:12:34.261897004-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.11","title":"Create padding system","description":"Terminal output padding/timing:\n- _print(code, print, done) - output with timing delays\n- Tput.print() - static print helper\n- Mandatory padding (/ suffix)\n- Proportional padding (* suffix)\n\nOriginal: lib/tput.js lines 1168-1248","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:34.335924187-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:34.335924187-05:00","dependencies":[{"issue_id":"blessed-hyf.11","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T12:12:34.337073874-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.12","title":"Create sprintf implementation","description":"Printf-style string formatting:\n- sprintf(src) - full printf implementation\n- Format specifiers: %d, %s, %c, %o, %x, etc.\n- Width, precision, padding, alignment\n\nRequired for parameterized string compiler.\n\nOriginal: lib/tput.js lines 2251-2357","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:34.413878893-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:34.413878893-05:00","dependencies":[{"issue_id":"blessed-hyf.12","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T12:12:34.414859613-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.13","title":"Create ACS character maps","description":"Alternate Character Set maps:\n- Tput.acsc - DEC Special Character and Line Drawing Set (33 chars)\n- Tput.utoa - Unicode to ASCII fallback map (32 mappings)\n\nEssential for box drawing characters.\n\nOriginal: lib/tput.js lines 2944-3012","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:34.492086658-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:34.492086658-05:00","dependencies":[{"issue_id":"blessed-hyf.13","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T12:12:34.493750765-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.14","title":"Dynamic Capability Negotiation","description":"Query terminal for modern features at startup. This is the FOUNDATIONAL ticket that enables all other modern features.\n\nTasks:\n1. Create src/terminal/capabilities/negotiation.ts\n2. Implement device attribute queries:\n   - DA1 (Primary Device Attributes): CSI c\n   - DA2 (Secondary Device Attributes): CSI \u003e c\n   - XTVERSION query: CSI \u003e q\n\n3. Implement protocol capability checks:\n   - Kitty keyboard protocol: CSI ? u\n   - Graphics protocol detection (Kitty, iTerm2, Sixel)\n   - Truecolor support detection\n\n4. Detection methods:\n   - $COLORTERM=truecolor environment check\n   - $TERM pattern matching for known terminals\n   - Active query with timeout (100ms default, configurable)\n\n5. Create TerminalCapabilities interface:\n```typescript\ninterface TerminalCapabilities {\n  readonly truecolor: boolean;\n  readonly kittyKeyboard: KittyKeyboardLevel | false;\n  readonly graphics: GraphicsProtocol | false;\n  readonly focusEvents: boolean;\n  readonly bracketedPaste: boolean;\n  readonly synchronizedOutput: boolean;\n  readonly hyperlinks: boolean;\n}\n```\n\n6. Architectural requirements:\n   - Negotiation timing: Configurable (eager/lazy/skip)\n   - Timeout handling: 100ms default, configurable\n   - Must NOT block INPUT phase in game loop\n   - Fallback: If terminal unresponsive, assume conservative capabilities\n   - Cache negotiated capabilities per session\n   - Runtime re-negotiation on SIGWINCH (terminal resize/move)\n\nTesting:\n- Test DA1/DA2 query generation\n- Test response parsing\n- Test timeout handling\n- Test capability caching\n- Test fallback behavior\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:37:10.154026108-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:37:10.154026108-05:00","dependencies":[{"issue_id":"blessed-hyf.14","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T12:37:10.155845964-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-hyf.14","depends_on_id":"blessed-hyf.5","type":"blocks","created_at":"2026-02-01T12:40:14.994433825-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-hyf.14","depends_on_id":"blessed-mtg.16","type":"blocks","created_at":"2026-02-01T12:40:15.075361447-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.2","title":"Create terminfo file locator","description":"Create terminfo database file locator.\n\nTasks:\n1. Create src/terminal/terminfo/locator.ts\n2. Define search paths:\n   -  (user override)\n   - /home/kadajett/.terminfo\n   - /etc/terminfo\n   - /lib/terminfo\n   - /usr/share/terminfo\n   - /usr/lib/terminfo\n\n3. Create functions:\n   - findTerminfo(term: string): string | null\n   - getTerminfoPath(term: string): string\n   - listTerminals(): string[]\n\n4. Handle term name variations:\n   - First char directory (x/xterm)\n   - Hex directory (78/xterm)\n\nTesting:\n- Test finding xterm\n- Test fallback paths\n- Test missing terminal\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:35.996408513-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:35.996408513-05:00","dependencies":[{"issue_id":"blessed-hyf.2","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T11:24:35.997965856-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.3","title":"Create capability name mappings","description":"Create terminfo capability name mappings.\n\nTasks:\n1. Create src/terminal/terminfo/capabilities.ts\n2. Define capability types:\n   - BOOLEAN_CAPS: readonly string[] (all boolean capability names)\n   - NUMBER_CAPS: readonly string[] (all number capability names)\n   - STRING_CAPS: readonly string[] (all string capability names)\n\n3. Define aliases:\n   - CAPABILITY_ALIASES: Record\u003cstring, string\u003e\n   - Short names -\u003e long names\n\n4. Export typed capability name unions:\n   - BooleanCapability (type union)\n   - NumberCapability\n   - StringCapability\n\nTesting:\n- Test all standard capabilities present\n- Test alias resolution\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:41.930870856-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:41.930870856-05:00","dependencies":[{"issue_id":"blessed-hyf.3","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T11:24:41.932414333-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.4","title":"Create parameterized string compiler","description":"Create terminfo parameterized string compiler.\n\nTasks:\n1. Create src/terminal/terminfo/compiler.ts\n2. Implement tparm-style parameter substitution:\n   - %% - literal %\n   - %p[1-9] - push parameter\n   - %c - output as char\n   - %s - output as string\n   - %d - output as decimal\n   - %'c' - push char constant\n   - %{nn} - push integer constant\n   - %+ %- %* %/ %m - arithmetic\n   - %\u0026 %| %^ - bitwise\n   - %\\! %~ - unary\n   - %? %t %e %; - conditionals\n   - %i - increment first two params\n\n3. Create functions:\n   - compileCapability(cap: string): CompiledCapability\n   - executeCapability(compiled: CompiledCapability, ...params: number[]): string\n\n4. Cache compiled capabilities\n\nTesting:\n- Test simple parameters\n- Test arithmetic\n- Test conditionals\n- Test complex capabilities (e.g., sgr)\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:50.477160291-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:50.477160291-05:00","dependencies":[{"issue_id":"blessed-hyf.4","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T11:24:50.478592736-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.5","title":"Create Tput class","description":"Create Tput class for terminal capabilities.\n\nTasks:\n1. Create src/terminal/terminfo/tput.ts\n2. Define Tput class:\n```typescript\nclass Tput {\n  readonly terminal: string;\n  readonly data: TerminfoData;\n  \n  constructor(terminal?: string);\n  \n  // Boolean capabilities\n  has(cap: BooleanCapability): boolean;\n  \n  // Number capabilities\n  getNumber(cap: NumberCapability): number | null;\n  \n  // String capabilities\n  getString(cap: StringCapability): string | null;\n  \n  // Parameterized output\n  tparm(cap: StringCapability, ...params: number[]): string;\n  \n  // Common shortcuts\n  cup(row: number, col: number): string;\n  sgr(attrs: number): string;\n  setaf(color: number): string;\n  setab(color: number): string;\n}\n```\n\n3. Create factory: createTput(options?)\n\nTesting:\n- Test capability access\n- Test parameterized strings\n- Test missing terminal handling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:24:57.901738362-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:24:57.901738362-05:00","dependencies":[{"issue_id":"blessed-hyf.5","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T11:24:57.903147566-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.6","title":"Create builtin xterm fallback","description":"Create builtin xterm terminfo fallback.\n\nTasks:\n1. Create src/terminal/terminfo/builtin/xterm.ts\n2. Define hardcoded xterm capabilities:\n   - All standard boolean capabilities\n   - All standard number capabilities\n   - All standard string capabilities for cursor, color, etc.\n\n3. Use when terminfo file not found\n4. Create BUILTIN_TERMINALS map for other common terms\n\nTesting:\n- Test fallback activates when terminfo missing\n- Test capabilities match real xterm\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:04.088226267-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:04.088226267-05:00","dependencies":[{"issue_id":"blessed-hyf.6","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T11:25:04.089661455-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.7","title":"Create terminal capability alias mappings","description":"Create complete terminal capability alias mappings.\n\nPort alias.js with 300+ capability mappings.\n\nTasks:\n1. Create src/terminal/terminfo/aliases.ts\n2. Define typed capability maps:\n```typescript\ninterface CapabilityAlias {\n  name: string;      // Full name\n  capname: string;   // Short capname\n  tcap: string;      // Termcap code\n}\n\nconst BOOLEAN_CAPS: readonly CapabilityAlias[]\nconst NUMBER_CAPS: readonly CapabilityAlias[]\nconst STRING_CAPS: readonly CapabilityAlias[]\n```\n\n3. Include all categories:\n   - Boolean (27): auto_left_margin, auto_right_margin, etc.\n   - Numeric (37+): columns, lines, max_colors, etc.\n   - String (300+): cursor_address, set_foreground, key_f1-f63, etc.\n\n4. Create lookup functions:\n   - getCapabilityByName(name): CapabilityAlias | null\n   - getCapabilityByCapname(capname): CapabilityAlias | null\n   - getCapabilityByTcap(tcap): CapabilityAlias | null\n\nTesting:\n- Test all capability lookups\n- Verify complete coverage\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:38:27.726099795-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:38:27.726099795-05:00","dependencies":[{"issue_id":"blessed-hyf.7","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T11:38:27.728314021-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.8","title":"Create termcap parser","description":"Termcap text format parser:\n- readTermcap(term) - read and parse termcap file\n- parseTermcap(data, file) - parse termcap text format\n- _tryCap(file, term) - try to load termcap file\n- Tput.cpaths - termcap search paths\n- tc inheritance - handle termcap inheritance chain\n\nOriginal: lib/tput.js lines 1254-1450","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:34.11127596-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:34.11127596-05:00","dependencies":[{"issue_id":"blessed-hyf.8","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T12:12:34.113908501-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-hyf.9","title":"Create captoinfo converter","description":"Convert termcap strings to terminfo format:\n- translateTermcap(info) - translate termcap to terminfo names\n- _captoinfo(cap, s, parameterized) - convert termcap % codes to terminfo\n- cvtchar(sp) - convert char to terminfo push\n- getparm(parm, n) - parameter handling\n\nThis is ~450 lines of conversion logic.\n\nOriginal: lib/tput.js lines 1457-1981","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:34.185729687-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:34.185729687-05:00","dependencies":[{"issue_id":"blessed-hyf.9","depends_on_id":"blessed-hyf","type":"parent-child","created_at":"2026-02-01T12:12:34.186673558-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e","title":"EPIC: List \u0026 Table Widgets","description":"Epic for list and table widgets.\n\nCovers List, Table, ListTable, Listbar:\n- Selectable list with keyboard/mouse\n- Table data grid\n- ListTable (selectable table)\n- Listbar horizontal menu\n- Item selection state machine\n- Scrolling integration\n- Search/filter functionality\n- All with bitecs components and Zod schemas","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:23.300878264-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:23.300878264-05:00","dependencies":[{"issue_id":"blessed-i7e","depends_on_id":"blessed-0t8","type":"blocks","created_at":"2026-02-01T11:58:22.127493012-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.1","title":"Create List component","description":"Create List component for item storage.\n\nTasks:\n1. Create src/components/list.ts\n2. Define List component:\n```typescript\nconst ListComponent = defineComponent({\n  selectedIndex: Types.i32,    // -1 if none\n  itemCount: Types.ui32,\n  firstVisible: Types.ui32,    // For virtualization\n  visibleCount: Types.ui32,\n  interactive: Types.ui8,\n  mouse: Types.ui8,\n  keys: Types.ui8,\n})\n```\n\n3. Create ListItemStore for item data (string[])\n4. Export helpers:\n   - getSelectedIndex(world, entity)\n   - setSelectedIndex(world, entity, index)\n   - getItems(world, entity): string[]\n   - setItems(world, entity, items)\n   - addItem(world, entity, item)\n   - removeItem(world, entity, index)\n\nTesting:\n- Test item management\n- Test selection\n- Test bounds checking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:25.294815292-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:25.294815292-05:00","dependencies":[{"issue_id":"blessed-i7e.1","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:27:25.296198479-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.2","title":"Create List widget","description":"Create selectable List widget.\n\nTasks:\n1. Create src/widgets/list.ts\n2. Define ListConfig Zod schema:\n   - items: string[]\n   - selected: number\n   - style.item: Style\n   - style.selected: Style\n   - interactive: boolean\n   - mouse: boolean\n   - keys: boolean\n   - search: boolean (enable / search)\n\n3. Create factory: createList(world, config): Entity\n4. Add state machine for selection:\n   - States: idle, navigating, searching\n   - Events: up, down, select, cancel, search\n\n5. Key bindings:\n   - Up/k: previous\n   - Down/j: next\n   - Enter: select\n   - Escape: cancel\n   - /: search mode\n   - g/G: first/last\n\nTesting:\n- Test item rendering\n- Test selection\n- Test keyboard navigation\n- Test mouse click\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:31.756533972-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:31.756533972-05:00","dependencies":[{"issue_id":"blessed-i7e.2","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:27:31.758063941-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.3","title":"Create Table component","description":"Create Table component for grid data.\n\nTasks:\n1. Create src/components/table.ts\n2. Define Table component:\n```typescript\nconst TableComponent = defineComponent({\n  rowCount: Types.ui32,\n  colCount: Types.ui16,\n  headerRows: Types.ui8,\n  pad: Types.ui8,\n  cellBorders: Types.ui8,\n})\n```\n\n3. Create TableDataStore for cell data (string[][])\n4. Export helpers:\n   - setData(world, entity, rows)\n   - getData(world, entity): string[][]\n   - setCell(world, entity, row, col, value)\n   - getCell(world, entity, row, col)\n   - setHeaders(world, entity, headers)\n\nTesting:\n- Test data management\n- Test cell access\n- Test bounds checking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:38.521880108-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:38.521880108-05:00","dependencies":[{"issue_id":"blessed-i7e.3","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:27:38.523520443-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.4","title":"Create Table widget","description":"Create Table widget for data display.\n\nTasks:\n1. Create src/widgets/table.ts\n2. Define TableConfig Zod schema:\n   - data: string[][] (rows)\n   - pad: number (cell padding)\n   - align: 'left' | 'center' | 'right'\n   - style.border: Style\n   - style.header: Style\n   - style.cell: Style\n   - noCellBorders: boolean\n\n3. Create factory: createTable(world, config): Entity\n4. Calculate column widths:\n   - Auto-fit to content\n   - Respect max width\n   - Distribute evenly\n\n5. Render functions:\n   - renderTableRow(buffer, row, widths, style)\n   - renderTableBorders(buffer, widths)\n\nTesting:\n- Test table rendering\n- Test column width calculation\n- Test header styling\n- Test cell borders\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:45.020164109-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:45.020164109-05:00","dependencies":[{"issue_id":"blessed-i7e.4","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:27:45.021719745-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.5","title":"Create ListTable widget","description":"Create selectable table widget.\n\nTasks:\n1. Create src/widgets/listTable.ts\n2. Combine List and Table functionality:\n   - Table rendering\n   - Row selection (not cell)\n   - Fixed header row\n\n3. Define ListTableConfig Zod schema:\n   - Merge TableConfig and ListConfig\n   - selectedRow: number\n\n4. Create factory: createListTable(world, config): Entity\n5. Selection state machine from List widget\n\nTesting:\n- Test table rendering with selection\n- Test row navigation\n- Test header stays fixed during scroll\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:51.485474695-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:51.485474695-05:00","dependencies":[{"issue_id":"blessed-i7e.5","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:27:51.486390576-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.6","title":"Create Listbar widget","description":"Create horizontal menu bar widget.\n\nTasks:\n1. Create src/widgets/listbar.ts\n2. Define ListbarConfig Zod schema:\n   - items: Array\u003c{ text: string; key?: string; callback?: () =\u003e void }\u003e\n   - style.item: Style\n   - style.selected: Style\n   - autoCommandKeys: boolean (auto-assign 1-9)\n   - mouse: boolean\n\n3. Create factory: createListbar(world, config): Entity\n4. Horizontal layout with selection\n5. Key bindings:\n   - Left/h: previous\n   - Right/l: next\n   - Enter: select\n   - 1-9: jump to item (if autoCommandKeys)\n\nTesting:\n- Test horizontal rendering\n- Test item selection\n- Test keyboard shortcuts\n- Test mouse click\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:57.531525575-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:57.531525575-05:00","dependencies":[{"issue_id":"blessed-i7e.6","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:27:57.532977635-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.7","title":"Create Tree widget","description":"Create hierarchical tree view widget.\n\nTasks:\n1. Create src/widgets/tree.ts\n2. Define TreeNode interface:\n```typescript\ninterface TreeNode {\n  label: string;\n  value?: unknown;\n  children?: TreeNode[];\n  expanded?: boolean;\n  icon?: string;\n}\n```\n\n3. Define TreeConfig Zod schema:\n   - nodes: TreeNode[]\n   - selected: string (path)\n   - style.node, style.selected, style.expanded\n   - showLines: boolean\n\n4. Create factory: createTree(world, config): Entity\n5. Features:\n   - Expand/collapse nodes\n   - Keyboard navigation\n   - Mouse click selection\n   - Indentation with lines\n\nTesting:\n- Test tree rendering\n- Test expand/collapse\n- Test deep navigation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:33:26.761378075-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:33:26.761378075-05:00","dependencies":[{"issue_id":"blessed-i7e.7","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:33:26.762917668-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.8","title":"Create list virtualization","description":"Create virtualized list for large datasets.\n\nTasks:\n1. Extend src/widgets/list.ts\n2. Implement virtualization:\n   - Only render visible items\n   - Track firstVisible and visibleCount\n   - Recycle item elements\n   - Smooth scrolling support\n\n3. Virtual scrolling:\n   - Calculate visible range from scroll position\n   - Create/update only visible item elements\n   - Handle rapid scrolling\n\n4. Large dataset support:\n   - Lazy item loading callback\n   - Placeholder for loading items\n   - Infinite scroll support\n\nTesting:\n- Test with 10,000+ items\n- Test scroll performance\n- Test memory usage\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:41:32.15407443-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:41:32.15407443-05:00","dependencies":[{"issue_id":"blessed-i7e.8","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:41:32.155404904-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-i7e.9","title":"Create fuzzy search for lists","description":"Create fuzzy search/filter for list widgets.\n\nTasks:\n1. Create src/utils/fuzzySearch.ts\n2. Implement fuzzy matching:\n```typescript\ninterface FuzzyMatch {\n  item: string;\n  score: number;\n  indices: number[];  // Matched character positions\n}\n\nfunction fuzzySearch(\n  query: string,\n  items: string[],\n  options?: FuzzyOptions\n): FuzzyMatch[];\n```\n\n3. Scoring algorithm:\n   - Exact prefix match: highest score\n   - Consecutive matches: bonus\n   - Word boundary matches: bonus\n   - Case insensitive option\n\n4. Integration with List widget:\n   - '/' key to enter search mode\n   - Filter items as typing\n   - Highlight matched characters\n\nTesting:\n- Test fuzzy matching accuracy\n- Test search performance\n- Test UI integration\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:41:59.450762952-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:41:59.450762952-05:00","dependencies":[{"issue_id":"blessed-i7e.9","depends_on_id":"blessed-i7e","type":"parent-child","created_at":"2026-02-01T11:41:59.452076849-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-j3b","title":"EPIC: Image \u0026 Media Support","description":"Epic for image and media rendering in terminal.\n\nCovers:\n- PNG parsing and rendering\n- GIF animation support\n- ANSI art conversion\n- W3M overlay integration (optional)\n- Video playback integration (optional)\n\nThese are advanced features that may be lower priority for initial release.","status":"open","priority":2,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:38:34.477214348-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:38:34.477214348-05:00"}
{"id":"blessed-j3b.1","title":"Create PNG parser","description":"Create PNG file parser for image rendering.\n\nPort tng.js PNG parsing.\n\nTasks:\n1. Create src/media/png/parser.ts\n2. Implement PNG parsing:\n   - Validate PNG magic bytes\n   - Parse chunk structure (length, type, data, CRC)\n   - Handle chunk types: IHDR, PLTE, IDAT, IEND, tRNS, acTL, fcTL, fdAT\n\n3. Create interfaces:\n```typescript\ninterface PNGHeader {\n  width: number;\n  height: number;\n  bitDepth: number;\n  colorType: ColorType;\n  compression: number;\n  filter: number;\n  interlace: boolean;\n}\n\ninterface PNGChunk {\n  type: string;\n  data: Uint8Array;\n  crc: number;\n}\n```\n\n4. Implement decompression:\n   - Zlib inflate for IDAT chunks\n   - Concatenate multiple IDAT chunks\n\nTesting:\n- Test with various PNG files\n- Test color types (grayscale, RGB, indexed, RGBA)\n- Test interlaced images\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:38:42.238371458-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:38:42.238371458-05:00","dependencies":[{"issue_id":"blessed-j3b.1","depends_on_id":"blessed-j3b","type":"parent-child","created_at":"2026-02-01T11:38:42.240096472-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-j3b.10","title":"iTerm2 Inline Images","description":"macOS-focused image protocol for iTerm2 and compatible terminals.\n\nTasks:\n1. Create src/terminal/graphics/backends/iterm2.ts\n2. Implement ITerm2ImageBackend:\n```typescript\nclass ITerm2ImageBackend implements ImageBackend {\n  readonly name = 'iterm2';\n  readonly capabilities: GraphicsCapabilities = {\n    staticImages: true,\n    animation: false,  // Limited animation support\n    alphaChannel: true,\n    maxWidth: null,\n    maxHeight: null,\n  };\n  \n  render(image: ImageData, options: RenderOptions): string;\n  clear(id?: number): string;\n  isSupported(): boolean;\n}\n```\n\n3. OSC 1337 image sequence generation:\n   - Base64 image encoding\n   - Width/height specification\n   - preserveAspectRatio option\n   - inline=1 for inline display\n\n4. Supported formats:\n   - PNG (preferred)\n   - JPEG\n   - GIF (static frame)\n\n5. Size specification:\n   - Pixel dimensions\n   - Cell dimensions\n   - Auto-sizing\n\nNote: Important for macOS users. Many game developers use Macs.\n\nTesting:\n- Test sequence generation\n- Test base64 encoding\n- Test size options\n- Test aspect ratio preservation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:38:15.067124953-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:38:15.067124953-05:00","dependencies":[{"issue_id":"blessed-j3b.10","depends_on_id":"blessed-j3b","type":"parent-child","created_at":"2026-02-01T12:38:15.06819384-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-j3b.10","depends_on_id":"blessed-j3b.8","type":"blocks","created_at":"2026-02-01T12:41:56.995429055-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-j3b.11","title":"Sixel Graphics","description":"Legacy but resurging graphics protocol for older terminals.\n\nTasks:\n1. Create src/terminal/graphics/backends/sixel.ts\n2. Implement SixelGraphicsBackend:\n```typescript\nclass SixelGraphicsBackend implements ImageBackend {\n  readonly name = 'sixel';\n  readonly capabilities: GraphicsCapabilities = {\n    staticImages: true,\n    animation: false,\n    alphaChannel: false,  // No alpha support\n    maxWidth: null,       // Terminal dependent\n    maxHeight: null,\n  };\n  \n  render(image: ImageData, options: RenderOptions): string;\n  clear(id?: number): string;\n  isSupported(): boolean;\n}\n```\n\n3. Sixel encoder from RGB data:\n   - Quantize to palette (max 256 colors typically)\n   - Generate sixel character data\n   - Handle color registers\n\n4. DCS sequence generation:\n   - Format: DCS P1;P2;P3 q ... ST\n   - Proper introduction parameters\n\n5. Palette management:\n   - Color register allocation\n   - Palette optimization for image\n   - Dithering for color reduction\n\n6. Scrolling behavior handling:\n   - Some terminals scroll on sixel\n   - Cursor positioning after render\n\nNote: Low priority. Some terminals support only sixel, but this\nis increasingly rare. Useful as a fallback for older systems\nlike xterm with sixel enabled.\n\nTesting:\n- Test encoder output\n- Test palette generation\n- Test DCS sequence\n- Test on xterm with sixel\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":3,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:38:36.145153898-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:38:36.145153898-05:00","dependencies":[{"issue_id":"blessed-j3b.11","depends_on_id":"blessed-j3b","type":"parent-child","created_at":"2026-02-01T12:38:36.146865755-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-j3b.11","depends_on_id":"blessed-j3b.8","type":"blocks","created_at":"2026-02-01T12:41:59.04661714-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-j3b.2","title":"Create PNG filter and pixel extraction","description":"Create PNG filter decompression and pixel extraction.\n\nTasks:\n1. Create src/media/png/filters.ts\n2. Implement PNG filters:\n   - Filter 0: None\n   - Filter 1: Sub (previous pixel)\n   - Filter 2: Up (pixel above)\n   - Filter 3: Average\n   - Filter 4: Paeth predictor\n\n3. Create src/media/png/pixels.ts:\n   - Extract pixel samples from scanlines\n   - Handle all bit depths (1, 2, 4, 8, 16)\n   - Normalize to 8-bit values\n   - Handle Adam7 interlacing (7 passes)\n\n4. Create bitmap conversion:\n   - Grayscale to RGBA\n   - Indexed to RGBA (palette lookup)\n   - RGB to RGBA\n   - Handle transparency\n\nTesting:\n- Test each filter type\n- Test interlaced images\n- Test all color types\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:38:52.259979946-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:38:52.259979946-05:00","dependencies":[{"issue_id":"blessed-j3b.2","depends_on_id":"blessed-j3b","type":"parent-child","created_at":"2026-02-01T11:38:52.26119755-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-j3b.3","title":"Create ANSI image renderer","description":"Create ANSI art renderer from bitmap.\n\nTasks:\n1. Create src/media/render/ansi.ts\n2. Implement rendering:\n   - Scale bitmap to terminal cell dimensions\n   - Convert pixels to 256-color palette\n   - Generate ANSI escape sequences\n   - Support ASCII art mode with luminance-based characters\n\n3. Create cellmap representation:\n```typescript\ninterface CellMap {\n  width: number;\n  height: number;\n  cells: Cell[][];  // [row][col]\n}\n```\n\n4. Luminance character selection:\n   - Character ramp based on pixel brightness\n   - Dithering support (optional)\n\n5. Alpha blending:\n   - Blend with background colors\n   - Handle transparent regions\n\nTesting:\n- Test color accuracy\n- Test scaling\n- Test ASCII art mode\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:39:00.012802916-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:39:00.012802916-05:00","dependencies":[{"issue_id":"blessed-j3b.3","depends_on_id":"blessed-j3b","type":"parent-child","created_at":"2026-02-01T11:39:00.014413146-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-j3b.4","title":"Create GIF parser and LZW decoder","description":"Create GIF file parser with LZW decompression.\n\nTasks:\n1. Create src/media/gif/parser.ts\n2. Parse GIF format:\n   - Validate GIF87a/GIF89a signature\n   - Parse logical screen descriptor\n   - Extract global color table\n   - Parse image descriptors\n   - Handle extensions (graphics control, Netscape loop)\n\n3. Create src/media/gif/lzw.ts:\n   - LZW decompression algorithm\n   - Variable code size handling (8-12 bits)\n   - Clear code and EOI handling\n   - Dynamic code table management\n\n4. Create interfaces:\n```typescript\ninterface GIFFrame {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  pixels: number[];  // Palette indices\n  delay: number;     // Frame delay in ms\n  disposal: DisposalMethod;\n  transparent?: number;\n}\n```\n\nTesting:\n- Test static GIFs\n- Test animated GIFs\n- Test transparency\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:39:08.082674474-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:39:08.082674474-05:00","dependencies":[{"issue_id":"blessed-j3b.4","depends_on_id":"blessed-j3b","type":"parent-child","created_at":"2026-02-01T11:39:08.084072155-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-j3b.5","title":"Create Video player widget","description":"Widget that plays video using ASCII art:\n- Integration with mplayer/mpv\n- Use caca (libcaca) output for ASCII rendering\n- Auto-detect mplayer vs mpv\n- Handle resize by restarting at correct timestamp\n- Pause/play on click\n\nThis is an advanced widget with external dependencies.\n\nOriginal: lib/widgets/video.js","status":"open","priority":3,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:00:06.677381747-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:00:06.677381747-05:00","dependencies":[{"issue_id":"blessed-j3b.5","depends_on_id":"blessed-j3b","type":"parent-child","created_at":"2026-02-01T12:00:06.678340521-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-j3b.6","title":"Create w3m overlay image support","description":"Display actual images overlaid on terminal:\n- Integration with w3mimgdisplay binary\n- Pixel-precise positioning\n- Search for w3mimgdisplay on system\n- Show/hide, attach/detach handling\n- Calculate terminal pixel ratios\n- Image size detection\n\nDifferent from ANSI image rendering - uses actual image overlay.\n\nOriginal: lib/widgets/overlayimage.js","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:00:06.74887368-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:00:06.74887368-05:00","dependencies":[{"issue_id":"blessed-j3b.6","depends_on_id":"blessed-j3b","type":"parent-child","created_at":"2026-02-01T12:00:06.750547922-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-j3b.7","title":"Create Image factory widget","description":"Factory widget that delegates to ANSIImage or OverlayImage based on type option.\n\n- itype/type option: 'ansi' | 'overlay'\n- Dynamically copies prototype from target widget\n- Provides unified Image interface\n\nOriginal: lib/widgets/image.js (61 lines)","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:18:26.630032975-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:18:26.630032975-05:00","dependencies":[{"issue_id":"blessed-j3b.7","depends_on_id":"blessed-j3b","type":"parent-child","created_at":"2026-02-01T12:18:26.631563028-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-j3b.8","title":"Graphics Protocol Abstraction","description":"Pluggable terminal graphics backend for sprite rendering.\n\nTasks:\n1. Create src/terminal/graphics/backend.ts\n2. Define ImageBackend interface:\n```typescript\ninterface ImageBackend {\n  readonly name: string;\n  readonly capabilities: GraphicsCapabilities;\n  \n  render(image: ImageData, options: RenderOptions): string;\n  clear(id?: number): string;\n  isSupported(): boolean;\n}\n\ninterface GraphicsCapabilities {\n  readonly staticImages: boolean;\n  readonly animation: boolean;\n  readonly alphaChannel: boolean;\n  readonly maxWidth: number | null;\n  readonly maxHeight: number | null;\n}\n\ninterface RenderOptions {\n  x: number;\n  y: number;\n  width?: number;\n  height?: number;\n  zIndex?: number;\n}\n```\n\n3. Backend selection based on capability negotiation:\n   - Use hyf.14 results to determine best backend\n   - Fallback chain: Kitty → iTerm2 → Sixel → ANSI art → ASCII\n\n4. Create GraphicsManager class:\n```typescript\nclass GraphicsManager {\n  private backend: ImageBackend;\n  \n  constructor(capabilities: TerminalCapabilities);\n  render(image: ImageData, options: RenderOptions): void;\n  clear(id?: number): void;\n  getBackend(): ImageBackend;\n}\n```\n\n5. Cell anchoring for image positioning:\n   - Images anchored to cell coordinates\n   - Stable across resize (clear and re-render)\n\n6. Architectural requirements:\n   - Capability caching (don't re-negotiate every frame)\n   - Runtime re-negotiation on SIGWINCH\n   - Cleanup on widget destruction\n\nGAME USE CASES:\n- Sprite rendering for characters/enemies\n- Tile-based map backgrounds\n- Title screens with logos\n- Animated effects\n\nTesting:\n- Test backend selection logic\n- Test fallback chain\n- Test render/clear operations\n- Test resize handling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:37:48.132043986-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:37:48.132043986-05:00","dependencies":[{"issue_id":"blessed-j3b.8","depends_on_id":"blessed-j3b","type":"parent-child","created_at":"2026-02-01T12:37:48.134126858-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-j3b.8","depends_on_id":"blessed-hyf.14","type":"blocks","created_at":"2026-02-01T12:41:27.336006641-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-j3b.9","title":"Kitty Graphics Protocol","description":"Modern raster image protocol (best general-purpose graphics).\n\nTasks:\n1. Create src/terminal/graphics/backends/kitty.ts\n2. Implement KittyGraphicsBackend:\n```typescript\nclass KittyGraphicsBackend implements ImageBackend {\n  readonly name = 'kitty';\n  readonly capabilities: GraphicsCapabilities = {\n    staticImages: true,\n    animation: true,\n    alphaChannel: true,\n    maxWidth: null,  // No hard limit\n    maxHeight: null,\n  };\n  \n  render(image: ImageData, options: RenderOptions): string;\n  clear(id?: number): string;\n  isSupported(): boolean;\n}\n```\n\n3. Image transmission methods:\n   - Direct (inline base64)\n   - File path reference\n   - Shared memory (for large images)\n\n4. Protocol features:\n   - Image placement with cell positioning\n   - Animation frame support\n   - Image deletion and cache management\n   - Chunked transmission for large images\n   - PNG and RGB/RGBA format support\n   - Alpha channel blending\n\n5. Sequence generation:\n   - APC Gx;... ST format\n   - Proper chunking for \u003e4096 byte payloads\n\nGAME USE CASES:\n- Sprite rendering for characters/enemies\n- Tile-based map backgrounds\n- Animated effects (explosions, particles)\n- High-quality title screens\n\nTesting:\n- Test sequence generation\n- Test image chunking\n- Test placement positioning\n- Test animation frames\n- Test cleanup/deletion\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:38:10.691965838-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:38:10.691965838-05:00","dependencies":[{"issue_id":"blessed-j3b.9","depends_on_id":"blessed-j3b","type":"parent-child","created_at":"2026-02-01T12:38:10.693459591-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-j3b.9","depends_on_id":"blessed-j3b.8","type":"blocks","created_at":"2026-02-01T12:41:53.573932104-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg","title":"EPIC: Terminal I/O \u0026 Program Layer","description":"Epic for low-level terminal control rewrite.\n\nThis epic covers the complete rewrite of program.js (4,295 lines) into a typed, ECS-compatible terminal interface:\n- ANSI escape sequence generation\n- Cursor control and positioning\n- Screen buffer management\n- Input/output stream handling\n- Terminal capability detection\n- Mouse protocol support\n- Alternate screen buffer\n- Character attribute management\n\nThis is the foundation layer that all rendering depends on.","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:15:24.847247072-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:15:24.847247072-05:00","dependencies":[{"issue_id":"blessed-mtg","depends_on_id":"blessed-19j","type":"blocks","created_at":"2026-02-01T11:58:18.618553883-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-mtg","depends_on_id":"blessed-hyf","type":"blocks","created_at":"2026-02-01T11:58:25.784603846-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.1","title":"Create ANSI escape code generator","description":"Create typed ANSI escape sequence generator.\n\nTasks:\n1. Create src/terminal/ansi.ts\n2. Define ANSI code constants:\n   - CSI, OSC, DCS prefixes\n   - SGR codes for attributes\n   - Cursor movement codes\n\n3. Create generator functions:\n   - cursor.move(x, y): string\n   - cursor.up(n): string\n   - cursor.down(n): string\n   - cursor.forward(n): string\n   - cursor.back(n): string\n   - cursor.save(): string\n   - cursor.restore(): string\n   - cursor.show(): string\n   - cursor.hide(): string\n\n4. Attribute functions:\n   - style.reset(): string\n   - style.bold(): string\n   - style.dim(): string\n   - style.italic(): string\n   - style.underline(): string\n   - style.blink(): string\n   - style.inverse(): string\n   - style.hidden(): string\n   - style.strikethrough(): string\n   - style.fg(color): string\n   - style.bg(color): string\n\nTesting:\n- Test each escape sequence is correct\n- Test color code generation\n- Test RGB color generation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:08.818461153-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:08.818461153-05:00","dependencies":[{"issue_id":"blessed-mtg.1","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:08.820173399-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.10","title":"Create terminal cleanup on exit","description":"Create proper terminal cleanup on process exit.\n\nCRITICAL: Terminal must be restored on exit, crash, or Ctrl+C.\n\nTasks:\n1. Create src/terminal/cleanup.ts\n2. Register exit handlers:\n   - process.on('exit')\n   - process.on('SIGINT')\n   - process.on('SIGTERM')\n   - process.on('uncaughtException')\n   - process.on('unhandledRejection')\n\n3. Cleanup actions:\n   - Exit alternate screen buffer\n   - Restore cursor\n   - Disable mouse\n   - Reset terminal attributes\n   - Restore original stdin mode\n   - Show cursor\n\n4. Ensure cleanup runs only once\n5. Allow user to add custom cleanup\n\nTesting:\n- Test cleanup on normal exit\n- Test cleanup on Ctrl+C\n- Test cleanup on exception\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:34:38.544504693-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:34:38.544504693-05:00","dependencies":[{"issue_id":"blessed-mtg.10","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:34:38.545594753-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.11","title":"Create signal and exception handlers","description":"Create global signal and exception handlers.\n\nCRITICAL: Ensure terminal is always restored on exit.\n\nTasks:\n1. Create src/terminal/signals.ts\n2. Register handlers:\n   - SIGINT (Ctrl+C)\n   - SIGTERM (kill)\n   - SIGQUIT (Ctrl+\\)\n   - SIGHUP (terminal closed)\n   - uncaughtException\n   - unhandledRejection\n\n3. Cleanup actions on signal:\n   - Exit alternate screen\n   - Show cursor\n   - Disable mouse\n   - Reset terminal attributes\n   - Flush output\n\n4. Multi-instance handling:\n   - Track all active screens\n   - Clean up all on exit\n   - Prevent multiple cleanup runs\n\n5. User hooks:\n   - onExit callback\n   - Custom cleanup actions\n\nTesting:\n- Test Ctrl+C cleanup\n- Test exception cleanup\n- Test multi-instance cleanup\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:40:20.430813093-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:40:20.430813093-05:00","dependencies":[{"issue_id":"blessed-mtg.11","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:40:20.431798608-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.12","title":"Create ANSI attribute code parser","description":"Create ANSI SGR attribute code parser.\n\nTasks:\n1. Create src/terminal/ansi/parser.ts\n2. Parse SGR codes:\n   - Extract codes from ESC[...m sequences\n   - Convert to internal attribute representation\n   - Handle 256-color and RGB color codes\n\n3. SGR code handling:\n   - 0: Reset\n   - 1: Bold\n   - 2: Dim/Faint\n   - 3: Italic\n   - 4: Underline\n   - 7: Inverse\n   - 8: Hidden\n   - 9: Strikethrough\n   - 21: Double underline\n   - 53: Overline\n   - 30-37: Foreground colors\n   - 40-47: Background colors\n   - 38;5;N: 256-color foreground\n   - 48;5;N: 256-color background\n   - 38;2;R;G;B: RGB foreground\n   - 48;2;R;G;B: RGB background\n\n4. Create attrCode(code, attr, defaultAttr) function\n\n5. **ADDED: Extended attribute support**\n   - SGR 2: Faint/dim text (reduced intensity)\n   - SGR 3: Italic text\n   - SGR 9: Strikethrough\n   - SGR 21: Double underline\n   - SGR 53: Overline\n   - Support stacking multiple attributes (e.g., bold + italic + underline)\n   - Attribute combination tracking in internal representation\n\nTesting:\n- Test all SGR codes\n- Test 256-color parsing\n- Test RGB parsing\n- Test extended attributes (faint, italic, strikethrough, double underline, overline)\n- Test attribute stacking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:41:20.11447708-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:39:38.102355518-05:00","dependencies":[{"issue_id":"blessed-mtg.12","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:41:20.11604696-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.13","title":"Create process spawn/exec utilities","description":"Create process spawning and execution utilities.\n\nTasks:\n1. Create src/terminal/process.ts\n2. Implement process utilities:\n```typescript\n// Spawn child process with PTY\nfunction spawn(\n  world: World,\n  file: string,\n  args?: string[],\n  options?: SpawnOptions\n): ChildProcess;\n\n// Execute and wait\nfunction exec(\n  world: World,\n  file: string,\n  args?: string[],\n  options?: ExecOptions,\n  callback?: (err: Error | null, stdout: string) =\u003e void\n): void;\n\n// Open external editor\nfunction readEditor(\n  world: World,\n  options?: EditorOptions\n): Promise\u003cstring\u003e;\n```\n\n3. Handle terminal state:\n   - Leave alternate screen\n   - Restore terminal state\n   - Re-enter after process exits\n\n4. Editor integration:\n   - Use EDITOR env var\n   - Support custom editor\n   - Return edited content\n\nTesting:\n- Test process spawning\n- Test editor opening\n- Test terminal restoration\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:46:07.763701336-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:46:07.763701336-05:00","dependencies":[{"issue_id":"blessed-mtg.13","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:46:07.765632101-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.14","title":"Create SIGTSTP suspend/resume handling","description":"Create suspend/resume signal handling.\n\nTasks:\n1. Create src/terminal/suspend.ts\n2. Implement SIGTSTP handling:\n```typescript\n// Handle Ctrl+Z (suspend)\nfunction handleSigtstp(\n  world: World,\n  callback?: () =\u003e void\n): void;\n\n// Restore terminal on resume\nfunction handleSigcont(world: World): void;\n```\n\n3. Suspend flow:\n   - Save terminal state\n   - Exit alternate screen\n   - Show cursor\n   - Disable mouse\n   - Send SIGTSTP to self\n\n4. Resume flow:\n   - Re-enter alternate screen\n   - Restore cursor\n   - Re-enable mouse\n   - Restore terminal state\n   - Re-render\n\nTesting:\n- Test Ctrl+Z suspend\n- Test fg resume\n- Test terminal state restoration\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:46:23.116656089-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:46:23.116656089-05:00","dependencies":[{"issue_id":"blessed-mtg.14","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:46:23.118467437-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.15","title":"Create tmux pass-through support","description":"Implement tmux pass-through for escape sequences:\n- Wrap escape sequences in DCS passthrough (_twrite)\n- Detect tmux version\n- Handle tmux's terminal capabilities\n- Ensure sequences work inside tmux sessions\n\nOriginal: lib/program.js tmux handling","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:59:39.024943786-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:59:39.024943786-05:00","dependencies":[{"issue_id":"blessed-mtg.15","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:59:39.026476701-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.16","title":"Create terminal response parser","description":"Parse terminal query responses:\n- Device Attributes (DA, Primary/Secondary)\n- Device Status Reports (DSR) - cursor position, printer status, UDK status\n- Window manipulation responses (size, position, state)\n- Window title/icon label retrieval\n- Locator position reports\n\nOriginal: lib/program.js _bindResponse","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:59:39.093100471-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:59:39.093100471-05:00","dependencies":[{"issue_id":"blessed-mtg.16","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:59:39.094748787-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.17","title":"Create character set handling","description":"Implement character set designation:\n- G0-G3 character set switching\n- DEC Special Graphics character set (line drawing)\n- National character sets (UK, French, German, etc.)\n- smacs/rmacs for alternate character set mode\n- Proper box drawing character support\n\nOriginal: lib/program.js charset()","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:59:39.165349715-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:59:39.165349715-05:00","dependencies":[{"issue_id":"blessed-mtg.17","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:59:39.167056028-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.18","title":"Create debug logging system","description":"Debug logging and dump utilities:\n- log() - write to log file\n- debug() - debug log with timestamp\n- _log() - internal log helper\n- setupDump() - terminal state dumping for debugging\n\nOriginal: lib/program.js lines 158-241","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:11:59.567468107-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:11:59.567468107-05:00","dependencies":[{"issue_id":"blessed-mtg.18","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T12:11:59.569432048-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.19","title":"Create media copy (print) functions","description":"Terminal print/media copy capabilities:\n- mc() / mediaCopy() - media copy control\n- mc0() / print_screen() - print screen\n- mc5() / prtr_on() - turn on printer\n- mc4() / prtr_off() - turn off printer\n- mc5p() / prtr_non() - turn on printer for n bytes\n\nThese are legacy terminal features but may be useful.\n\nOriginal: lib/program.js lines 3697-3728","status":"open","priority":3,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:11:59.63725954-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:11:59.63725954-05:00","dependencies":[{"issue_id":"blessed-mtg.19","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T12:11:59.638976059-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.2","title":"Create screen erase functions","description":"Create screen clearing and erasing functions.\n\nTasks:\n1. Add to src/terminal/ansi.ts or create src/terminal/erase.ts\n2. Define erase functions:\n   - erase.screen(): string (clear entire screen)\n   - erase.screenBelow(): string\n   - erase.screenAbove(): string\n   - erase.line(): string (clear entire line)\n   - erase.lineEnd(): string\n   - erase.lineStart(): string\n   - erase.chars(n): string\n\n3. Define scroll functions:\n   - scroll.up(n): string\n   - scroll.down(n): string\n   - scroll.setRegion(top, bottom): string\n   - scroll.resetRegion(): string\n\nTesting:\n- Test each erase code is correct\n- Test scroll region setting\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:15.706512523-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:15.706512523-05:00","dependencies":[{"issue_id":"blessed-mtg.2","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:15.708361714-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-mtg.2","depends_on_id":"blessed-mtg.1","type":"blocks","created_at":"2026-02-01T11:59:24.02685043-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.20","title":"Create rectangular area operations","description":"VT400+ rectangle operations:\n- deccara() / setAttrInRectangle() - set attributes in rectangle\n- decrara() / reverseAttrInRectangle() - reverse attributes in rectangle  \n- deccra() / copyRectangle() - copy rectangle\n- decfra() / fillRectangle() - fill rectangle with char\n- decera() / eraseRectangle() - erase rectangle\n- decsera() / selectiveEraseRectangle() - selective erase\n\nThese are advanced VT400+ features.\n\nOriginal: lib/program.js lines 3905-4133","status":"open","priority":3,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:11:59.705291442-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:11:59.705291442-05:00","dependencies":[{"issue_id":"blessed-mtg.20","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T12:11:59.706896569-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.21","title":"Create window manipulation functions","description":"Terminal window manipulation:\n- manipulateWindow() - various window operations (minimize, maximize, etc.)\n- getWindowSize() - query window dimensions in pixels\n\nOriginal: lib/program.js lines 3963-3976","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:11:59.772447689-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:11:59.772447689-05:00","dependencies":[{"issue_id":"blessed-mtg.21","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T12:11:59.774013786-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.22","title":"Create DEC locator operations","description":"DEC locator (advanced mouse) control:\n- decelr() / enableLocatorReporting() - enable locator reports\n- decefr() / enableFilterRectangle() - set filter rectangle\n- decsle() / setLocatorEvents() - configure locator events\n- decrqlp() / requestLocatorPosition() - request locator position\n\nOriginal: lib/program.js lines 4045-4189","status":"open","priority":3,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:11:59.844538586-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:11:59.844538586-05:00","dependencies":[{"issue_id":"blessed-mtg.22","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T12:11:59.845815361-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.23","title":"Synchronized Output Mode","description":"Prevent flicker during rapid game updates. CRITICAL for smooth 60fps rendering.\n\nTasks:\n1. Add to src/terminal/ansi.ts:\n   - sync.begin(): string - DEC DECSET 2026\n   - sync.end(): string - DEC DECRST 2026\n   - sync.wrap(content: string): string - Wraps content in sync markers\n\n2. Create SynchronizedOutput class:\n```typescript\nclass SynchronizedOutput {\n  private supported: boolean;\n  \n  constructor(capabilities: TerminalCapabilities);\n  begin(): string;\n  end(): string;\n  wrap(content: string): string;\n}\n```\n\n3. Integration with render system:\n   - Auto-wrap each frame in sync markers\n   - Option to disable for debugging\n\n4. Fallback for unsupported terminals:\n   - No-op when terminal does not support DEC 2026\n   - Detection via hyf.14 capability negotiation\n\nGAME USE CASE:\nPrevents screen tearing and flicker during fast animation frames.\nEssential for smooth 60fps games. Without this, partial frames\nmay be displayed causing visual artifacts.\n\nTesting:\n- Test sequence generation\n- Test wrap function\n- Test fallback behavior\n- Visual test for flicker reduction\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:37:26.613823124-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:37:26.613823124-05:00","dependencies":[{"issue_id":"blessed-mtg.23","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T12:37:26.615336164-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-mtg.23","depends_on_id":"blessed-mtg.4","type":"blocks","created_at":"2026-02-01T12:40:47.917467335-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.24","title":"Escape Sequence Injection Prevention","description":"Prevent untrusted data from injecting escape sequences into terminal output.\n\nTasks:\n1. Create src/terminal/security/sanitize.ts\n2. Implement escape sequence sanitization:\n```typescript\nfunction sanitizeForTerminal(input: string, options?: SanitizeOptions): string;\n\ninterface SanitizeOptions {\n  allowColors?: boolean;      // Allow SGR color codes\n  allowCursor?: boolean;      // Allow cursor movement\n  stripAllEscapes?: boolean;  // Remove ALL escape sequences\n}\n```\n\n3. Create safe string builder:\n```typescript\nclass SafeStringBuilder {\n  append(trusted: string): this;\n  appendUntrusted(userInput: string, options?: SanitizeOptions): this;\n  toString(): string;\n}\n```\n\n4. Escape detection patterns:\n   - CSI sequences (ESC[...)\n   - OSC sequences (ESC]...)\n   - DCS sequences (ESC P...)\n   - APC sequences (ESC _...)\n   - SOS sequences (ESC X...)\n   - PM sequences (ESC ^...)\n\n5. Integration with text rendering pipeline:\n   - Optional sanitization in text widgets\n   - Configurable per-widget\n\nGAME USE CASE:\nIf game displays player names or chat messages, malicious input\ncould inject escape sequences to corrupt display, clear screen,\nor execute terminal commands. Essential for networked games.\n\nTesting:\n- Test CSI sequence stripping\n- Test OSC sequence stripping\n- Test color code preservation (when allowed)\n- Test UTF-8 preservation\n- Test performance on large strings\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:37:54.87036477-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:37:54.87036477-05:00","dependencies":[{"issue_id":"blessed-mtg.24","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T12:37:54.871670996-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.25","title":"Hyperlink Support (OSC 8)","description":"Clickable links in terminal output for credits screens and help text.\n\nTasks:\n1. Add to src/terminal/ansi.ts:\n```typescript\nfunction hyperlink(url: string, text: string, id?: string): string;\nfunction hyperlinkStart(url: string, id?: string): string;\nfunction hyperlinkEnd(): string;\n```\n\n2. OSC 8 sequence generation:\n   - Format: OSC 8 ; params ; URI ST text OSC 8 ; ; ST\n   - Support for id parameter (multi-line links)\n\n3. Hyperlink span primitive for text layout:\n   - Track hyperlink boundaries\n   - Preserve link metadata through rendering\n\n4. Width calculation:\n   - Ignore OSC wrapper in width calc\n   - Only count visible text\n\n5. Security:\n   - URL validation\n   - Hyperlink sanitization mode (strip OSC 8)\n   - Allowed protocols whitelist\n\nNote: Lower priority for games. Useful for credits screens,\nhelp text, or linking to documentation, but not core gameplay.\n\nTesting:\n- Test sequence generation\n- Test multi-line links with id\n- Test width calculation\n- Test URL validation\n- Test sanitization\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":3,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:38:29.509141213-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:38:29.509141213-05:00","dependencies":[{"issue_id":"blessed-mtg.25","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T12:38:29.510225516-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-mtg.25","depends_on_id":"blessed-mtg.1","type":"blocks","created_at":"2026-02-01T12:42:25.563851142-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.3","title":"Create alternate screen buffer handling","description":"Create alternate screen buffer management.\n\nTasks:\n1. Add to src/terminal/ansi.ts:\n   - screen.enterAlt(): string (smcup)\n   - screen.exitAlt(): string (rmcup)\n\n2. Create src/terminal/screenBuffer.ts:\n   - Define ScreenBuffer class\n   - enterAlternateScreen(): void\n   - exitAlternateScreen(): void\n   - isAlternate: boolean\n\n3. Handle cleanup on process exit:\n   - Restore original screen on SIGINT\n   - Restore on uncaught exception\n\nTesting:\n- Test alternate screen entry/exit\n- Test cleanup handlers\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:21.385211353-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:21.385211353-05:00","dependencies":[{"issue_id":"blessed-mtg.3","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:21.387030777-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-mtg.3","depends_on_id":"blessed-mtg.1","type":"blocks","created_at":"2026-02-01T11:59:24.09903236-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.4","title":"Create Program class","description":"Create main Program class for terminal control.\n\nRewrite of program.js Program class.\n\nTasks:\n1. Create src/terminal/program.ts\n2. Define ProgramConfig interface with Zod schema\n3. Define Program class:\n   - constructor(config: ProgramConfig)\n   - input: NodeJS.ReadableStream\n   - output: NodeJS.WritableStream\n   - cols: number\n   - rows: number\n   - x: number, y: number (cursor position)\n\n4. Core methods:\n   - write(data: string): void\n   - flush(): void\n   - clear(): void\n   - move(x, y): void\n   - cursorTo(x, y): void\n\n5. Setup methods:\n   - init(): Promise\u003cvoid\u003e\n   - destroy(): void\n\n6. Event handling (inherits TypedEventEmitter):\n   - onResize handler\n   - onKey handler\n   - onMouse handler\n\nTesting:\n- Test initialization\n- Test write buffering\n- Test cursor movement\n- Test resize detection\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:27.974007724-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:27.974007724-05:00","dependencies":[{"issue_id":"blessed-mtg.4","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:27.975458646-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-mtg.4","depends_on_id":"blessed-mtg.1","type":"blocks","created_at":"2026-02-01T11:59:24.35562411-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-mtg.4","depends_on_id":"blessed-mtg.3","type":"blocks","created_at":"2026-02-01T11:59:24.42697515-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-mtg.4","depends_on_id":"blessed-mtg.5","type":"blocks","created_at":"2026-02-01T11:59:24.49806732-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.5","title":"Create output buffering system","description":"Create efficient output buffering for rendering.\n\nTasks:\n1. Create src/terminal/outputBuffer.ts\n2. Define OutputBuffer class:\n   - buffer: string[]\n   - write(data: string): void\n   - writeln(data: string): void\n   - flush(stream: NodeJS.WritableStream): void\n   - clear(): void\n   - length: number\n\n3. Implement batched flushing:\n   - Coalesce multiple writes\n   - Flush on requestAnimationFrame or setImmediate\n   - Manual flush for immediate output\n\n4. Track cursor position through writes\n\nTesting:\n- Test write accumulation\n- Test flush behavior\n- Test cursor tracking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:33.748750261-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:33.748750261-05:00","dependencies":[{"issue_id":"blessed-mtg.5","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:33.75041314-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-mtg.5","depends_on_id":"blessed-mtg.1","type":"blocks","created_at":"2026-02-01T11:59:24.196703652-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.6","title":"Create terminal detection","description":"Create terminal type detection system.\n\nTasks:\n1. Create src/terminal/detection.ts\n2. Define TerminalInfo interface:\n```typescript\ninterface TerminalInfo {\n  name: string;           // 'xterm', 'vte', 'iterm2', etc.\n  version?: string;\n  colorSupport: 2 | 16 | 256 | 'truecolor';\n  unicodeSupport: boolean;\n  mouseSupport: boolean;\n  bracketed: boolean;     // Bracketed paste support\n  tmux: boolean;\n  screen: boolean;\n}\n```\n\n3. Detection functions:\n   - detectTerminal(): TerminalInfo\n   - isXterm(): boolean\n   - isVTE(): boolean\n   - isITerm2(): boolean\n   - isTmux(): boolean\n   - getColorDepth(): number\n\n4. Use xterm-256color, truecolor, escape sequence queries\n\nTesting:\n- Test detection logic (mock env vars)\n- Test fallback behavior\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:40.89089996-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:40.89089996-05:00","dependencies":[{"issue_id":"blessed-mtg.6","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:40.892624689-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.7","title":"Create mouse enable/disable functions","description":"Create mouse protocol enable/disable functions.\n\nTasks:\n1. Add to src/terminal/ansi.ts:\n   - mouse.enableX10(): string\n   - mouse.enableNormal(): string\n   - mouse.enableSGR(): string\n   - mouse.enableURXVT(): string\n   - mouse.enableAny(): string (any event tracking)\n   - mouse.disableAll(): string\n\n2. Create src/terminal/mouse.ts:\n   - enableMouse(stream, protocol?): void\n   - disableMouse(stream): void\n   - detectBestProtocol(termInfo): MouseProtocol\n\nTesting:\n- Test each protocol enable sequence\n- Test protocol detection\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:47.556848702-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:47.556848702-05:00","dependencies":[{"issue_id":"blessed-mtg.7","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:47.558600178-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-mtg.7","depends_on_id":"blessed-mtg.1","type":"blocks","created_at":"2026-02-01T11:59:24.281292416-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.8","title":"Create cursor style functions","description":"Create cursor appearance control functions.\n\nTasks:\n1. Add to src/terminal/ansi.ts:\n   - cursor.setShape(shape): string\n     - shapes: block, underline, bar\n   - cursor.setBlink(blink): string\n   - cursor.setColor(color): string (xterm extension)\n   - cursor.resetStyle(): string\n\n2. Define CursorShape enum\n3. Create Zod schema for cursor config\n\n4. **ADDED: Per-widget cursor context**\n   - Save/restore cursor style on mode changes\n   - Different cursor shape per widget context:\n     - Text input widgets: bar/underline cursor\n     - Normal navigation: block cursor\n     - Selection mode: underline cursor\n   - Cursor style stack for nested contexts\n\nTesting:\n- Test shape sequences\n- Test blink toggle\n- Test color setting (xterm)\n- Test save/restore behavior\n- Test style stacking\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:53.401334642-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:39:31.062512797-05:00","dependencies":[{"issue_id":"blessed-mtg.8","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:53.402690235-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-mtg.9","title":"Create title and clipboard functions","description":"Create window title and clipboard control.\n\nTasks:\n1. Add to src/terminal/ansi.ts:\n   - window.setTitle(title): string\n   - window.setIconName(name): string\n   - clipboard.write(text): string (OSC 52)\n   - clipboard.read(): string (request)\n\n2. Create Zod schema for allowed title characters\n\n3. **ADDED: Security controls for clipboard (OSC 52)**\n   - Clipboard is opt-in per-operation (not globally disabled)\n   - Size limit option for clipboard write (prevent data exfiltration)\n   - Maximum write size: configurable, default 1MB\n   - Document security implications for SSH scenarios:\n     - Remote applications can read/write local clipboard\n     - Consider disabling in untrusted environments\n   - Option to require user confirmation for clipboard access\n\nTesting:\n- Test title sequence\n- Test clipboard write sequence\n- Test size limit enforcement\n- Test per-operation opt-in behavior\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:58.535172005-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:39:26.626778064-05:00","dependencies":[{"issue_id":"blessed-mtg.9","depends_on_id":"blessed-mtg","type":"parent-child","created_at":"2026-02-01T11:22:58.536522696-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37","title":"EPIC: Input System (Keyboard \u0026 Mouse)","description":"Epic for input handling and event parsing.\n\nRewrite of keys.js (339 lines) and mouse handling covering:\n- ANSI escape sequence parsing for keys\n- Modifier detection (ctrl, alt, shift)\n- Function key mapping (F1-F12)\n- Navigation key mapping\n- Mouse event parsing (X11, SGR, URXVT protocols)\n- GPM protocol support\n- Input event Zod schemas\n- bitecs input components","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:15:41.079997684-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:15:41.079997684-05:00","dependencies":[{"issue_id":"blessed-n37","depends_on_id":"blessed-mtg","type":"blocks","created_at":"2026-02-01T11:58:25.717775653-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-n37","depends_on_id":"blessed-2qm","type":"blocks","created_at":"2026-02-01T11:58:25.988751424-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.1","title":"Create key event parser","description":"Create ANSI escape sequence parser for keyboard input.\n\nRewrite of keys.js (339 lines) with strict typing.\n\nTasks:\n1. Create src/terminal/keyParser.ts\n2. Define KeyEvent interface:\n```typescript\ninterface KeyEvent {\n  readonly sequence: string;\n  readonly name: KeyName;\n  readonly ctrl: boolean;\n  readonly meta: boolean;\n  readonly shift: boolean;\n  readonly code?: string;\n  readonly raw: Buffer;\n}\n```\n\n3. Define KeyName type union with all key names\n4. Create parseKeySequence(buffer: Buffer): KeyEvent | null\n5. Handle all key types:\n   - Regular characters\n   - Control characters (Ctrl+A-Z)\n   - Function keys (F1-F12)\n   - Navigation (arrows, home, end, pgup/pgdn)\n   - Modifiers (shift+key, alt+key, ctrl+alt+key)\n\n6. Create Zod schema for KeyEvent validation\n\nTesting:\n- Test regular character parsing\n- Test each function key\n- Test modifier combinations\n- Test edge cases (escape, enter, backspace)\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:23.190000135-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:23.190000135-05:00","dependencies":[{"issue_id":"blessed-n37.1","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:21:23.191082191-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.10","title":"Create vi navigation mode","description":"Create vi-style navigation for scrollable elements.\n\nTasks:\n1. Create src/input/viMode.ts\n2. Implement vi key bindings:\n   - j/k: up/down\n   - h/l: left/right\n   - g/G: top/bottom\n   - Ctrl+d/u: half page down/up\n   - Ctrl+f/b: full page down/up\n   - H/M/L: high/middle/low of visible area\n   - /: search mode\n   - n/N: next/prev search result\n\n3. Enable with vi: true option\n4. Compatible with existing keys option\n\nTesting:\n- Test all vi bindings\n- Test with scrollable content\n- Test search functionality\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:43:15.270075039-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:43:15.270075039-05:00","dependencies":[{"issue_id":"blessed-n37.10","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:43:15.271019792-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.11","title":"Terminal Focus Events","description":"Terminal window focus tracking for game pause/resume.\n\nTasks:\n1. Add to src/terminal/inputStream.ts:\n   - Enable focus events: DECSET 1004\n   - Disable focus events: DECRST 1004\n\n2. Parse focus sequences:\n   - Focus in: ESC[I\n   - Focus out: ESC[O\n\n3. Create FocusEvent interface:\n```typescript\ninterface FocusEvent {\n  readonly type: 'focus' | 'blur';\n  readonly timestamp: number;\n}\n```\n\n4. Emit events:\n   - 'terminalFocus' when window gains focus\n   - 'terminalBlur' when window loses focus\n\n5. Integration with game loop:\n   - Option to auto-pause game on blur\n   - Option to reduce redraws when unfocused\n   - Configurable blur/focus callbacks\n\nGAME USE CASE:\nAutomatically pause game when user switches to another window,\nresume when they return. Reduces CPU usage when game is not\nvisible. Essential for battery-powered devices.\n\nTesting:\n- Test enable/disable sequences\n- Test focus event parsing\n- Test event emission\n- Test integration with game loop pause\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:37:31.879223535-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:37:31.879223535-05:00","dependencies":[{"issue_id":"blessed-n37.11","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T12:37:31.881289195-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-n37.11","depends_on_id":"blessed-mtg.4","type":"blocks","created_at":"2026-02-01T12:41:17.90305933-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.12","title":"Kitty Keyboard Protocol","description":"Modern keyboard disambiguation with key release events for games.\n\nTasks:\n1. Create src/terminal/keyboardProtocols/kitty.ts\n2. Detect kitty keyboard protocol support:\n   - Query: CSI ? u\n   - Response parsing from hyf.14 negotiation\n\n3. Progressive enhancement:\n   - Legacy fallback when protocol unsupported\n   - Graceful degradation\n\n4. Protocol levels support:\n   - Level 1: Disambiguation (minimum required)\n   - Level 2: Release events (recommended for games)\n   - Level 3: Alternate keys (optional)\n   - Level 4: All keys as escapes (not supported)\n\n5. Rich KeyEvent interface:\n```typescript\ninterface KittyKeyEvent extends KeyEvent {\n  readonly physical: string;      // Physical key\n  readonly logical: string;       // Logical key\n  readonly isRepeat: boolean;     // Auto-repeat flag\n  readonly isRelease: boolean;    // KEY RELEASE (critical!)\n  readonly text: string;          // Text produced\n  readonly modifiers: KeyModifiers;\n}\n\ninterface KeyModifiers {\n  readonly shift: boolean;\n  readonly ctrl: boolean;\n  readonly alt: boolean;\n  readonly super: boolean;\n  readonly hyper: boolean;\n  readonly meta: boolean;\n  readonly capsLock: boolean;\n  readonly numLock: boolean;\n}\n```\n\n6. Resolve ESC vs Alt-key ambiguity (critical for games)\n\nGAME USE CASES:\n- Charging attacks (hold key, release to fire)\n- Running vs walking (shift held vs tapped)\n- Combo inputs (multiple keys pressed simultaneously)\n- Proper menu navigation (ESC to close menu)\n\nTesting:\n- Test protocol detection\n- Test key press parsing\n- Test key release parsing\n- Test modifier combinations\n- Test ESC disambiguation\n- Test fallback to legacy mode\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:37:40.017173567-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:37:40.017173567-05:00","dependencies":[{"issue_id":"blessed-n37.12","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T12:37:40.018671979-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-n37.12","depends_on_id":"blessed-hyf.14","type":"blocks","created_at":"2026-02-01T12:41:24.026733635-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-n37.12","depends_on_id":"blessed-n37.1","type":"blocks","created_at":"2026-02-01T12:41:24.111818444-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.13","title":"Bracketed Paste Mode","description":"Distinguish paste from typing for text input safety.\n\nTasks:\n1. Add to src/terminal/inputStream.ts:\n   - Enable bracketed paste: DECSET 2004\n   - Disable bracketed paste: DECRST 2004\n\n2. Parse paste sequences:\n   - Paste start: ESC[200~\n   - Paste end: ESC[201~\n\n3. Create PasteEvent interface:\n```typescript\ninterface PasteEvent {\n  readonly type: 'paste';\n  readonly text: string;\n  readonly timestamp: number;\n}\n```\n\n4. Surface distinct events:\n   - onPaste(text) callback (not keypress stream)\n   - Distinguish paste from rapid typing\n\n5. Security options:\n   - Sanitize pasted content option\n   - Strip escape sequences from paste\n   - Maximum paste length limit\n\n6. Create Zod schema for PasteEvent\n\nNote: Lower priority for games. Paste is primarily useful for\ntext input fields, not real-time game controls.\n\nTesting:\n- Test enable/disable sequences\n- Test paste boundary detection\n- Test event emission\n- Test sanitization options\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:38:03.720957122-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:38:03.720957122-05:00","dependencies":[{"issue_id":"blessed-n37.13","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T12:38:03.722460491-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-n37.13","depends_on_id":"blessed-n37.3","type":"blocks","created_at":"2026-02-01T12:41:45.639043222-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.14","title":"Input Sanitization","description":"Sanitize untrusted input data for networked games.\n\nTasks:\n1. Create src/terminal/security/inputSanitize.ts\n2. Implement input validation:\n```typescript\nfunction sanitizeTextInput(input: string, options?: InputSanitizeOptions): string;\n\ninterface InputSanitizeOptions {\n  allowUnicode?: boolean;      // Allow non-ASCII\n  maxLength?: number;          // Truncate at length\n  stripControl?: boolean;      // Remove control chars\n  stripNull?: boolean;         // Remove null bytes\n}\n```\n\n3. Filter control characters:\n   - Remove C0 control chars (0x00-0x1F except tab, newline)\n   - Remove C1 control chars (0x80-0x9F)\n   - Optional: restrict to printable ASCII\n\n4. UTF-8 validation:\n   - Validate UTF-8 sequences\n   - Replace invalid sequences with replacement char\n   - Detect overlong encodings\n\n5. Null byte prevention:\n   - Strip null bytes from strings\n   - Prevent null byte injection attacks\n\nNote: Games typically have controlled input, but networked games\nor games with user-generated content need this for security.\n\nTesting:\n- Test control character removal\n- Test UTF-8 validation\n- Test null byte stripping\n- Test length limiting\n- Test performance on rapid input\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:38:21.207076635-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:38:21.207076635-05:00","dependencies":[{"issue_id":"blessed-n37.14","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T12:38:21.208819363-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.2","title":"Create mouse event parser","description":"Create mouse event parser for multiple protocols.\n\nTasks:\n1. Create src/terminal/mouseParser.ts\n2. Define MouseEvent interface:\n```typescript\ninterface MouseEvent {\n  readonly x: number;\n  readonly y: number;\n  readonly button: MouseButton;\n  readonly action: 'press' | 'release' | 'move' | 'wheel';\n  readonly ctrl: boolean;\n  readonly meta: boolean;\n  readonly shift: boolean;\n  readonly raw: Buffer;\n}\n```\n\n3. Define MouseButton enum: left, middle, right, wheelUp, wheelDown\n4. Support protocols:\n   - X10 basic: ESC[M + 3 bytes\n   - X11 normal: ESC[M + button + coords\n   - SGR extended: ESC[\u003cbutton;x;y[Mm]\n   - URXVT: ESC[button;x;yM\n\n5. Create parseMouseSequence(buffer: Buffer): MouseEvent | null\n6. Create Zod schema for MouseEvent\n\nTesting:\n- Test each protocol\n- Test button identification\n- Test coordinate parsing\n- Test modifier detection\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:31.134577139-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:31.134577139-05:00","dependencies":[{"issue_id":"blessed-n37.2","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:21:31.135933255-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.3","title":"Create input stream handler","description":"Create input stream processor for keyboard/mouse.\n\nTasks:\n1. Create src/terminal/inputStream.ts\n2. Define InputHandler class:\n   - constructor(stream: NodeJS.ReadableStream)\n   - start(): void\n   - stop(): void\n   - onKey(handler: (event: KeyEvent) =\u003e void): unsubscribe\n   - onMouse(handler: (event: MouseEvent) =\u003e void): unsubscribe\n\n3. Handle stream data:\n   - Buffer incomplete sequences\n   - Detect sequence type (key vs mouse)\n   - Parse and emit appropriate events\n   - Handle UTF-8 decoding\n\n4. Create Zod schema for input config\n\nTesting:\n- Test stream attachment\n- Test event emission\n- Test buffering of incomplete sequences\n- Test cleanup on stop\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:36.992050904-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:36.992050904-05:00","dependencies":[{"issue_id":"blessed-n37.3","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:21:36.993669229-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-n37.3","depends_on_id":"blessed-n37.1","type":"blocks","created_at":"2026-02-01T11:59:19.548188185-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-n37.3","depends_on_id":"blessed-n37.2","type":"blocks","created_at":"2026-02-01T11:59:19.610598063-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.4","title":"Define Input components","description":"Create bitecs components for input state.\n\nComponents:\n```typescript\nconst KeyboardInput = defineComponent({\n  lastKeyCode: Types.ui32,\n  lastKeyTime: Types.f64,\n  modifiers: Types.ui8,  // Packed: ctrl|meta|shift\n})\n\nconst MouseInput = defineComponent({\n  x: Types.i16,\n  y: Types.i16,\n  button: Types.ui8,\n  pressed: Types.ui8,\n  lastClickTime: Types.f64,\n  clickCount: Types.ui8,  // For double-click detection\n})\n\nconst InputBuffer = defineComponent({\n  bufferStart: Types.ui32,  // Reference to buffer store\n  bufferLength: Types.ui16,\n})\n```\n\nTasks:\n1. Create src/components/input.ts\n2. Define KeyboardInput component\n3. Define MouseInput component\n4. Define InputBuffer component\n5. Create InputBufferStore for text input buffering\n6. Export helper functions\n\nTesting:\n- Test component creation\n- Test modifier packing/unpacking\n- Test double-click detection\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:44.242675551-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:44.242675551-05:00","dependencies":[{"issue_id":"blessed-n37.4","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:21:44.24362542-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.5","title":"Create input system","description":"Create bitecs system for input processing.\n\nTasks:\n1. Create src/systems/inputSystem.ts\n2. Define inputSystem:\n   - Process queued input events\n   - Update MouseInput component with position\n   - Update KeyboardInput component\n   - Determine hit targets for mouse\n   - Dispatch events to target entities\n   - Handle focus changes on click\n   - Handle tab navigation\n\n3. Register in INPUT phase (runs first)\n\nTesting:\n- Test mouse hit detection\n- Test keyboard event routing\n- Test focus management\n- Test input queue processing\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:50.075874277-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:50.075874277-05:00","dependencies":[{"issue_id":"blessed-n37.5","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:21:50.077506725-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-n37.5","depends_on_id":"blessed-n37.3","type":"blocks","created_at":"2026-02-01T11:59:19.684049583-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-n37.5","depends_on_id":"blessed-n37.4","type":"blocks","created_at":"2026-02-01T11:59:19.750781691-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.6","title":"Create GPM mouse client","description":"Create GPM (General Purpose Mouse) protocol client.\n\nTasks:\n1. Create src/terminal/gpmClient.ts\n2. Implement GPM socket connection\n3. Parse GPM events to MouseEvent\n4. Handle connection lifecycle\n5. Create factory: createGpmClient(options)\n\nTesting:\n- Test socket connection (mock)\n- Test event parsing\n- Test reconnection handling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:21:54.675800992-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:21:54.675800992-05:00","dependencies":[{"issue_id":"blessed-n37.6","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:21:54.677264962-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.7","title":"Create key binding system","description":"Create configurable key binding system.\n\nTasks:\n1. Create src/core/keyBindings.ts\n2. Define KeyBinding interface:\n```typescript\ninterface KeyBinding {\n  key: string | string[];  // 'ctrl+s' or ['ctrl+s', 'cmd+s']\n  action: string;          // Action identifier\n  when?: string;           // Condition expression\n  preventDefault?: boolean;\n}\n```\n\n3. Create KeyBindingManager class:\n   - register(binding: KeyBinding): void\n   - unregister(action: string): void\n   - getBindingsForKey(key: KeyEvent): KeyBinding[]\n   - getBindingForAction(action: string): KeyBinding | null\n   - matchesKey(binding, event): boolean\n\n4. Parse key strings: 'ctrl+shift+a' -\u003e { ctrl: true, shift: true, name: 'a' }\n5. Create Zod schema for key binding config\n\nTesting:\n- Test key string parsing\n- Test binding registration\n- Test key matching\n- Test conditional bindings\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:22:01.672018362-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:22:01.672018362-05:00","dependencies":[{"issue_id":"blessed-n37.7","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:22:01.673555648-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.8","title":"Create multiple mouse protocol support","description":"Create support for all mouse protocols.\n\nTasks:\n1. Create src/terminal/mouse/protocols.ts\n2. Define protocol types:\n```typescript\nenum MouseProtocol {\n  X10 = 'x10',           // Basic button only\n  VT200 = 'vt200',       // Normal tracking\n  VT200_HIGHLIGHT = 'vt200_highlight',\n  BTN_EVENT = 'btn_event', // Button events\n  ANY_EVENT = 'any_event', // All events including motion\n  FOCUS = 'focus',        // Focus in/out\n  SGR = 'sgr',            // Extended coordinates\n  URXVT = 'urxvt',        // URXVT extended\n}\n```\n\n3. Protocol detection:\n   - Detect best protocol for terminal\n   - Fall back gracefully\n   - Handle protocol switching\n\n4. Protocol-specific parsing:\n   - X10: ESC[M + 3 bytes (button, x, y)\n   - SGR: ESC[\u003cbutton;x;y[Mm]\n   - URXVT: ESC[button;x;yM\n\n5. Enable/disable sequences for each protocol\n\n6. **ADDED: Coordinate normalization and wheel delta**\n   - Normalize coordinates across all protocols to 0-indexed\n   - Mouse wheel delta values (not just up/down boolean):\n     - wheelDeltaY: number (positive = up, negative = down)\n     - wheelDeltaX: number (for horizontal scroll if supported)\n   - Pixel-to-cell coordinate conversion (where available)\n\nTesting:\n- Test each protocol parser\n- Test protocol detection\n- Test fallback behavior\n- Test coordinate normalization across protocols\n- Test wheel delta extraction\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:39:58.63933341-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:39:18.506558207-05:00","dependencies":[{"issue_id":"blessed-n37.8","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:39:58.64080536-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-n37.9","title":"Create key lock/grab system","description":"Create key lock and grab system for modals.\n\nTasks:\n1. Create src/core/keyLock.ts\n2. Implement key locking:\n```typescript\ninterface KeyLock {\n  lockKeys(world, entity): void;   // Entity receives all keys\n  unlockKeys(world): void;\n  isLocked(world): boolean;\n  getLocker(world): Entity | null;\n}\n```\n\n3. Use cases:\n   - Modal dialogs grab all input\n   - Text input grabs typing\n   - Menus grab navigation keys\n\n4. Stack support:\n   - Multiple locks (LIFO)\n   - Pop lock on element destroy\n\n5. Integrate with input system:\n   - Check lock before routing keys\n   - Route to locker entity\n\nTesting:\n- Test lock/unlock\n- Test key routing\n- Test stack behavior\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:40:50.657951928-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:40:50.657951928-05:00","dependencies":[{"issue_id":"blessed-n37.9","depends_on_id":"blessed-n37","type":"parent-child","created_at":"2026-02-01T11:40:50.659625468-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree","title":"EPIC: Screen \u0026 Rendering System","description":"Epic for screen management and rendering pipeline.\n\nRewrite of screen.js (2,298 lines) covering:\n- Screen buffer allocation\n- Double-buffering for efficient updates\n- Dirty region tracking\n- Render pipeline with systems\n- Focus management\n- Cursor rendering\n- Border docking\n- Screen resize handling\n- Alternate buffer management\n- bitecs rendering components and systems","status":"open","priority":0,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:08.017256826-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:08.017256826-05:00","dependencies":[{"issue_id":"blessed-ree","depends_on_id":"blessed-0t8","type":"blocks","created_at":"2026-02-01T11:58:21.950070926-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-ree","depends_on_id":"blessed-mtg","type":"blocks","created_at":"2026-02-01T11:58:25.655026021-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-ree","depends_on_id":"blessed-vdk","type":"blocks","created_at":"2026-02-01T11:58:25.850310792-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-ree","depends_on_id":"blessed-etz","type":"blocks","created_at":"2026-02-01T11:58:25.919435374-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.1","title":"Create Cell type and screen buffer","description":"Create screen buffer with typed cells.\n\nTasks:\n1. Create src/terminal/screen/cell.ts\n2. Define Cell type:\n```typescript\ninterface Cell {\n  char: string;        // Character (may be multi-byte)\n  fg: number;          // Foreground color (256 or RGB packed)\n  bg: number;          // Background color\n  attrs: number;       // Packed attributes (bold, underline, etc.)\n}\n```\n\n3. Define attribute bit flags:\n   - BOLD = 1 \u003c\u003c 0\n   - DIM = 1 \u003c\u003c 1\n   - ITALIC = 1 \u003c\u003c 2\n   - UNDERLINE = 1 \u003c\u003c 3\n   - BLINK = 1 \u003c\u003c 4\n   - INVERSE = 1 \u003c\u003c 5\n   - HIDDEN = 1 \u003c\u003c 6\n   - STRIKETHROUGH = 1 \u003c\u003c 7\n\n4. Create ScreenBuffer class:\n   - constructor(width: number, height: number)\n   - getCell(x, y): Cell\n   - setCell(x, y, cell): void\n   - clear(): void\n   - resize(width, height): void\n   - fill(cell: Cell): void\n   - fillRect(x, y, w, h, cell): void\n\nTesting:\n- Test cell get/set\n- Test resize\n- Test fill operations\n- Test boundary checks\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:12.067087196-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:12.067087196-05:00","dependencies":[{"issue_id":"blessed-ree.1","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:12.068093959-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.10","title":"Create dirty region tracking","description":"Create dirty region tracking for render optimization.\n\nTasks:\n1. Extend src/terminal/screen/doubleBuffer.ts\n2. Implement dirty tracking:\n```typescript\ninterface DirtyRegion {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\nclass DirtyTracker {\n  markDirty(x: number, y: number, width?: number, height?: number): void;\n  markLineDirty(y: number): void;\n  markAllDirty(): void;\n  getDirtyRegions(): DirtyRegion[];\n  getDirtyLines(): number[];\n  clear(): void;\n  hasDirty(): boolean;\n}\n```\n\n3. Track changes at cell level:\n   - Set dirty flag on cell change\n   - Coalesce adjacent dirty cells\n   - Return minimal dirty rectangles\n\n4. Optimize render to only update dirty regions\n\nTesting:\n- Test dirty marking\n- Test coalescing\n- Test performance with many changes\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:39:30.385779054-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:39:30.385779054-05:00","dependencies":[{"issue_id":"blessed-ree.10","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:39:30.387267795-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.11","title":"Create CSR scroll region optimization","description":"Create Change Scroll Region optimization for efficient scrolling.\n\nTasks:\n1. Create src/terminal/screen/csr.ts\n2. Implement CSR detection:\n   - Detect when scroll is more efficient than redraw\n   - Check 'cleanSides' (no content at edges to preserve)\n   - Verify terminal supports CSR\n\n3. Create scroll operations:\n   - scrollRegionUp(top, bottom, lines): void\n   - scrollRegionDown(top, bottom, lines): void\n   - insertLines(y, count): void\n   - deleteLines(y, count): void\n\n4. Integration with render system:\n   - Detect scrollable content changes\n   - Use CSR when beneficial\n   - Fall back to full redraw otherwise\n\nTesting:\n- Test scroll detection\n- Test CSR commands\n- Test performance improvement\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:39:41.831021284-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:39:41.831021284-05:00","dependencies":[{"issue_id":"blessed-ree.11","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:39:41.832103441-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.12","title":"Create artificial cursor system","description":"Create artificial cursor that bypasses terminal cursor.\n\nTasks:\n1. Create src/terminal/cursor/artificial.ts\n2. Implement artificial cursor:\n```typescript\ninterface ArtificialCursor {\n  x: number;\n  y: number;\n  visible: boolean;\n  shape: 'block' | 'underline' | 'bar';\n  blink: boolean;\n  blinkRate: number;\n  color?: Color;\n}\n```\n\n3. Cursor rendering:\n   - Render cursor character with inverse attribute\n   - Handle cursor shape (block=full cell, underline=bottom, bar=left edge)\n   - Implement blink animation\n\n4. Integration:\n   - Track cursor position\n   - Update on navigation\n   - Hide terminal cursor when artificial enabled\n\n5. Use cases:\n   - Games needing custom cursor\n   - Multi-cursor support\n\nTesting:\n- Test cursor rendering\n- Test blink animation\n- Test shape changes\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:39:50.254295767-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:39:50.254295767-05:00","dependencies":[{"issue_id":"blessed-ree.12","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:39:50.256011254-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.13","title":"Create z-order management","description":"Create z-order management for element layering.\n\nTasks:\n1. Create src/core/zOrder.ts\n2. Implement z-order functions:\n   - setFront(world, entity): void  // Bring to top\n   - setBack(world, entity): void   // Send to back\n   - setIndex(world, entity, index): void  // Set specific z\n   - getIndex(world, entity): number\n   - moveUp(world, entity): void\n   - moveDown(world, entity): void\n\n3. Handle negative indices:\n   - Negative = from back (like array)\n   - Auto-clamp to valid range\n\n4. Sort entities by z-index for rendering\n5. Track child indices (_ci) for parent-relative ordering\n\nTesting:\n- Test bring to front\n- Test send to back\n- Test specific index\n- Test render order\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:40:27.686371248-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:40:27.686371248-05:00","dependencies":[{"issue_id":"blessed-ree.13","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:40:27.687853614-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.14","title":"Create border docking system","description":"Create border docking for adjacent elements.\n\nTasks:\n1. Create src/core/borderDocking.ts\n2. Implement border docking:\n   - Detect adjacent borders\n   - Use T-junction and cross characters at intersections\n   - Support all border styles\n\n3. Junction characters:\n   - T-junctions: ├ ┤ ┬ ┴\n   - Cross: ┼\n   - Corners: ┌ ┐ └ ┘\n\n4. Detection algorithm:\n   - Find border stops (where borders end)\n   - Check adjacent cells\n   - Replace with appropriate junction\n\n5. Enable/disable per screen\n\nTesting:\n- Test T-junction detection\n- Test cross detection\n- Test mixed border styles\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:40:34.672027547-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:40:34.672027547-05:00","dependencies":[{"issue_id":"blessed-ree.14","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:40:34.673781194-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.15","title":"Create clickable element sorting","description":"Create clickable element z-order sorting for mouse.\n\nTasks:\n1. Extend src/core/hitTest.ts\n2. Implement clickable sorting:\n   - Track all clickable/hoverable entities\n   - Sort by z-index on render\n   - Highest z-index receives click first\n\n3. Optimization:\n   - Mark when sort needed (_needsClickableSort)\n   - Only sort when hierarchy changes\n   - Cache sorted list\n\n4. Integration:\n   - Update on element add/remove\n   - Update on z-index change\n   - Use in mouse event dispatch\n\nTesting:\n- Test click priority\n- Test sort efficiency\n- Test dynamic changes\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:40:57.35326645-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:40:57.35326645-05:00","dependencies":[{"issue_id":"blessed-ree.15","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:40:57.354272649-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.16","title":"Create screen regions/clearing system","description":"Create region clearing utilities.\n\nTasks:\n1. Create src/terminal/screen/regions.ts\n2. Implement region operations:\n   - clearRegion(x, y, width, height): void\n   - fillRegion(x, y, width, height, cell): void\n   - copyRegion(srcX, srcY, dstX, dstY, width, height): void\n   - blankLine(y, attr?): void\n\n3. Use cases:\n   - Clear before rendering (alpha handling)\n   - Fill backgrounds\n   - Copy for scrolling\n   - Pre-render blank lines\n\n4. Optimization:\n   - Batch operations\n   - Use typed arrays\n\nTesting:\n- Test clear operations\n- Test fill operations\n- Test copy operations\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:41:03.731064997-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:41:03.731064997-05:00","dependencies":[{"issue_id":"blessed-ree.16","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:41:03.732073114-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.17","title":"Create auto-padding system","description":"Create auto-padding for elements with borders.\n\nTasks:\n1. Create src/core/autoPadding.ts\n2. Implement autoPadding feature:\n   - When border is present, auto-add padding inside\n   - Prevents content from overlapping border\n   - Configurable per screen/element\n\n3. Screen option:\n```typescript\ninterface ScreenConfig {\n  autoPadding?: boolean;  // Default false\n}\n```\n\n4. Calculation:\n   - If autoPadding enabled and border exists\n   - Add 1 cell padding on sides with border\n   - Affects content positioning\n\nTesting:\n- Test content doesn't overlap border\n- Test nested elements\n- Test disable option\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:43:01.403351487-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:43:01.403351487-05:00","dependencies":[{"issue_id":"blessed-ree.17","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:43:01.405003515-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.18","title":"Create element clipping system","description":"Create clipping for elements that exceed parent bounds.\n\nTasks:\n1. Create src/core/clipping.ts\n2. Implement clipping:\n   - Elements render only within parent bounds\n   - Content that extends beyond is clipped\n   - Support for overflow: hidden/visible/scroll\n\n3. ClipRect calculation:\n```typescript\ninterface ClipRect {\n  x1: number;  // Left edge\n  y1: number;  // Top edge\n  x2: number;  // Right edge\n  y2: number;  // Bottom edge\n}\n\nfunction getClipRect(world, entity): ClipRect;\nfunction isPointVisible(world, entity, x, y): boolean;\n```\n\n4. Integration with render system:\n   - Apply clip rect before rendering children\n   - Intersect with parent clip rect\n\nTesting:\n- Test content clipping\n- Test nested clipping\n- Test negative positions\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:43:08.677698361-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:43:08.677698361-05:00","dependencies":[{"issue_id":"blessed-ree.18","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:43:08.679378642-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.19","title":"Create smartCSR optimization","description":"Create smart Change Scroll Region detection.\n\nTasks:\n1. Extend src/terminal/screen/csr.ts\n2. Implement smartCSR:\n   - Automatically detect when CSR is beneficial\n   - Compare cost of CSR vs full redraw\n   - Consider terminal capabilities\n\n3. Detection criteria:\n   - Large contiguous scroll area\n   - No content at edges (clean sides)\n   - Terminal supports CSR\n   - Scroll amount is small relative to region\n\n4. Screen option:\n```typescript\ninterface ScreenConfig {\n  smartCSR?: boolean;  // Auto-detect CSR usage\n}\n```\n\nTesting:\n- Test CSR detection\n- Test performance comparison\n- Test various scroll scenarios\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:43:29.702460348-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:43:29.702460348-05:00","dependencies":[{"issue_id":"blessed-ree.19","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:43:29.703907954-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.2","title":"Create double buffering system","description":"Create double buffering for efficient rendering.\n\nTasks:\n1. Create src/terminal/screen/doubleBuffer.ts\n2. Define DoubleBuffer class:\n   - frontBuffer: ScreenBuffer\n   - backBuffer: ScreenBuffer\n   - swap(): void\n   - getDirtyRegions(): Rect[]\n   - clearDirty(): void\n\n3. Track dirty regions:\n   - Mark cells as dirty when changed\n   - Coalesce adjacent dirty regions\n   - Only render changed regions\n\n4. Create diff algorithm:\n   - Compare front and back buffers\n   - Return minimal update set\n\nTesting:\n- Test dirty tracking\n- Test region coalescing\n- Test diff accuracy\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:18.402412483-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:18.402412483-05:00","dependencies":[{"issue_id":"blessed-ree.2","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:18.403738916-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-ree.2","depends_on_id":"blessed-ree.1","type":"blocks","created_at":"2026-02-01T11:59:17.005532177-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.20","title":"Create screenshot capture system","description":"Create screenshot capture for screen/elements.\n\nTasks:\n1. Create src/terminal/screen/screenshot.ts\n2. Implement screenshot:\n```typescript\ninterface Screenshot {\n  width: number;\n  height: number;\n  cells: Cell[][];\n  timestamp: number;\n}\n\nfunction captureScreen(world): Screenshot;\nfunction captureRegion(world, x, y, width, height): Screenshot;\nfunction captureElement(world, entity): Screenshot;\n```\n\n3. Output formats:\n   - Raw cell data (for replay)\n   - ANSI string (for terminal output)\n   - Plain text (stripped)\n\n4. Use cases:\n   - Recording for replay\n   - Testing/assertions\n   - Debug snapshots\n\nTesting:\n- Test full screen capture\n- Test region capture\n- Test element capture\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:43:45.344072863-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:43:45.344072863-05:00","dependencies":[{"issue_id":"blessed-ree.20","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:43:45.345439393-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.21","title":"Create transparency/alpha blending","description":"Create transparency support for elements.\n\nTasks:\n1. Extend src/terminal/screen/cell.ts\n2. Implement transparency:\n   - Transparent background (shows through to parent)\n   - Semi-transparent with alpha blending\n   - Per-element transparency setting\n\n3. Style option:\n```typescript\ninterface Style {\n  transparent?: boolean;  // Fully transparent bg\n  opacity?: number;       // 0-1 for blending\n}\n```\n\n4. Rendering:\n   - Clear region before rendering (for alpha)\n   - Blend colors based on opacity\n   - Handle nested transparent elements\n\n5. Performance consideration:\n   - Transparent elements may need more redraw\n\nTesting:\n- Test transparent background\n- Test semi-transparent\n- Test nested transparency\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:44:05.198167522-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:44:05.198167522-05:00","dependencies":[{"issue_id":"blessed-ree.21","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:44:05.200418118-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.22","title":"Create focus stack management","description":"Create focus stack for modal/popup scenarios.\n\nTasks:\n1. Extend src/systems/focusSystem.ts\n2. Implement focus stack:\n```typescript\n// Push current focus onto stack, focus new element\nfunction focusPush(world: World, entity: Entity): void;\n\n// Pop focus, restore previous\nfunction focusPop(world: World): Entity | null;\n\n// Save/restore focus without stack\nfunction saveFocus(world: World): void;\nfunction restoreFocus(world: World): void;\n\n// Rewind to last focused that still exists\nfunction rewindFocus(world: World): void;\n\n// Focus offset (next/prev focusable)\nfunction focusOffset(world: World, offset: number): void;\n```\n\n3. Use cases:\n   - Modal opens: push current, focus modal\n   - Modal closes: pop, restore previous\n   - Element destroyed: rewind to valid focus\n\nTesting:\n- Test push/pop\n- Test save/restore\n- Test rewind with destroyed elements\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:46:15.709446813-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:46:15.709446813-05:00","dependencies":[{"issue_id":"blessed-ree.22","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:46:15.711185682-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-ree.22","depends_on_id":"blessed-ree.7","type":"blocks","created_at":"2026-02-01T11:58:58.553796581-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.23","title":"Create screenshot capture method","description":"Implement screenshot functionality:\n- screenshot() method to capture screen content\n- Output as plain text\n- Output as ANSI-formatted text\n- Option to capture specific regions\n\nOriginal: lib/widgets/screen.js screenshot()","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:00:02.783587232-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:00:02.783587232-05:00","dependencies":[{"issue_id":"blessed-ree.23","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T12:00:02.785198251-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.24","title":"Create external editor integration","description":"Spawn external editor for text editing:\n- readEditor() method to spawn $EDITOR\n- Save/restore terminal state during editor\n- Return edited content to application\n- Handle editor exit codes\n\nOriginal: lib/widgets/screen.js readEditor()","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:00:02.846560178-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:00:02.846560178-05:00","dependencies":[{"issue_id":"blessed-ree.24","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T12:00:02.848052829-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.25","title":"Create key lock and grab system","description":"Key input control system - CRITICAL for games:\n- grabKeys - prevent key event propagation\n- lockKeys - block all key events\n- ignoreLocked - array of keys that bypass lockKeys\n\nThis is essential for modal dialogs and game input handling.\n\nOriginal: lib/widgets/screen.js lines 81, 116-117","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:11.386304714-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:11.386304714-05:00","dependencies":[{"issue_id":"blessed-ree.25","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T12:12:11.387232735-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.26","title":"Create screen input setup methods","description":"Screen input initialization:\n- _listenMouse() - mouse event handling setup\n- _listenKeys() - key event handling setup\n- enableMouse() - public mouse enable\n- enableKeys() - public keys enable\n- enableInput() - enable both\n\nOriginal: lib/widgets/screen.js lines 456-615","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:11.456390866-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:11.456390866-05:00","dependencies":[{"issue_id":"blessed-ree.26","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T12:12:11.457749624-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.27","title":"Create hover tooltip system","description":"Hover tooltip initialization and management:\n- _initHover() - setup hover tooltip system\n- hover property - current hovered element tracking\n- _hoverText box element for tooltips\n\nOriginal: lib/widgets/screen.js lines 617-673","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:11.528355168-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:11.528355168-05:00","dependencies":[{"issue_id":"blessed-ree.27","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T12:12:11.529622224-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.28","title":"Create attribute encoding methods","description":"Attribute/SGR encoding utilities - CRITICAL for rendering:\n- attrCode(code) - parse SGR string to internal attribute format\n- codeAttr(code) - convert internal attribute to SGR string\n- _reduceColor() - reduce color for terminal capability\n\nOriginal: lib/widgets/screen.js lines 1399-1574","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:11.602686771-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:11.602686771-05:00","dependencies":[{"issue_id":"blessed-ree.28","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T12:12:11.603659741-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.29","title":"Create child process spawning","description":"Child process spawn with screen suspend:\n- spawn(file, args, options) - spawn child process\n- exec(file, args, options, callback) - execute child process\n\nHandles terminal state save/restore during external process.\n\nOriginal: lib/widgets/screen.js lines 1739-1816","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:11.67361293-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:11.67361293-05:00","dependencies":[{"issue_id":"blessed-ree.29","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T12:12:11.67522741-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.3","title":"Create Screen entity and component","description":"Create Screen root entity with ECS.\n\nTasks:\n1. Create src/components/screen.ts\n2. Define Screen component:\n```typescript\nconst ScreenComponent = defineComponent({\n  width: Types.ui16,\n  height: Types.ui16,\n  cursorX: Types.ui16,\n  cursorY: Types.ui16,\n  cursorVisible: Types.ui8,\n  cursorShape: Types.ui8,\n  focused: Types.eid,       // Currently focused entity\n  hovered: Types.eid,       // Currently hovered entity\n  fullUnicode: Types.ui8,\n  autoPadding: Types.ui8,\n})\n```\n\n3. Create src/core/screen.ts with:\n   - createScreen(world, config): Entity\n   - getScreen(world): Entity\n   - Only one screen per world (singleton)\n\n4. Create ScreenConfig Zod schema\n\nTesting:\n- Test screen creation\n- Test singleton enforcement\n- Test config validation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:25.732019132-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:25.732019132-05:00","dependencies":[{"issue_id":"blessed-ree.3","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:25.733334885-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.30","title":"Create setEffects system","description":"Hover and focus effects system:\n- setEffects(el, fel, over, out, effects, attrs) - apply visual effects on hover/focus\n\nOriginal: lib/widgets/screen.js lines 1908-1959","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:12:11.75056682-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:12:11.75056682-05:00","dependencies":[{"issue_id":"blessed-ree.30","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T12:12:11.752315243-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.4","title":"Create layout calculation system","description":"Create bitecs system for layout calculation.\n\nTasks:\n1. Create src/systems/layoutSystem.ts\n2. Define layoutSystem:\n   - Query entities with Position + Dimensions\n   - Calculate absolute positions from relative\n   - Handle percentage dimensions\n   - Respect parent boundaries\n   - Handle shrink-to-content\n   - Set final computed positions\n\n3. Process in tree order (parents before children)\n4. Register in LAYOUT phase\n\nTesting:\n- Test absolute positioning\n- Test relative positioning\n- Test percentage dimensions\n- Test shrink behavior\n- Test nested elements\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:32.62331877-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:32.62331877-05:00","dependencies":[{"issue_id":"blessed-ree.4","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:32.625177512-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-ree.4","depends_on_id":"blessed-ree.3","type":"blocks","created_at":"2026-02-01T11:59:17.209057181-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.5","title":"Create render system","description":"Create bitecs system for rendering to buffer.\n\nTasks:\n1. Create src/systems/renderSystem.ts\n2. Define renderSystem:\n   - Query visible, dirty entities\n   - Sort by z-index\n   - Render each entity to screen buffer:\n     - Clear entity region\n     - Render border\n     - Render background\n     - Render content\n     - Render children (recursively)\n   - Mark entities as clean\n\n3. Render functions:\n   - renderBorder(buffer, entity)\n   - renderBackground(buffer, entity)\n   - renderContent(buffer, entity)\n   - renderScrollbar(buffer, entity)\n\n4. Register in RENDER phase\n\nTesting:\n- Test basic rendering\n- Test z-index ordering\n- Test clipping\n- Test dirty detection\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:38.175895314-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:38.175895314-05:00","dependencies":[{"issue_id":"blessed-ree.5","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:38.177802536-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-ree.5","depends_on_id":"blessed-ree.2","type":"blocks","created_at":"2026-02-01T11:59:17.072940031-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-ree.5","depends_on_id":"blessed-ree.3","type":"blocks","created_at":"2026-02-01T11:59:17.274117241-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-ree.5","depends_on_id":"blessed-ree.4","type":"blocks","created_at":"2026-02-01T11:59:17.346490055-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.6","title":"Create buffer output system","description":"Create system to output buffer to terminal.\n\nTasks:\n1. Create src/systems/outputSystem.ts\n2. Define outputSystem:\n   - Get dirty regions from double buffer\n   - Generate ANSI escape sequences\n   - Optimize cursor movement\n   - Coalesce attribute changes\n   - Write to output stream\n   - Swap buffers\n\n3. Optimizations:\n   - Skip unchanged cells\n   - Batch attribute changes\n   - Use relative cursor movement\n\n4. Register in POST_RENDER phase (runs last)\n\nTesting:\n- Test output generation\n- Test optimization effectiveness\n- Test cursor positioning\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:45.83277291-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:45.83277291-05:00","dependencies":[{"issue_id":"blessed-ree.6","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:45.834169373-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-ree.6","depends_on_id":"blessed-ree.2","type":"blocks","created_at":"2026-02-01T11:59:17.141080877-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.7","title":"Create focus management system","description":"Create focus management for keyboard navigation.\n\nTasks:\n1. Create src/systems/focusSystem.ts\n2. Define focusSystem:\n   - Track focused entity in Screen component\n   - Handle tab navigation\n   - Handle arrow key navigation (optional)\n   - Apply focus effects when focus changes\n   - Emit focus/blur events\n\n3. Create focus manager:\n   - focusNext(world): void\n   - focusPrev(world): void\n   - focusEntity(world, eid): void\n   - blurAll(world): void\n   - getFocused(world): Entity | null\n\n4. Register in INPUT phase\n\nTesting:\n- Test tab navigation order\n- Test focus effects apply\n- Test focus events emit\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:51.958478214-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:51.958478214-05:00","dependencies":[{"issue_id":"blessed-ree.7","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:51.960115849-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.8","title":"Create resize handling","description":"Create terminal resize handling.\n\nTasks:\n1. Create src/terminal/resize.ts\n2. Handle SIGWINCH signal\n3. Update Screen component dimensions\n4. Resize screen buffers\n5. Mark all entities dirty\n6. Emit resize event\n7. Re-run layout system\n\nTesting:\n- Test resize detection\n- Test buffer resize\n- Test layout recalculation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:25:57.548236448-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:25:57.548236448-05:00","dependencies":[{"issue_id":"blessed-ree.8","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:25:57.549463545-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-ree.9","title":"Create cleanup and disposal system","description":"Create proper cleanup for entities and resources.\n\nTasks:\n1. Create src/core/disposal.ts\n2. Define cleanup lifecycle:\n   - Mark entity for removal\n   - Run onDestroy callbacks\n   - Remove from hierarchy\n   - Remove all components\n   - Clean up stores (content, sprites, etc.)\n   - Recycle entity ID\n\n3. Create functions:\n   - destroyEntity(world, entity): void\n   - destroyAllChildren(world, parent): void\n   - destroyWorld(world): void\n\n4. Handle deferred destruction:\n   - Mark entities during frame\n   - Actually destroy at end of frame\n   - Prevent dangling references\n\nTesting:\n- Test entity destruction\n- Test hierarchy cleanup\n- Test store cleanup\n- Test no memory leaks\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:34:31.435156279-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:34:31.435156279-05:00","dependencies":[{"issue_id":"blessed-ree.9","depends_on_id":"blessed-ree","type":"parent-child","created_at":"2026-02-01T11:34:31.436716627-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-vdk","title":"EPIC: Color System","description":"Epic for color management and conversion.\n\nRewrite of colors.js (530 lines) covering:\n- 256-color palette with strict typing\n- RGB/Hex conversion utilities\n- Color matching algorithm (nearest color)\n- Color blending and mixing\n- Color reduction for low-color terminals\n- Color name to index mapping\n- Zod schemas for color validation","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:15:34.807340571-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:15:34.807340571-05:00","dependencies":[{"issue_id":"blessed-vdk","depends_on_id":"blessed-19j","type":"blocks","created_at":"2026-02-01T11:58:18.72858372-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-vdk.1","title":"Create 256-color palette","description":"Create typed 256-color palette with conversions.\n\nRewrite of colors.js palette section.\n\nTasks:\n1. Create src/terminal/colors/palette.ts\n2. Define Color256 type (0-255 branded number)\n3. Create PALETTE constant:\n   - 16 standard colors (0-15)\n   - 216 color cube (16-231)\n   - 24 grayscale (232-255)\n\n4. Export as readonly arrays:\n   - PALETTE_HEX: readonly string[]\n   - PALETTE_RGB: readonly [number, number, number][]\n\n5. Create Zod schemas:\n   - Color256Schema\n   - RGBSchema\n   - HexColorSchema\n\nTesting:\n- Test palette values are correct\n- Test type safety\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:23:14.305727187-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:23:14.305727187-05:00","dependencies":[{"issue_id":"blessed-vdk.1","depends_on_id":"blessed-vdk","type":"parent-child","created_at":"2026-02-01T11:23:14.307171987-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-vdk.2","title":"Create color conversion functions","description":"Create color format conversion functions.\n\nTasks:\n1. Create src/terminal/colors/convert.ts\n2. Define RGB interface: { r: number; g: number; b: number }\n3. Create conversion functions:\n   - hexToRgb(hex: string): RGB\n   - rgbToHex(rgb: RGB): string\n   - rgbToHsl(rgb: RGB): HSL\n   - hslToRgb(hsl: HSL): RGB\n   - rgb256(rgb: RGB): Color256 (nearest match)\n   - color256ToRgb(color: Color256): RGB\n\n4. Handle edge cases:\n   - 3-char hex (#RGB)\n   - 6-char hex (#RRGGBB)\n   - 8-char hex (#RRGGBBAA)\n   - Invalid inputs (throw typed errors)\n\n5. **ADDED: Truecolor conversion support**\n   - rgbToTruecolor(rgb: RGB): number (packed 24-bit)\n   - truecolorToRgb(color: number): RGB\n   - Support for SGR 38;2;R;G;B sequence generation helper\n   - Conversion between truecolor and 256-color for downgrade\n\nTesting:\n- Test all conversions\n- Test round-trip accuracy\n- Test edge cases\n- Test truecolor ↔ 256-color conversion accuracy\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:23:21.860051322-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:39:04.108494793-05:00","dependencies":[{"issue_id":"blessed-vdk.2","depends_on_id":"blessed-vdk","type":"parent-child","created_at":"2026-02-01T11:23:21.88421102-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-vdk.3","title":"Create color matching algorithm","description":"Create nearest color matching for palette.\n\nRewrite of colors.js match() function.\n\nTasks:\n1. Create src/terminal/colors/match.ts\n2. Implement color distance algorithms:\n   - euclidean(c1: RGB, c2: RGB): number\n   - weightedEuclidean(c1, c2): number (perceptual weights)\n   - ciede2000(c1, c2): number (optional, more accurate)\n\n3. Create matching functions:\n   - matchColor(rgb: RGB, palette?: Color256[]): Color256\n   - matchColorCached(rgb: RGB): Color256 (with LRU cache)\n\n4. Create cache:\n   - LRU cache for repeated matches\n   - Configurable cache size\n\nTesting:\n- Test known color matches\n- Test cache behavior\n- Test performance with many colors\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:23:28.023140412-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:23:28.023140412-05:00","dependencies":[{"issue_id":"blessed-vdk.3","depends_on_id":"blessed-vdk","type":"parent-child","created_at":"2026-02-01T11:23:28.024860604-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-vdk.4","title":"Create color name mapping","description":"Create color name to index mapping.\n\nTasks:\n1. Create src/terminal/colors/names.ts\n2. Define ColorName type union:\n   - Basic: 'black', 'red', 'green', 'yellow', 'blue', 'magenta', 'cyan', 'white'\n   - Light variants: 'lightblack', 'lightred', etc.\n   - Special: 'default', 'transparent'\n\n3. Create mappings:\n   - COLOR_NAMES: Record\u003cColorName, Color256\u003e\n   - COLOR_ALIASES: Record\u003cstring, ColorName\u003e\n     - 'grey' -\u003e 'white', etc.\n\n4. Create functions:\n   - nameToColor(name: string): Color256 | null\n   - colorToName(color: Color256): ColorName | null\n\n5. Create Zod schema for color name\n\nTesting:\n- Test all name mappings\n- Test aliases\n- Test invalid names\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:23:34.501339603-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:23:34.501339603-05:00","dependencies":[{"issue_id":"blessed-vdk.4","depends_on_id":"blessed-vdk","type":"parent-child","created_at":"2026-02-01T11:23:34.502398165-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-vdk.5","title":"Create color blending functions","description":"Create color blending and mixing functions.\n\nTasks:\n1. Create src/terminal/colors/blend.ts\n2. Create blending functions:\n   - mix(c1: RGB, c2: RGB, ratio?: number): RGB\n   - blend(c1: Color256, c2: Color256, ratio?: number): Color256\n   - lighten(color: RGB, amount: number): RGB\n   - darken(color: RGB, amount: number): RGB\n   - saturate(color: RGB, amount: number): RGB\n   - desaturate(color: RGB, amount: number): RGB\n\n3. Handle alpha blending:\n   - blendWithAlpha(fg: RGBA, bg: RGB): RGB\n\nTesting:\n- Test 50/50 blend is correct\n- Test edge cases (0, 1 ratios)\n- Test color preservation at extremes\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:23:41.009595906-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:23:41.009595906-05:00","dependencies":[{"issue_id":"blessed-vdk.5","depends_on_id":"blessed-vdk","type":"parent-child","created_at":"2026-02-01T11:23:41.011107704-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-vdk.6","title":"Create color reduction for low-color terminals","description":"Create color reduction for 16/8/2 color terminals.\n\nTasks:\n1. Create src/terminal/colors/reduce.ts\n2. Create reduction functions:\n   - reduceTo16(color: Color256): Color256\n   - reduceTo8(color: Color256): Color256\n   - reduceTo2(color: Color256): Color256 (monochrome)\n\n3. Create palette mappers:\n   - createReducedPalette(depth: ColorDepth): Color256[]\n\n4. Handle bright colors:\n   - Map bright variants to base on low-color\n\nTesting:\n- Test reduction preserves hue\n- Test round-trip where applicable\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:23:48.416359632-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:23:48.416359632-05:00","dependencies":[{"issue_id":"blessed-vdk.6","depends_on_id":"blessed-vdk","type":"parent-child","created_at":"2026-02-01T11:23:48.417934533-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-vdk.7","title":"Truecolor (24-bit) Support","description":"First-class 24-bit RGB color support for modern terminal games.\n\nTasks:\n1. Add to src/terminal/colors/truecolor.ts\n2. Implement direct RGB color specification:\n   - SGR 38;2;R;G;B (foreground)\n   - SGR 48;2;R;G;B (background)\n   - No 256-color intermediary when terminal supports truecolor\n\n3. Color capability detection ladder:\n   - Truecolor → 256-color → 16-color → mono\n   - Automatic downgrade based on negotiated capabilities\n\n4. Detection methods:\n   - Use hyf.14 capability negotiation result first\n   - $COLORTERM=truecolor environment variable\n   - $TERM checking for known truecolor terminals (kitty, xterm-direct, etc.)\n\n5. Create TruecolorSupport interface:\n```typescript\ninterface TruecolorSupport {\n  rgb(r: number, g: number, b: number): Color;\n  fromHex(hex: string): Color;\n  withOpacity(color: Color, opacity: number): Color;\n}\n```\n\n6. Downgrade algorithm:\n   - Use vdk.3 color matching for nearest 256-color when truecolor unavailable\n   - Optional dithering for gradients (game-configurable)\n   - Palette-based games can specify explicit color mappings\n\nTesting:\n- Test RGB sequence generation\n- Test capability detection\n- Test automatic downgrade\n- Test round-trip RGB → 256 → RGB approximation\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:37:13.657861657-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:37:13.657861657-05:00","dependencies":[{"issue_id":"blessed-vdk.7","depends_on_id":"blessed-vdk","type":"parent-child","created_at":"2026-02-01T12:37:13.659777589-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-vdk.7","depends_on_id":"blessed-hyf.14","type":"blocks","created_at":"2026-02-01T12:40:18.552989897-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-vdk.7","depends_on_id":"blessed-vdk.2","type":"blocks","created_at":"2026-02-01T12:40:18.634566286-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg","title":"EPIC: Layout Widgets","description":"Epic for basic layout widgets.\n\nCovers Box, Text, Line, Layout widgets:\n- Box container with borders\n- Text display widget\n- Line separator widget\n- Layout engine (inline/grid)\n- ScrollableBox with scrollbars\n- ScrollableText for read-only content\n- All with bitecs components and Zod schemas","status":"open","priority":1,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:18.5182741-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:18.5182741-05:00","dependencies":[{"issue_id":"blessed-wlg","depends_on_id":"blessed-0t8","type":"blocks","created_at":"2026-02-01T11:58:22.069183979-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg.1","title":"Create Box widget","description":"Create basic Box widget (container).\n\nTasks:\n1. Create src/widgets/box.ts\n2. Define BoxConfig Zod schema:\n```typescript\nconst BoxConfigSchema = z.object({\n  // Position\n  left: DimensionSchema.optional(),\n  top: DimensionSchema.optional(),\n  right: DimensionSchema.optional(),\n  bottom: DimensionSchema.optional(),\n  width: DimensionSchema.optional(),\n  height: DimensionSchema.optional(),\n  \n  // Style\n  fg: ColorSchema.optional(),\n  bg: ColorSchema.optional(),\n  border: BorderConfigSchema.optional(),\n  padding: PaddingConfigSchema.optional(),\n  \n  // Content\n  content: z.string().optional(),\n  align: AlignSchema.optional(),\n  valign: VAlignSchema.optional(),\n})\n```\n\n3. Create factory: createBox(world, config): Entity\n4. Add all required components\n5. Utility functions:\n   - setBoxContent(world, entity, content)\n   - getBoxContent(world, entity)\n\nTesting:\n- Test box creation with all options\n- Test default values\n- Test content setting\n- Test rendering\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:51.440995413-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:51.440995413-05:00","dependencies":[{"issue_id":"blessed-wlg.1","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T11:26:51.442033302-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-wlg.1","depends_on_id":"blessed-bjw.1","type":"blocks","created_at":"2026-02-01T11:58:58.340483027-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-wlg.1","depends_on_id":"blessed-ree.5","type":"blocks","created_at":"2026-02-01T11:58:58.410090131-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg.2","title":"Create Text widget","description":"Create Text widget for labels.\n\nTasks:\n1. Create src/widgets/text.ts\n2. Define TextConfig Zod schema:\n   - Extends BoxConfig\n   - shrink: true by default\n   - No border by default\n\n3. Create factory: createText(world, config): Entity\n4. Auto-shrink to content size\n\nTesting:\n- Test text creation\n- Test shrink behavior\n- Test multi-line text\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:26:57.599751466-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:26:57.599751466-05:00","dependencies":[{"issue_id":"blessed-wlg.2","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T11:26:57.601263915-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-wlg.2","depends_on_id":"blessed-wlg.1","type":"blocks","created_at":"2026-02-01T11:58:52.191983175-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg.3","title":"Create Line widget","description":"Create Line widget for separators.\n\nTasks:\n1. Create src/widgets/line.ts\n2. Define LineConfig Zod schema:\n   - orientation: 'horizontal' | 'vertical'\n   - char: string (default '─' or '│')\n   - fg, bg colors\n\n3. Create factory: createLine(world, config): Entity\n4. Auto-size based on orientation:\n   - Horizontal: height=1, width=parent\n   - Vertical: width=1, height=parent\n\nTesting:\n- Test horizontal line\n- Test vertical line\n- Test custom character\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:04.182378655-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:04.182378655-05:00","dependencies":[{"issue_id":"blessed-wlg.3","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T11:27:04.184013123-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-wlg.3","depends_on_id":"blessed-wlg.1","type":"blocks","created_at":"2026-02-01T11:58:52.258770715-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg.4","title":"Create ScrollableBox widget","description":"Create scrollable container widget.\n\nTasks:\n1. Create src/widgets/scrollableBox.ts\n2. Define ScrollableBoxConfig Zod schema:\n   - Extends BoxConfig\n   - scrollbar: boolean | ScrollbarConfig\n   - alwaysScroll: boolean\n   - mouse: boolean (enable scroll wheel)\n   - keys: boolean (enable arrow keys)\n\n3. Create factory: createScrollableBox(world, config): Entity\n4. Add Scrollable component\n5. Methods:\n   - scrollTo(world, entity, x, y)\n   - scrollBy(world, entity, dx, dy)\n   - setScrollPerc(world, entity, perc)\n   - getScrollPerc(world, entity)\n\nTesting:\n- Test scroll position\n- Test scrollbar rendering\n- Test mouse wheel\n- Test keyboard scrolling\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":0,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:11.365640835-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:11.365640835-05:00","dependencies":[{"issue_id":"blessed-wlg.4","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T11:27:11.36722664-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-wlg.4","depends_on_id":"blessed-wlg.1","type":"blocks","created_at":"2026-02-01T11:58:52.325846177-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg.5","title":"Create Layout widget","description":"Create auto-layout container widget.\n\nTasks:\n1. Create src/widgets/layout.ts\n2. Define LayoutConfig Zod schema:\n   - layout: 'inline' | 'grid' | 'flex'\n   - gap: number (spacing between children)\n   - wrap: boolean\n   - justify: 'start' | 'center' | 'end' | 'space-between'\n   - align: 'start' | 'center' | 'end'\n\n3. Create factory: createLayout(world, config): Entity\n4. Create layout calculation functions:\n   - calculateInlineLayout(children, containerWidth)\n   - calculateGridLayout(children, cols)\n   - calculateFlexLayout(children, options)\n\n5. Add Layout component to store layout type\n\nTesting:\n- Test inline layout wrapping\n- Test grid layout\n- Test gap spacing\n- Test alignment\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:27:17.805225459-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:27:17.805225459-05:00","dependencies":[{"issue_id":"blessed-wlg.5","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T11:27:17.806695781-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-wlg.5","depends_on_id":"blessed-wlg.1","type":"blocks","created_at":"2026-02-01T11:58:52.396513076-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg.6","title":"Create Tabs widget","description":"Create tabbed container widget.\n\nTasks:\n1. Create src/widgets/tabs.ts\n2. Define TabsConfig Zod schema:\n   - tabs: Array\u003c{ label: string; content: Entity | (() =\u003e Entity) }\u003e\n   - activeTab: number\n   - position: 'top' | 'bottom'\n   - style.tab, style.activeTab, style.content\n\n3. Create factory: createTabs(world, config): Entity\n4. Features:\n   - Tab header bar\n   - Content switching\n   - Lazy content loading (optional)\n   - Close buttons (optional)\n\n5. Key bindings:\n   - Tab/Shift+Tab: next/prev tab\n   - 1-9: jump to tab\n\nTesting:\n- Test tab switching\n- Test content rendering\n- Test lazy loading\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:33:33.048061621-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:33:33.048061621-05:00","dependencies":[{"issue_id":"blessed-wlg.6","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T11:33:33.050016188-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-wlg.6","depends_on_id":"blessed-wlg.1","type":"blocks","created_at":"2026-02-01T11:58:52.461469838-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg.7","title":"Create Panel widget with title","description":"Create panel widget with title bar.\n\nTasks:\n1. Create src/widgets/panel.ts\n2. Define PanelConfig Zod schema:\n   - title: string\n   - closable: boolean\n   - collapsible: boolean\n   - collapsed: boolean\n   - style.title, style.content, style.border\n\n3. Create factory: createPanel(world, config): Entity\n4. Features:\n   - Title bar at top\n   - Close button (optional)\n   - Collapse/expand (optional)\n   - Content area\n\nTesting:\n- Test title rendering\n- Test collapse toggle\n- Test close event\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:33:38.267341743-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:33:38.267341743-05:00","dependencies":[{"issue_id":"blessed-wlg.7","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T11:33:38.268333563-05:00","created_by":"Jeremy Stover"},{"issue_id":"blessed-wlg.7","depends_on_id":"blessed-wlg.1","type":"blocks","created_at":"2026-02-01T11:58:52.531423705-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-wlg.8","title":"Create ScrollableText widget","description":"Thin wrapper over ScrollableBox with alwaysScroll=true for read-only scrollable text display.\n\nUsed by Log widget and other read-only scrollable content.\n\nOriginal: lib/widgets/scrollabletext.js (35 lines)","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:18:26.471169482-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:18:26.471169482-05:00","dependencies":[{"issue_id":"blessed-wlg.8","depends_on_id":"blessed-wlg","type":"parent-child","created_at":"2026-02-01T12:18:26.472717677-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-zrt","title":"EPIC: Specialized Widgets","description":"Epic for specialized widgets.\n\nCovers Log, FileManager, BigText, Terminal, Image widgets:\n- Log append-only display\n- FileManager directory browser\n- BigText ASCII art rendering\n- Terminal emulator (optional)\n- ANSIImage rendering (optional)\n- All with bitecs components","status":"open","priority":2,"issue_type":"epic","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:16:43.655348908-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:16:43.655348908-05:00","dependencies":[{"issue_id":"blessed-zrt","depends_on_id":"blessed-0t8","type":"blocks","created_at":"2026-02-01T11:58:22.379353303-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-zrt.1","title":"Create Log widget","description":"Create append-only log display widget.\n\nTasks:\n1. Create src/widgets/log.ts\n2. Define LogConfig Zod schema:\n   - scrollback: number (max lines, default Infinity)\n   - scrollOnInput: boolean (auto-scroll on new content)\n   - timestamps: boolean\n   - timestampFormat: string\n\n3. Create factory: createLog(world, config): Entity\n4. Add Log component:\n```typescript\nconst LogComponent = defineComponent({\n  scrollback: Types.ui32,\n  lineCount: Types.ui32,\n  scrollOnInput: Types.ui8,\n  timestamps: Types.ui8,\n})\n```\n\n5. Methods:\n   - log(world, entity, ...args): void (printf-style)\n   - clear(world, entity): void\n   - getLines(world, entity): string[]\n\n6. Auto-prune old lines when exceeding scrollback\n\nTesting:\n- Test log appending\n- Test scrollback limit\n- Test auto-scroll\n- Test timestamps\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":1,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:31:57.154316108-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:31:57.154316108-05:00","dependencies":[{"issue_id":"blessed-zrt.1","depends_on_id":"blessed-zrt","type":"parent-child","created_at":"2026-02-01T11:31:57.155769074-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-zrt.2","title":"Create FileManager widget","description":"Create file browser widget.\n\nTasks:\n1. Create src/widgets/fileManager.ts\n2. Define FileManagerConfig Zod schema:\n   - cwd: string (initial directory)\n   - showHidden: boolean\n   - fileFilter: RegExp | ((name: string) =\u003e boolean)\n   - style.directory: Style\n   - style.file: Style\n   - style.symlink: Style\n\n3. Create factory: createFileManager(world, config): Entity\n4. Methods:\n   - setCwd(world, entity, path): void\n   - getCwd(world, entity): string\n   - getSelected(world, entity): string | null\n   - refresh(world, entity): void\n   - pick(world, entity): Promise\u003cstring | null\u003e\n\n5. Features:\n   - Directory navigation (..)\n   - File type icons/colors\n   - Sorted display (dirs first)\n   - Error handling for permissions\n\nTesting:\n- Test directory listing\n- Test navigation\n- Test file selection\n- Test hidden files\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:32:04.545113225-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:32:04.545113225-05:00","dependencies":[{"issue_id":"blessed-zrt.2","depends_on_id":"blessed-zrt","type":"parent-child","created_at":"2026-02-01T11:32:04.546132356-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-zrt.3","title":"Create BigText widget","description":"Create large ASCII art text widget.\n\nTasks:\n1. Create src/widgets/bigText.ts\n2. Define BigTextConfig Zod schema:\n   - text: string\n   - font: string | FontDefinition\n   - fg: Color\n   - bg: Color\n\n3. Create factory: createBigText(world, config): Entity\n4. Font format:\n   - Each character as multi-line ASCII art\n   - Variable width characters\n   - JSON font files\n\n5. Methods:\n   - setText(world, entity, text): void\n   - loadFont(path): FontDefinition\n\n6. Include default font (or multiple)\n\nTesting:\n- Test text rendering\n- Test font loading\n- Test multi-line text\n\nDo not bypass any errors. Fix all issues before committing.","status":"open","priority":2,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T11:32:11.61679757-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T11:32:11.61679757-05:00","dependencies":[{"issue_id":"blessed-zrt.3","depends_on_id":"blessed-zrt","type":"parent-child","created_at":"2026-02-01T11:32:11.618216481-05:00","created_by":"Jeremy Stover"}]}
{"id":"blessed-zrt.4","title":"Create Terminal emulator widget","description":"Widget that embeds a terminal emulator:\n- Integration with term.js or similar for terminal emulation\n- Integration with node-pty for pseudo-terminal spawning\n- Shell process management\n- Cursor rendering within widget\n- Scrollback buffer\n- Mouse event pass-through to embedded terminal\n\nThis is an advanced widget that may require external dependencies.\n\nOriginal: lib/widgets/terminal.js","status":"open","priority":3,"issue_type":"task","owner":"jeremy.ryan.stover@gmail.com","created_at":"2026-02-01T12:00:06.609847608-05:00","created_by":"Jeremy Stover","updated_at":"2026-02-01T12:00:06.609847608-05:00","dependencies":[{"issue_id":"blessed-zrt.4","depends_on_id":"blessed-zrt","type":"parent-child","created_at":"2026-02-01T12:00:06.610791747-05:00","created_by":"Jeremy Stover"}]}
